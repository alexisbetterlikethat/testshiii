local Tbl = table; local Str = string; local Mth = math; local LoadF = load; local Io = io; local B64_CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" local B64_MAP = {} for i=1,(36123 - 36059) do B64_MAP[Str.sub(B64_CHARS, i, i)] = i - 1 end nfHxLMd = function(data) data = Str.gsub(data, '[^'..B64_CHARS..'=]', '') local M = B64_MAP return ( Str.gsub(data, '(....)', function (s) local a, b, c, d = M[Str.sub(s,1,1)], M[Str.sub(s,2,2)], M[Str.sub(s,3,3)], M[Str.sub(s,4,4)] return Str.char(Mth.floor(a*4 + b/(22813 - 22797)), Mth.floor(b%(10817 + -10801)*(89164 - 89148) + c/4), Mth.floor(c%4*(48105 - 48041) + d)) end) ) end cAncUPvDf = function(chunks) return Tbl.concat(chunks) end ZACemZ = function(data) local decoded_data = nfHxLMd(data) local func, err = LoadF(decoded_data, "=PACKED_CHUNK", 'b') if not func then error('Binary Load Error: '..tostring(err)) end return func end local function DECODE_CHAIN(data) local type_key, raw_data = Str.match(data, "([^:]+):(.*)") if type_key == "b64" then return nfHxLMd(raw_data) elseif type_key == "bin" then return ZACemZ(raw_data) end return data end local function CHAIN_RESOLVE(data) local current_data = data local next_data = DECODE_CHAIN(current_data) if type(next_data) == 'function' then return next_data end while next_data ~= current_data do local _, type_check = Str.match(next_data, "([^:]+):(.*)") if type_check then current_data = next_data next_data = DECODE_CHAIN(current_data) else return next_data end end return next_data end IkenkSg = CHAIN_RESOLVE

        local FULL_CODE_FUNCTION = (function(OoFMmfUjG, rXZvsZ, UfCRNxB)
    local _R = OoFMmfUjG
    local _A = UfCRNxB
    if _R and _A then
        return _R(_A)
    else
        return nil
    end
end)(IkenkSg, (33869 - 33815), 'b64:' .. cAncUPvDf({[1]='bG9jYWwgSVhJam9WYlJHID0gX0c7CmxvY2FsIEl5ZFRITyA9IGlvOwpsb2NhbCBMQXNuZHhyV3hJID0gZ2V0ZmVudjsKbG9jYWwgTGltQkVlYWggPSBtYXRoOwpsb2NhbCBNdlRjbVdsID0gc3RyaW5nOwpsb2NhbCBnQWtMd2lPWCA9IG9zOwpsb2NhbCBua2hCY2l6bXUgPSB0YWJsZTsKLS1BTlRJIEtJQ0sgJiBCQUMgQllQQVNTICYgQURPTklTIEJZUEFTUwpfRy5FRF9BbnRpS2ljayA9IF9HLkVEX0FudGlLaWNrIG9yIHtFbmFibGVkID0gdHJ1ZX0KCi0tIFdlYmhvb2sgTG9nZ2luZwp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIGxvY2FsIHdlYmhvb2tVcmwgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZJVWpCalNFMDJUSGs1YTJGWVRtcGlNMHByVEcxT2RtSlRPV2hqUjJ0MlpESldhV0ZIT1haaE0wMTJUVlJSTUUxVWEzZE9SRWt4VFhwSk5VMUVWVEJPVkVsNlRYazVWR1JXUW5waU1uY3lWRlZaTTJKRlNtbGhTR1JwWTBWR1NWa3dNVVZhYWtaNldqQjBiVlI2VW1oVlJWb3dZMVU1YlZwSFNteFdWMDQwWVc1V2FHVnJiR0ZVUjNoWlVsaFJkRk5IY0ZSVFYxcHZUMWhvVUdJd01XNVhaejA5JykpKSkKICAgIGxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1WTNjOVBRPT0nKSkpKSkKICAgIGxvY2FsIHBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIGxvY2FsIGh0dHAgPSBnYW1lOkdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVVqQmpSazVzWTI1YWNGa3lWVDA9JykpKSkpCiAgICAKICAgIC0tIFJvYnVzdCBSZXF1ZXN0IEZ1bmN0aW9uCiAgICBsb2NhbCBmdW5jdGlvbiBzYWZlUmVxdWVzdChvcHRpb25zKQogICAgICAgIGxvY2FsIHJlcSA9IChzeW4gYW5kIHN5bi5yZXF1ZXN0KSBvciAoaHR0cCBhbmQgaHR0cC5yZXF1ZXN0KSBvciBodHRwX3JlcXVlc3Qgb3IgKGZsdXh1cyBhbmQgZmx1eHVzLnJlcXVlc3QpIG9yIHJlcXVlc3QKICAgICAgICBpZiByZXEgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICByZXEob3B0aW9ucykKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgcGZwID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21GSVVqQmpTRTAyVEhrNU0yUXpZM1ZqYlRscFlrYzVORXh0VG5aaVV6bHZXbGRHYTJNeWFIWmtRekV3WVVoV2RGbHROV2hoVjNkMllWY3hhRm95VlM5a1dFNXNZMnRzYTFCUlBUMD0nKSkpKSAuLiBwbGF5ZXIuVXNlcklkIC4uIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9rcHVaSEJhU0ZKdlVGUlJlVTFEV205YVYyeHVZVWhST1U1RVNYZEtiVnAyWTIweGFHUkVNWGRpYldNOScpKSkpCiAgICBsb2NhbCB0aW1lID0gZ0FrTHdpT1guZGF0ZSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPa3BXYTNSS1Z6QjBTbGRSWjBwVlp6WktWVEEyU2xaTlBRPT0nKSkpKSkKICAgIAogICAgbG9jYWwgZW1iZWQgPSB7CiAgICAgICAgWyhJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhiREJpUjFVOScpKSkpXSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWlhOWEJrYlZaNVl6SkdjMGxHVG1wamJXeDNaRU5DUm1WSFZtcGtXRkpzV2tFOVBRPT0nKSkpKSwKICAgICAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwSFZucFpNMHB3WTBoU2NHSXlORDA9JykpKSldID0gcGxheWVyLk5hbWUgLi4gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2tsSGFHaGplVUpzWlVkV2FtUllVbXhhUTBFOScpKSkpIC4uIHRpbWUsCiAgICAgICAgWyhJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sa3lPWE5pTTBrOScpKSkpXSA9IDY1MjgwLAogICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHB0Ykd4aVIxSjYnKSkpKV0gPSB7CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUp0Um5SYVVUMDknKSkpKV0gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpZVG14alp6MDknKSkpKSwKICAgICAgICAgICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJ0Um5Oa1YxVTknKSkpKV0gPSBwbGF5ZXIuTmFtZSwKICAgICAgICAgICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZYTlhOaFZ6VnMnKSkpKV0gPSB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUp0Um5SYVVUMDknKSkpKV0gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIYkhSYVVUMDknKSkpKSwKICAgICAgICAgICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJ0Um5Oa1YxVTknKSkpKV0gPSB0aW1lLAogICAgICAgICAgICAgICAgWyhJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tRlhOWE5oVnpWcycpKSkpXSA9IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgWyhJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tSnRSblJhVVQwOScpKSkpXSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSXlSblJhVTBKS1VrRTlQUT09JykpKSksCiAgICAgICAgICAgICAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SdFJuTmtWMVU5JykpKSldID0gdG9zdHJpbmcoZ2FtZS5QbGFjZUlkKSwKICAgICAgICAgICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZYTlhOaFZ6VnMnKSkpKV0gPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIYURGaVYwcDFXVmRzY3c9PScpKSkpXSA9IHsKICAgICAgICAgICAgWyhJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUllTbk09JykpKSldID0gcGZwCiAgICAgICAgfQogICAgfQoKICAgIGxvY2FsIHBheWxvYWQgPSBodHRwOkpTT05FbmNvZGUoewogICAgICAgIFsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJZVG14amJUVm9ZbGRWUFE9PScpKSkpXSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRlhWbmxpZVVKSlpGZEpaMVJIT1c1YU1sWjUnKSkpKSwKICAgICAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwWE1XbGFWMUo2JykpKSldID0ge2VtYmVkfQogICAgfSkKCiAgICBzYWZlUmVxdWVzdCh7CiAgICAgICAgVXJsID0gd2ViaG9va1VybCwKICAgICAgICBNZXRob2QgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZGT1ZSV1FUMDknKSkpKSwKICAgICAgICBIZWFkZXJzID0gewogICAgICAgICAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeU9YVmtSMVoxWkVNeFZXVllRbXc9JykpKSldID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xsWVFuZGlSMnhxV1ZoU2NHSXlOSFpoYms1MlltYzlQUT09JykpKSkKICAgICAgICB9LAogICAgICAgIEJvZHkgPSBwYXlsb2FkCiAgICB9KQplbmQpCgotLSBBZHZhbmNlZCBBZG9uaXMgQnlwYXNzCmRvCiAgICBsb2NhbCBnZXRpbmZvID0gZ2V0aW5mbyBvciBkZWJ1Zy5nZXRpbmZvCiAgICBsb2NhbCBERUJVRyA9IGZhbHNlCiAgICBsb2NhbCBIb29rZWQgPSB7fQogICAgbG9jYWwgRGV0ZWN0ZWQsIEtpbGwKICAgIAogICAgc2V0dGhyZWFkaWRlbnRpdHkoMikKICAgIAogICAgZm9yIGksIHYgaW4gZ2V0Z2ModHJ1ZSkgZG8KICAgICAgICBpZiB0eXBlb2YodikgPT0gKElrZW5r', [2]='U2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbgogICAgICAgICAgICBsb2NhbCBEZXRlY3RGdW5jID0gcmF3Z2V0KHYsIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSkhWakJhVjA0d1dsZFJQUT09JykpKSkpCiAgICAgICAgICAgIGxvY2FsIEtpbGxGdW5jID0gcmF3Z2V0KHYsIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTXliSE5pUVQwOScpKSkpKQogICAgICAgIAogICAgICAgICAgICBpZiB0eXBlb2YoRGV0ZWN0RnVuYykgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwdVZuVlpNMUp3WWpJMFBRPT0nKSkpKSBhbmQgbm90IERldGVjdGVkIHRoZW4KICAgICAgICAgICAgICAgIERldGVjdGVkID0gRGV0ZWN0RnVuYwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsb2NhbCBPbGQ7IE9sZCA9IGhvb2tmdW5jdGlvbihEZXRlY3RlZCwgZnVuY3Rpb24oQWN0aW9uLCBJbmZvLCBOb0NyYXNoKQogICAgICAgICAgICAgICAgICAgIGlmIEFjdGlvbiB+PSAiXyIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiBERUJVRyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sY3dSbXRpTWpWd1l6RXdaMUp0ZUdoYU1tUnNXa05CZEVsRk1XeGtSMmgyV2tSdlp3PT0nKSkpKS4udG9zdHJpbmcoQWN0aW9uKS4uKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2tsRmJIVmFiVGcyU1VFOVBRPT0nKSkpKS4udG9zdHJpbmcoSW5mbykpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgICAgICBlbmQpCiAgICAKICAgICAgICAgICAgICAgIG5raEJjaXptdS5pbnNlcnQoSG9va2VkLCBEZXRlY3RlZCkKICAgICAgICAgICAgZW5kCiAgICAKICAgICAgICAgICAgaWYgcmF3Z2V0KHYsIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWnRSbmxoVjBacFlrZFdlZz09JykpKSkpIGFuZCByYXdnZXQodiwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSVNuWlpNbFo2WTNjOVBRPT0nKSkpKSkgYW5kIHR5cGVvZihLaWxsRnVuYykgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwdVZuVlpNMUp3WWpJMFBRPT0nKSkpKSBhbmQgbm90IEtpbGwgdGhlbgogICAgICAgICAgICAgICAgS2lsbCA9IEtpbGxGdW5jCiAgICAgICAgICAgICAgICBsb2NhbCBPbGQ7IE9sZCA9IGhvb2tmdW5jdGlvbihLaWxsLCBmdW5jdGlvbihJbmZvKQogICAgICAgICAgICAgICAgICAgIGlmIERFQlVHIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgd2FybigoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbGN3Um10aU1qVndZekV3WjFNeWJITmlRMEpvWkVoU2JHSllRakJKUjBwellqSk9jbHBYVVRaSlFUMDknKSkpKS4udG9zdHJpbmcoSW5mbykpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQpCiAgICAKICAgICAgICAgICAgICAgIG5raEJjaXptdS5pbnNlcnQoSG9va2VkLCBLaWxsKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICBsb2NhbCBPbGQ7IE9sZCA9IGhvb2tmdW5jdGlvbihnZXRyZW52KCkuZGVidWcuaW5mbywgbmV3Y2Nsb3N1cmUoZnVuY3Rpb24oLi4uKQogICAgICAgIGxvY2FsIExldmVsT3JGdW5jLCBJbmZvID0gLi4uCiAgICAKICAgICAgICBpZiBEZXRlY3RlZCBhbmQgTGV2ZWxPckZ1bmMgPT0gRGV0ZWN0ZWQgdGhlbgogICAgICAgICAgICBpZiBERUJVRyB0aGVuCiAgICAgICAgICAgICAgICB3YXJuKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sY3dSbXRpTWpWd1l6RXdaMVV5Um5WaFdGSTFTVWRPYjFwWFRuSkpSMHB6WWpKT2NscFhVVDA9JykpKSkpCiAgICAgICAgICAgIGVuZAogICAgCiAgICAgICAgICAgIHJldHVybiBjb3JvdXRpbmUueWllbGQoY29yb3V0aW5lLnJ1bm5pbmcoKSkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICByZXR1cm4gT2xkKC4uLikKICAgIGVuZCkpCiAgICAKICAgIHNldHRocmVhZGlkZW50aXR5KDcpCiAgICAKICAgIC0tIEFkZGl0aW9uYWwgbWV0YW1ldGhvZCBwcm90ZWN0aW9uCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgbXQgPSBnZXRyYXdtZXRhdGFibGUoZ2FtZSkKICAgICAgICBzZXRyZWFkb25seShtdCwgZmFsc2UpCiAgICAgICAgCiAgICAgICAgbG9jYWwgb2xkTmFtZWNhbGwgPSBtdC5fX25hbWVjYWxsCiAgICAgICAgbG9jYWwgb2xkSW5kZXggPSBtdC5fX2luZGV4CiAgICAgICAgCiAgICAgICAgbXQuX19uYW1lY2FsbCA9IG5ld2NjbG9zdXJlKGZ1bmN0aW9uKHNlbGYsIC4uLikKICAgICAgICAgICAgbG9jYWwgbWV0aG9kID0gZ2V0bmFtZWNhbGxtZXRob2QoKQogICAgICAgICAgICBsb2NhbCBhcmdzID0gey4uLn0KICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIEJsb2NrIGtpY2sgbWV0aG9kCiAgICAgICAgICAgIGlmIG1ldGhvZCA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE15YkdwaGR6MDknKSkpKSB0aGVuCiAgICAgICAgICAgICAgICB3YXJuKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sY3dTazFVTUU1TVVsVlNaRWxGZEhCWk1uTm5XVmhTTUZwWE1YZGtRMEoyWW1sQlBRPT0nKSkpKS4udG9zdHJpbmcoc2VsZikpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBCbG9jayB0ZWxlcG9ydCBraWNrcwogICAgICAgICAgICBpZiBtZXRob2QgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZuTmFXRUoyWTI1U1ZXSXhRbk5aVjA1c1UxYzFlbVJIUm5WWk1sVTknKSkpKSB0aGVuCiAgICAgICAgICAgICAgICB3YXJuKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sY3dTazFVTUU1TVVsVlNaRWxHVW14aVIxWjNZak5LTUVsSGRIQlpNbk5uV1ZoU01GcFhNWGRrUVQwOScpKSkpKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0gQmxvY2sgc3BlY2lmaWMgYW50aS1jaGVhdCByZW1vdGVzCiAgICAgICAgICAgIGlmIG1ldGhvZCA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0YkhsYVZrNXNZMjVhYkdOblBUMD0nKSkpKSBvciBtZXRob2QgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOWE5USmlNblJzVlRKV2VXUnRWbms9JykpKSkgdGhlbgogICAgICAgICAgICAgICAgaWYgdHlwZW9mKHNlbGYpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTlhOWHBrUjBaMVdUSlZQUT09JykpKSkgYW5kIGNoZWNrY2FsbGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICBpZiBub3QgY2hlY2tjYWxsZXIoKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIG5hbWUgPSBzZWxmLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgLS0gQmxvY2sgYW50aS1jaGVhdCByZW1vdGVzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5hbWUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGclJrUT0nKSkpKSBvciBuYW1lID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRlhOVEJoVlU1dldsZEdNQT09JykpKSkgb3IgbmFtZSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpIVmpCYVYwNHdXbGRSUFE9PScpKSkpIG9yIAog', [3]='ICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSnRlR2hhTVVKeldWaHNiR05uUFQwPScpKSkpIG9yIG5hbWUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdFJuVlZSM2hvWlZkV2VRPT0nKSkpKSBvciBuYW1lID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTXliR3BoTVVKeldWaHNiR05uUFQwPScpKSkpIG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSSE9XNVZSM2hvWlZkV2VRPT0nKSkpKSBvciBuYW1lID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRWbmRpTTBvd1ZVZDRhR1ZYVm5rPScpKSkpIG9yIG5hbWUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWFVuUmhWelZUV2xjeGRtUkhWVDA9JykpKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybigoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbGN3U2sxVU1FNU1VbFZTWkVsRlJuVmtSMnQwV1RKb2JGbFlVV2RqYlZaMFlqTlNiRTlwUVQwPScpKSkpLi5uYW1lKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLS0gQmxvY2sgQWRvbmlzIHJlbW90ZXMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbmFtZTptYXRjaCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEZYVW5aaWJXeDYnKSkpKSkgb3IgbmFtZTptYXRjaCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0Vm5SaU0xSnMnKSkpKSkgYW5kICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpIVmpCYVYwNHdXbGRSUFE9PScpKSkpIG9yIGFyZ3NbMV0gPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xNeWJHcGhkejA5JykpKSkgb3IgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0gPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdFJuVT0nKSkpKSBvciBhcmdzWzFdID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXpTbWhqTW1jOScpKSkpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sY3dTazFVTUU1TVVsVlNaRWxGUm10aU1qVndZM2xDZVZwWE1YWmtSMVUyU1VFOVBRPT0nKSkpKS4ubmFtZS4uKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2tsSVpIQmtSMmRuV1ZoS2JrbEJQVDA9JykpKSkuLnRvc3RyaW5nKGFyZ3NbMV0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIG9sZE5hbWVjYWxsKHNlbGYsIC4uLikKICAgICAgICBlbmQpCiAgICAgICAgCiAgICAgICAgLS0gU3Bvb2YgcHJvcGVydGllcyB0aGF0IGFudGktY2hlYXRzIGNoZWNrCiAgICAgICAgbXQuX19pbmRleCA9IG5ld2NjbG9zdXJlKGZ1bmN0aW9uKHNlbGYsIGtleSkKICAgICAgICAgICAgaWYgc2VsZiA9PSBnYW1lIGFuZCAoa2V5ID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlPWGxhVldReFlWRTlQUT09JykpKSkgb3Iga2V5ID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlPWGxhVmtKb1dUSjBhRm95Vm5vPScpKSkpKSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICByZXR1cm4gb2xkSW5kZXgoc2VsZiwga2V5KQogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBzZXRyZWFkb25seShtdCwgdHJ1ZSkKICAgIGVuZCkKICAgIAogICAgLS0gRGlzYWJsZSBBZG9uaXMgY2xpZW50LXNpZGUgZGV0ZWN0aW9uCiAgICB0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgICAgICB3aGlsZSB0YXNrLndhaXQoMSkgZG8KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhnYW1lOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgb2JqOklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJIT1dwWlYzaFVXVE5LY0dOSVVUMD0nKSkpKSkgYW5kIChvYmouTmFtZTpsb3dlcigpOm1hdGNoKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sbFhVblppYld4NicpKSkpKSBvciBvYmouTmFtZTpsb3dlcigpOm1hdGNoKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sbFhOVEJoVVQwOScpKSkpKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBvYmouRGlzYWJsZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIG9iajpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKLS0gTG9hZCBMdW5hIEludGVyZmFjZSBTdWl0ZQpsb2NhbCBMdW5hID0gbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21GSVVqQmpTRTAyVEhrNWVWbFlZM1ZhTW13d1lVaFdhV1JZVG14amJVNTJZbTVTYkdKdVVYVlpNamwwVERBMWJGbHVWbk5aVXpGVVlqSmFNR1F5T1hsaE0wMTJWRWhXZFZsVE1VcGlibEpzWTIxYWFGa3lWWFJWTTFad1pFZFZkbUpYUm5wa1IxWjVURE5PZG1SWVNtcGFVelZ6WkZkRlBRPT0nKSkpKSkpKCkKCmxvY2FsIFV0aWxzID0ge30KCi0tIFNhZmUgc2VydmljZSBnZXR0ZXIgKGNsb25lcmVmIHN1cHBvcnQpCmZ1bmN0aW9uIFV0aWxzLmdldFNlcnZpY2Uoc2VydmljZU5hbWUpCiAgICBpZiBub3Qgc2VydmljZU5hbWUgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgCiAgICBsb2NhbCBzdWNjZXNzLCBzZXJ2aWNlID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHJldHVybiBnYW1lOkdldFNlcnZpY2Uoc2VydmljZU5hbWUpCiAgICBlbmQpCiAgICAKICAgIGlmIG5vdCBzdWNjZXNzIG9yIG5vdCBzZXJ2aWNlIHRoZW4KICAgICAgICByZXR1cm4gbmlsCiAgICBlbmQKICAgIAogICAgLS0gT25seSB1c2UgY2xvbmVyZWYgaWYgaXQgZXhpc3RzIGFuZCBzZXJ2aWNlIGlzIGEgdmFsaWQgSW5zdGFuY2UKICAgIGlmIGNsb25lcmVmIGFuZCB0eXBlb2Yoc2VydmljZSkgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOWE5YcGtSMFoxV1RKVlBRPT0nKSkpKSB0aGVuCiAgICAgICAgbG9jYWwgY2xvbmVTdWNjZXNzLCBjbG9uZWRTZXJ2aWNlID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICByZXR1cm4gY2xvbmVyZWYoc2VydmljZSkKICAgICAgICBlbmQpCiAgICAgICAgaWYgY2xvbmVTdWNjZXNzIGFuZCBjbG9uZWRTZXJ2aWNlIHRoZW4KICAgICAgICAgICAgcmV0dXJuIGNsb25lZFNlcnZpY2UKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICByZXR1cm4gc2VydmljZQplbmQKCmZ1bmN0aW9uIFV0aWxzLmRlZXBDb3B5KHRibCkKICAgIGlmIHR5cGUodGJsKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSB0aGVuIHJldHVybiB0YmwgZW5kCiAgICBsb2NhbCBjbG9uZWQgPSB7fQogICAgZm9yIGtleSwgdmFsdWUgaW4gcGFpcnMo', [4]='dGJsKSBkbwogICAgICAgIGlmIHR5cGUodmFsdWUpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4gY2xvbmVkW2tleV0gPSBVdGlscy5kZWVwQ29weSh2YWx1ZSkKICAgICAgICBlbHNlIGNsb25lZFtrZXldID0gdmFsdWUgZW5kCiAgICBlbmQKICAgIHJldHVybiBjbG9uZWQKZW5kCgpmdW5jdGlvbiBVdGlscy5kZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UpCiAgICBpZiB0eXBlKHRhcmdldCkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgb3IgdHlwZShzb3VyY2UpIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4gcmV0dXJuIHRhcmdldCBlbmQKICAgIGZvciBrZXksIHZhbHVlIGluIHBhaXJzKHNvdXJjZSkgZG8KICAgICAgICBpZiB0eXBlKHZhbHVlKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSBhbmQgdHlwZSh0YXJnZXRba2V5XSkgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbiBVdGlscy5kZWVwTWVyZ2UodGFyZ2V0W2tleV0sIHZhbHVlKQogICAgICAgIGVsc2UgdGFyZ2V0W2tleV0gPSB2YWx1ZSBlbmQKICAgIGVuZAogICAgcmV0dXJuIHRhcmdldAplbmQKCmZ1bmN0aW9uIFV0aWxzLmNvbG9yVG9UYWJsZShjb2xvcikKICAgIGlmIHR5cGVvZihjb2xvcikgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeU9YTmlNMGw2JykpKSkgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgcmV0dXJuIHtjb2xvci5SLCBjb2xvci5HLCBjb2xvci5CfQplbmQKCmZ1bmN0aW9uIFV0aWxzLnRhYmxlVG9Db2xvcih0YmwpCiAgICBpZiB0eXBlKHRibCkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbiByZXR1cm4gbmlsIGVuZAogICAgbG9jYWwgciwgZywgYiA9IHRvbnVtYmVyKHRibFsxXSksIHRvbnVtYmVyKHRibFsyXSksIHRvbnVtYmVyKHRibFszXSkKICAgIGlmIG5vdCByIG9yIG5vdCBnIG9yIG5vdCBiIHRoZW4gcmV0dXJuIG5pbCBlbmQKICAgIHJldHVybiBDb2xvcjMubmV3KG1hdGguY2xhbXAociwgMCwgMSksIG1hdGguY2xhbXAoZywgMCwgMSksIG1hdGguY2xhbXAoYiwgMCwgMSkpCmVuZAoKZnVuY3Rpb24gVXRpbHMuY2xhbXBOdW1iZXIodmFsdWUsIG1pblZhbHVlLCBtYXhWYWx1ZSwgZGVmYXVsdFZhbHVlKQogICAgaWYgdHlwZSh2YWx1ZSkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21KdVZuUlpiVlo1JykpKSkgdGhlbgogICAgICAgIGlmIGRlZmF1bHRWYWx1ZSB+PSBuaWwgdGhlbiByZXR1cm4gZGVmYXVsdFZhbHVlIGVuZAogICAgICAgIHJldHVybiBtaW5WYWx1ZQogICAgZW5kCiAgICByZXR1cm4gbWF0aC5jbGFtcCh2YWx1ZSwgbWluVmFsdWUsIG1heFZhbHVlKQplbmQKCi0tIFNlcnZpY2VzCmxvY2FsIEh0dHBTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVWpCalJrNXNZMjVhY0ZreVZUMD0nKSkpKSkKbG9jYWwgUGxheWVycyA9IFV0aWxzLmdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1WTNjOVBRPT0nKSkpKSkKbG9jYWwgUnVuU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdVZuVlZNbFo1Wkcxc2FscFJQVDA9JykpKSkpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBVdGlscy5nZXRTZXJ2aWNlKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWllUbXhqYTJ4MVkwaFdNRlV5Vm5sa2JXeHFXbEU5UFE9PScpKSkpKQpsb2NhbCBMaWdodGluZyA9IFV0aWxzLmdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSSGJHNWhTRkp3WW0xalBRPT0nKSkpKSkKbG9jYWwgVGVsZXBvcnRTZXJ2aWNlID0gVXRpbHMuZ2V0U2VydmljZSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVm5OYVdFSjJZMjVTVkZwWVNqSmhWMDVzJykpKSkpCmxvY2FsIFR3ZWVuU2VydmljZSA9IFV0aWxzLmdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSVpHeGFWelZVV2xoS01tRlhUbXc9JykpKSkpCmxvY2FsIFRlYW1zID0gVXRpbHMuZ2V0U2VydmljZSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVm1oaVdFMDknKSkpKSkKbG9jYWwgVmlydHVhbFVzZXIgPSBVdGlscy5nZXRTZXJ2aWNlKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWnRiSGxrU0Zab1lrWldlbHBZU1QwPScpKSkpKQpsb2NhbCBSZXBsaWNhdGVkU3RvcmFnZSA9IFV0aWxzLmdldFNlcnZpY2UoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFZuZGlSMnhxV1ZoU2JGcEdUakJpTTBwb1dqSlZQUT09JykpKSkpCgoKCgoKCgoKCgpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgQ2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIgYW5kIExvY2FsUGxheWVyLkNoYXJhY3RlciBvciBuaWwKbG9jYWwgSHVtYW5vaWQgPSBDaGFyYWN0ZXIgYW5kIENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkUlBRPT0nKSkpKSkgb3IgbmlsCmxvY2FsIFJvb3RQYXJ0ID0gQ2hhcmFjdGVyIGFuZCBDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpIG9yIG5pbApsb2NhbCBDYW1lcmEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQpsb2NhbCBsYXN0U2FmZVJhZ2VDRnJhbWUgPSBSb290UGFydCBhbmQgUm9vdFBhcnQuQ0ZyYW1lIG9yIENGcmFtZS5uZXcoKQoKaWYgUm9vdFBhcnQgdGhlbgogICAgbGFzdFNhZmVSYWdlQ0ZyYW1lID0gUm9vdFBhcnQuQ0ZyYW1lCmVuZAoKTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihjKQogICAgQ2hhcmFjdGVyID0gYwogICAgSHVtYW5vaWQgPSBjOldhaXRGb3JDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVm5SWlZ6VjJZVmRSUFE9PScpKSkpKQogICAgUm9vdFBhcnQgPSBjOldhaXRGb3JDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVm5SWlZ6VjJZVmRTVTJJeU9UQlZSMFo1WkVFOVBRPT0nKSkpKSkKICAgIGxhc3RTYWZlUmFnZUNGcmFtZSA9IFJvb3RQYXJ0IGFuZCBSb290UGFydC5DRnJhbWUgb3IgbGFzdFNhZmVSYWdlQ0ZyYW1lCmVuZCkKCndvcmtzcGFjZTpHZXRQcm9wZXJ0eUNoYW5nZWRTaWduYWwoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFelZubGpiVloxWkVWT2FHSlhWbmxaVVQwOScpKSkpKTpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGxvY2FsIG5ld0NhbWVyYSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCiAgICBpZiBuZXdDYW1lcmEgdGhlbgogICAgICAgIENhbWVyYSA9IG5ld0NhbWVyYQogICAgZW5kCmVuZCkKCi0tIFN0YXRlCmxvY2FsIHN0YXRlID0gewogICAgZmx5ID0gZmFsc2UsIGZseVNwZWVkID0gMSwgZmx5TW9kZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRnRPV3RsVmxwc1lrYzVhbUZZVWpVPScpKSkpLCBub2NsaXAgPSBmYWxzZSwgaW5mSnVtcCA9IGZhbHNlLAogICAgcmFnZU1vZGUgPSBmYWxzZSwKICAgIGNsaWNrVFAgPSBmYWxzZSwgY2xpY2tEZWxldGUgPSBmYWxz', [5]='ZSwgZXNwID0gZmFsc2UsIGFudGlBRksgPSBmYWxzZSwKICAgIGRlc2lyZWRXYWxrU3BlZWQgPSAxNiwKICAgIGRlc2lyZWRKdW1wUG93ZXIgPSA1MCwKICAgIGRlc2lyZWRHcmF2aXR5ID0gMTk2LAogICAgbXVzaWNTb3VuZCA9IG5pbCwKCiAgICByZWNvaWxDb250cm9sID0gZmFsc2UsCiAgICByZWNvaWxTdHJlbmd0aCA9IDUKfQpsb2NhbCBjb25uZWN0aW9ucyA9IHt9CmxvY2FsIGZseUNvbXBvbmVudHMgPSB7fQoKbG9jYWwgRmx5U3lzdGVtID0ge30KCmZ1bmN0aW9uIEZseVN5c3RlbS5kZXN0cm95Rmx5Q29tcG9uZW50cygpCiAgICBmb3Iga2V5LCBvYmplY3QgaW4gcGFpcnMoZmx5Q29tcG9uZW50cykgZG8KICAgICAgICBpZiB0eXBlb2Yob2JqZWN0KSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5YTlhwa1IwWjFXVEpWUFE9PScpKSkpIHRoZW4KICAgICAgICAgICAgb2JqZWN0OkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgICAgIGZseUNvbXBvbmVudHNba2V5XSA9IG5pbAogICAgZW5kCmVuZAoKZnVuY3Rpb24gRmx5U3lzdGVtLmNsZWFudXBGbHlTdGF0ZSgpCiAgICBpZiBjb25uZWN0aW9ucy5mbHkgdGhlbgogICAgICAgIGNvbm5lY3Rpb25zLmZseTpEaXNjb25uZWN0KCkKICAgICAgICBjb25uZWN0aW9ucy5mbHkgPSBuaWwKICAgIGVuZAogICAgaWYgY29ubmVjdGlvbnMuZmx5SW5wdXQxIHRoZW4KICAgICAgICBjb25uZWN0aW9ucy5mbHlJbnB1dDE6RGlzY29ubmVjdCgpCiAgICAgICAgY29ubmVjdGlvbnMuZmx5SW5wdXQxID0gbmlsCiAgICBlbmQKICAgIGlmIGNvbm5lY3Rpb25zLmZseUlucHV0MiB0aGVuCiAgICAgICAgY29ubmVjdGlvbnMuZmx5SW5wdXQyOkRpc2Nvbm5lY3QoKQogICAgICAgIGNvbm5lY3Rpb25zLmZseUlucHV0MiA9IG5pbAogICAgZW5kCiAgICBGbHlTeXN0ZW0uZGVzdHJveUZseUNvbXBvbmVudHMoKQogICAgaWYgSHVtYW5vaWQgdGhlbgogICAgICAgIEh1bWFub2lkLlBsYXRmb3JtU3RhbmQgPSBmYWxzZQogICAgZW5kCiAgICBpZiBSb290UGFydCB0aGVuCiAgICAgICAgUm9vdFBhcnQuQXNzZW1ibHlMaW5lYXJWZWxvY2l0eSA9IFZlY3RvcjMuemVybwogICAgZW5kCmVuZAoKZnVuY3Rpb24gRmx5U3lzdGVtLmNyZWF0ZUZseUNvbnRyb2woKQogICAgcmV0dXJuIHsKICAgICAgICBmb3J3YXJkID0gMCwKICAgICAgICBiYWNrd2FyZCA9IDAsCiAgICAgICAgbGVmdCA9IDAsCiAgICAgICAgcmlnaHQgPSAwLAogICAgICAgIHVwID0gMCwKICAgICAgICBkb3duID0gMAogICAgfQplbmQKCmZ1bmN0aW9uIEZseVN5c3RlbS5iaW5kRmx5SW5wdXRzKGN0cmwpCiAgICBsb2NhbCBmdW5jdGlvbiBzZXRWYWx1ZShrZXlDb2RlLCB2YWx1ZSkKICAgICAgICBpZiBrZXlDb2RlID09IEVudW0uS2V5Q29kZS5XIHRoZW4KICAgICAgICAgICAgY3RybC5mb3J3YXJkID0gdmFsdWUKICAgICAgICBlbHNlaWYga2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUyB0aGVuCiAgICAgICAgICAgIGN0cmwuYmFja3dhcmQgPSB2YWx1ZQogICAgICAgIGVsc2VpZiBrZXlDb2RlID09IEVudW0uS2V5Q29kZS5BIHRoZW4KICAgICAgICAgICAgY3RybC5sZWZ0ID0gdmFsdWUKICAgICAgICBlbHNlaWYga2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRCB0aGVuCiAgICAgICAgICAgIGN0cmwucmlnaHQgPSB2YWx1ZQogICAgICAgIGVsc2VpZiBrZXlDb2RlID09IEVudW0uS2V5Q29kZS5FIHRoZW4KICAgICAgICAgICAgY3RybC51cCA9IHZhbHVlCiAgICAgICAgZWxzZWlmIGtleUNvZGUgPT0gRW51bS5LZXlDb2RlLlEgdGhlbgogICAgICAgICAgICBjdHJsLmRvd24gPSB2YWx1ZQogICAgICAgIGVuZAogICAgZW5kCgogICAgY29ubmVjdGlvbnMuZmx5SW5wdXQxID0gVXNlcklucHV0U2VydmljZS5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQogICAgICAgIGlmIGdwIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIGlmIFVzZXJJbnB1dFNlcnZpY2U6R2V0Rm9jdXNlZFRleHRCb3goKSB0aGVuIHJldHVybiBlbmQKICAgICAgICBpZiBpbnB1dC5Vc2VySW5wdXRUeXBlIH49IEVudW0uVXNlcklucHV0VHlwZS5LZXlib2FyZCB0aGVuIHJldHVybiBlbmQKICAgICAgICBzZXRWYWx1ZShpbnB1dC5LZXlDb2RlLCAxKQogICAgZW5kKQoKICAgIGNvbm5lY3Rpb25zLmZseUlucHV0MiA9IFVzZXJJbnB1dFNlcnZpY2UuSW5wdXRFbmRlZDpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQogICAgICAgIGlmIGlucHV0LlVzZXJJbnB1dFR5cGUgfj0gRW51bS5Vc2VySW5wdXRUeXBlLktleWJvYXJkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIHNldFZhbHVlKGlucHV0LktleUNvZGUsIDApCiAgICBlbmQpCmVuZAoKZnVuY3Rpb24gRmx5U3lzdGVtLmdldEZseUF4ZXMoY3RybCkKICAgIGxvY2FsIGZvcndhcmQgPSAoY3RybC5mb3J3YXJkIG9yIDApIC0gKGN0cmwuYmFja3dhcmQgb3IgMCkKICAgIGxvY2FsIHN0cmFmZSA9IChjdHJsLnJpZ2h0IG9yIDApIC0gKGN0cmwubGVmdCBvciAwKQogICAgbG9jYWwgdmVydGljYWwgPSAoY3RybC51cCBvciAwKSAtIChjdHJsLmRvd24gb3IgMCkKICAgIHJldHVybiBmb3J3YXJkLCBzdHJhZmUsIHZlcnRpY2FsCmVuZAoKZnVuY3Rpb24gRmx5U3lzdGVtLnN0YXJ0Qm9keVZlbG9jaXR5Rmx5KCkKICAgIGlmIG5vdCBSb290UGFydCBvciBub3QgUm9vdFBhcnQuUGFyZW50IHRoZW4KICAgICAgICBzdGF0ZS5mbHkgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgZW5kCgogICAgbG9jYWwgY3RybCA9IEZseVN5c3RlbS5jcmVhdGVGbHlDb250cm9sKCkKICAgIEZseVN5c3RlbS5iaW5kRmx5SW5wdXRzKGN0cmwpCgogICAgbG9jYWwgYmcgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdE9XdGxWV1ExWTIwNFBRPT0nKSkpKSkKICAgIGJnLlAgPSA5MDAwMAogICAgYmcuTWF4VG9ycXVlID0gVmVjdG9yMy5uZXcoOWU5LCA5ZTksIDllOSkKICAgIGJnLkNGcmFtZSA9IFJvb3RQYXJ0LkNGcmFtZQogICAgYmcuUGFyZW50ID0gUm9vdFBhcnQKICAgIGZseUNvbXBvbmVudHMuYm9keUd5cm8gPSBiZwoKICAgIGxvY2FsIGJ2ID0gSW5zdGFuY2UubmV3KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRnRPV3RsVmxwc1lrYzVhbUZZVWpVPScpKSkpKQogICAgYnYuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgYnYuVmVsb2NpdHkgPSBWZWN0b3IzLnplcm8KICAgIGJ2LlBhcmVudCA9IFJvb3RQYXJ0CiAgICBmbHlDb21wb25lbnRzLmJvZHlWZWxvY2l0eSA9IGJ2CgogICAgbG9jYWwgc3BlZWQgPSAwCgogICAgY29ubmVjdGlvbnMuZmx5ID0gUnVuU2VydmljZS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgaWYgbm90IHN0YXRlLmZseSB0aGVuCiAgICAgICAgICAgIEZseVN5c3RlbS5jbGVhbnVwRmx5U3RhdGUoKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBlbmQKCiAgICAgICAgaWYgbm90IFJvb3RQYXJ0IG9yIG5vdCBSb290UGFydC5QYXJlbnQgdGhlbgogICAgICAgICAgICBzdGF0ZS5mbHkgPSBmYWxzZQogICAgICAgICAgICBGbHlTeXN0ZW0uY2xlYW51cEZseVN0YXRlKCkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZW5kCgogICAgICAgIGxvY2FsIGNhbSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCiAgICAgICAgaWYgbm90IGNhbSB0aGVuIHJldHVybiBlbmQKCiAgICAgICAgaWYgSHVtYW5vaWQgdGhlbgogICAgICAgICAgICBIdW1hbm9pZC5QbGF0Zm9ybVN0', [6]='YW5kID0gdHJ1ZQogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCBmb3J3YXJkLCBzdHJhZmUsIHZlcnRpY2FsID0gRmx5U3lzdGVtLmdldEZseUF4ZXMoY3RybCkKICAgICAgICBsb2NhbCBoYXNJbnB1dCA9IGZvcndhcmQgfj0gMCBvciBzdHJhZmUgfj0gMCBvciB2ZXJ0aWNhbCB+PSAwCgogICAgICAgIGxvY2FsIGFjY2VsZXJhdGlvbiA9IG1hdGgubWF4KHN0YXRlLmZseVNwZWVkICogMywgMi41KQogICAgICAgIGxvY2FsIG1heFNwZWVkID0gbWF0aC5tYXgoc3RhdGUuZmx5U3BlZWQgKiA3MCwgNDUpCgogICAgICAgIGlmIGhhc0lucHV0IHRoZW4KICAgICAgICAgICAgc3BlZWQgPSBtYXRoLmNsYW1wKHNwZWVkICsgYWNjZWxlcmF0aW9uLCAwLCBtYXhTcGVlZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHNwZWVkID0gbWF0aC5tYXgoc3BlZWQgLSBhY2NlbGVyYXRpb24gKiAxLjgsIDApCiAgICAgICAgZW5kCgogICAgICAgIGxvY2FsIGhvcml6b250YWwgPSAoY2FtLkNGcmFtZS5Mb29rVmVjdG9yICogZm9yd2FyZCkgKyAoY2FtLkNGcmFtZS5SaWdodFZlY3RvciAqIHN0cmFmZSkKICAgICAgICBsb2NhbCBob3Jpem9udGFsVW5pdCA9IGhvcml6b250YWwuTWFnbml0dWRlID4gMCBhbmQgaG9yaXpvbnRhbC5Vbml0IG9yIFZlY3RvcjMuemVybwogICAgICAgIGxvY2FsIHZlcnRpY2FsVmVsb2NpdHkgPSB2ZXJ0aWNhbCAqIHN0YXRlLmZseVNwZWVkICogMzUKICAgICAgICBsb2NhbCB2ZWxvY2l0eSA9IGhvcml6b250YWxVbml0ICogc3BlZWQgKyBWZWN0b3IzLm5ldygwLCB2ZXJ0aWNhbFZlbG9jaXR5LCAwKQoKICAgICAgICBidi5WZWxvY2l0eSA9IHZlbG9jaXR5CiAgICAgICAgYmcuQ0ZyYW1lID0gY2FtLkNGcmFtZQogICAgZW5kKQplbmQKCmZ1bmN0aW9uIEZseVN5c3RlbS5zdGFydENGcmFtZUZseSgpCiAgICBpZiBub3QgUm9vdFBhcnQgb3Igbm90IFJvb3RQYXJ0LlBhcmVudCB0aGVuCiAgICAgICAgc3RhdGUuZmx5ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGxvY2FsIGN0cmwgPSBGbHlTeXN0ZW0uY3JlYXRlRmx5Q29udHJvbCgpCiAgICBGbHlTeXN0ZW0uYmluZEZseUlucHV0cyhjdHJsKQoKICAgIGNvbm5lY3Rpb25zLmZseSA9IFJ1blNlcnZpY2UuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oZHQpCiAgICAgICAgaWYgbm90IHN0YXRlLmZseSB0aGVuCiAgICAgICAgICAgIEZseVN5c3RlbS5jbGVhbnVwRmx5U3RhdGUoKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBlbmQKCiAgICAgICAgaWYgbm90IFJvb3RQYXJ0IG9yIG5vdCBSb290UGFydC5QYXJlbnQgdGhlbgogICAgICAgICAgICBzdGF0ZS5mbHkgPSBmYWxzZQogICAgICAgICAgICBGbHlTeXN0ZW0uY2xlYW51cEZseVN0YXRlKCkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZW5kCgogICAgICAgIGxvY2FsIGNhbSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCiAgICAgICAgaWYgbm90IGNhbSB0aGVuIHJldHVybiBlbmQKCiAgICAgICAgaWYgSHVtYW5vaWQgdGhlbgogICAgICAgICAgICBIdW1hbm9pZC5QbGF0Zm9ybVN0YW5kID0gdHJ1ZQogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCBmb3J3YXJkLCBzdHJhZmUsIHZlcnRpY2FsID0gRmx5U3lzdGVtLmdldEZseUF4ZXMoY3RybCkKICAgICAgICBsb2NhbCBob3Jpem9udGFsID0gKGNhbS5DRnJhbWUuTG9va1ZlY3RvciAqIGZvcndhcmQpICsgKGNhbS5DRnJhbWUuUmlnaHRWZWN0b3IgKiBzdHJhZmUpCiAgICAgICAgbG9jYWwgaG9yaXpvbnRhbFVuaXQgPSBob3Jpem9udGFsLk1hZ25pdHVkZSA+IDAgYW5kIGhvcml6b250YWwuVW5pdCBvciBWZWN0b3IzLnplcm8KCiAgICAgICAgbG9jYWwgaG9yaXpvbnRhbFNwZWVkID0gc3RhdGUuZmx5U3BlZWQgKiA0LjIKICAgICAgICBsb2NhbCB2ZXJ0aWNhbFNwZWVkID0gc3RhdGUuZmx5U3BlZWQgKiAzLjUKICAgICAgICBsb2NhbCBzdGVwRmFjdG9yID0gbWF0aC5jbGFtcChkdCAqIDYwLCAwLjUsIDEuNSkKCiAgICAgICAgbG9jYWwgbW90aW9uID0gaG9yaXpvbnRhbFVuaXQgKiBob3Jpem9udGFsU3BlZWQgKyBWZWN0b3IzLm5ldygwLCB2ZXJ0aWNhbCAqIHZlcnRpY2FsU3BlZWQsIDApCiAgICAgICAgaWYgbW90aW9uLk1hZ25pdHVkZSA+IDAgdGhlbgogICAgICAgICAgICBSb290UGFydC5DRnJhbWUgPSBSb290UGFydC5DRnJhbWUgKyAobW90aW9uICogc3RlcEZhY3RvcikKICAgICAgICBlbmQKCiAgICAgICAgUm9vdFBhcnQuQXNzZW1ibHlMaW5lYXJWZWxvY2l0eSA9IFZlY3RvcjMuemVybwogICAgICAgIFJvb3RQYXJ0LkFzc2VtYmx5QW5ndWxhclZlbG9jaXR5ID0gVmVjdG9yMy56ZXJvCiAgICBlbmQpCmVuZAoKZnVuY3Rpb24gRmx5U3lzdGVtLmJlZ2luRmx5KCkKICAgIEZseVN5c3RlbS5jbGVhbnVwRmx5U3RhdGUoKQogICAgaWYgbm90IHN0YXRlLmZseSB0aGVuCiAgICAgICAgcmV0dXJuCiAgICBlbmQKCiAgICBpZiBub3QgUm9vdFBhcnQgb3Igbm90IFJvb3RQYXJ0LlBhcmVudCB0aGVuCiAgICAgICAgc3RhdGUuZmx5ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGlmIHN0YXRlLmZseU1vZGUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFd1dubFpWekZzJykpKSkgdGhlbgogICAgICAgIEZseVN5c3RlbS5zdGFydENGcmFtZUZseSgpCiAgICBlbHNlCiAgICAgICAgRmx5U3lzdGVtLnN0YXJ0Qm9keVZlbG9jaXR5Rmx5KCkKICAgIGVuZAplbmQKbG9jYWwgZXNwQ29sb3IgPSBDb2xvcjMubmV3KDEsIDAsIDApCmxvY2FsIGVzcE91dGxpbmVDb2xvciA9IENvbG9yMy5uZXcoMSwgMSwgMSkKCmxvY2FsIENPTkZJR19GSUxFX05BTUUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEZYVm5saU1HZ3hXV3RPZG1KdFduQmFlVFZ4WXpJNWRRPT0nKSkpKQoKbG9jYWwgYnlwYXNzU2V0dGluZ3MgPSB7CiAgICBNb3ZlbWVudCA9IHRydWUsCiAgICBTaWxlbnRBaW0gPSB0cnVlLAogICAgRHJhd2luZ0VTUCA9IHRydWUKfQoKbG9jYWwgVmlzdWFsc1NldHRpbmdzID0gewogICAgRVNQID0gewogICAgICAgIEVuYWJsZWQgPSBmYWxzZSwKICAgICAgICBCb3ggPSBmYWxzZSwKICAgICAgICBCb3hDb2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCksCiAgICAgICAgQm94T3V0bGluZSA9IHRydWUsCiAgICAgICAgSGVhbHRoQmFyID0gZmFsc2UsCiAgICAgICAgU2tlbGV0b24gPSBmYWxzZSwKICAgICAgICBTa2VsZXRvbkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSksCiAgICAgICAgTmFtZSA9IGZhbHNlLAogICAgICAgIE5hbWVDb2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpLAogICAgICAgIERpc3RhbmNlID0gZmFsc2UsCiAgICAgICAgV2VhcG9uID0gZmFsc2UsCiAgICAgICAgVHJhY2VycyA9IGZhbHNlLAogICAgICAgIFRyYWNlckNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSwKICAgICAgICBUcmFjZXJPcmlnaW4gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEZ0T1RCa1J6bDAnKSkpKSwgLS0gQm90dG9tLCBDZW50ZXIsIE1vdXNlCiAgICAgICAgT2Zmc2NyZWVuQXJyb3dzID0gZmFsc2UsCiAgICAgICAgQXJyb3dDb2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCksCiAgICAgICAgQXJyb3dSYWRpdXMgPSAyMDAsCiAgICAgICAgVGVhbUNoZWNrID0gZmFsc2UsCiAgICAgICAgVGV4dFNpemUgPSAxMywKICAgICAgICBGb250ID0gMiAtLSBVSQogICAgfQp9CgoKCgoKbG9jYWwg', [7]='ZnVuY3Rpb24gbG9hZENvbmZpZygpCiAgICBpZiB0eXBlb2YoaXNmaWxlKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHB1Vm5WWk0xSndZakkwUFE9PScpKSkpIG9yIHR5cGVvZihyZWFkZmlsZSkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwdVZuVlpNMUp3WWpJMFBRPT0nKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuIG5pbAogICAgZW5kCiAgICBsb2NhbCBva0V4aXN0cywgZXhpc3RzID0gcGNhbGwoaXNmaWxlLCBDT05GSUdfRklMRV9OQU1FKQogICAgaWYgbm90IG9rRXhpc3RzIG9yIG5vdCBleGlzdHMgdGhlbgogICAgICAgIHJldHVybiBuaWwKICAgIGVuZAogICAgbG9jYWwgb2tSZWFkLCBjb250ZW50cyA9IHBjYWxsKHJlYWRmaWxlLCBDT05GSUdfRklMRV9OQU1FKQogICAgaWYgbm90IG9rUmVhZCBvciB0eXBlKGNvbnRlbnRzKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbU16VW5saFZ6VnUnKSkpKSBvciBjb250ZW50cyA9PSAiIiB0aGVuCiAgICAgICAgcmV0dXJuIG5pbAogICAgZW5kCiAgICBsb2NhbCBva0RlY29kZSwgZGVjb2RlZCA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2U6SlNPTkRlY29kZShjb250ZW50cykKICAgIGVuZCkKICAgIGlmIG9rRGVjb2RlIGFuZCB0eXBlKGRlY29kZWQpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gZGVjb2RlZAogICAgZW5kCiAgICByZXR1cm4gbmlsCmVuZAoKbG9jYWwgc2F2ZWRDb25maWcgPSBsb2FkQ29uZmlnKCkKCgoKbG9jYWwgcXVldWVDb25maWdTYXZlID0gZnVuY3Rpb24oKSBlbmQKCi0tIERldGVjdCBtb2JpbGUgZGV2aWNlCmxvY2FsIGlzTW9iaWxlRGV2aWNlID0gVXNlcklucHV0U2VydmljZS5Ub3VjaEVuYWJsZWQgYW5kIG5vdCBVc2VySW5wdXRTZXJ2aWNlLktleWJvYXJkRW5hYmxlZAoKLS0gSGVscGVyIEZ1bmN0aW9ucwpsb2NhbCBmdW5jdGlvbiBnZXRQbGF5ZXJOYW1lcygpCiAgICBsb2NhbCBuYW1lcyA9IHsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJ0T1hWYVVUMDknKSkpKX0KICAgIGZvciBfLCBwIGluIHBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgIGlmIHAgfj0gTG9jYWxQbGF5ZXIgdGhlbiBua2hCY2l6bXUuaW5zZXJ0KG5hbWVzLCBwLk5hbWUpIGVuZAogICAgZW5kCiAgICByZXR1cm4gbmFtZXMKZW5kCgpsb2NhbCBzZWN0aW9uCgotLSBJbml0aWFsaXplIFVJIGluIGEgZnVuY3Rpb24gdG8gcmVkdWNlIHJlZ2lzdGVyIHVzYWdlCi0tIENyZWF0ZSBMdW5hIFdpbmRvdwpsb2NhbCBXaW5kb3cgPSBMdW5hOkNyZWF0ZVdpbmRvdyh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWFZubGllVUpKWkZkSlBRPT0nKSkpKSwKICAgIFN1YnRpdGxlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaWE5YQmtiVlo1WXpKR2MwbEdUbXBqYld4M1pFTkJkRWxGU2taV1JVVTknKSkpKSwKICAgIExvZ29JRCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9rNXFRWHBOVkVFMVRucEplVTVSUFQwPScpKSkpLAogICAgTG9hZGluZ0VuYWJsZWQgPSB0cnVlLAogICAgTG9hZGluZ1RpdGxlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWFZubGllVUpKWkZkSlBRPT0nKSkpKSwKICAgIExvYWRpbmdTdWJ0aXRsZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUkhPV2hhUjJ4MVdubENWbUp0YkRKYVdFcDZXVmQzWjFVeVRubGhXRUl3VEdrMGRRPT0nKSkpKSwKICAgIENvbmZpZ1NldHRpbmdzID0gewogICAgICAgIFJvb3RGb2xkZXIgPSBuaWwsCiAgICAgICAgQ29uZmlnRm9sZGVyID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWFZubGlNR2d4V1djOVBRPT0nKSkpKQogICAgfSwKICAgIEtleVN5c3RlbSA9IGZhbHNlCn0pCgogICAgICAgICAgLS1IT01FIFRBQiB3aXRoIGRpc2NvcmQgcHJvbW90aW9ucy0tCiAgICBXaW5kb3c6Q3JlYXRlSG9tZVRhYih7CgkgU3VwcG9ydGVkRXhlY3V0b3JzID0gewoJCShJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTXpTblZpUVQwOScpKSkpLCAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFl5UmpKYVVUMDknKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWVNtcGFXRlo2U1VoblBRPT0nKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeU9XdGFXR2M5JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSkhWbk5rUjBVOScpKSkpLCAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0T1hWaFdHZHonKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xadE9YTlpNa1oxWW5jOVBRPT0nKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xadFZuTmlNazV3WkVoclBRPT0nKSkpKQogICAgfSwKCSBEaXNjb3JkSW52aXRlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWR1NuSmtWelV3WW10b2RGUlJQVDA9JykpKSksIC0tIFRoZSBEaXNjb3JkIEludml0ZSBMaW5rLiBEbyBOb3QgSW5jbHVkZSBkaXNjb3JkLmdnLyB8IE9ubHkgSW5jbHVkZSB0aGUgY29kZS4KCSBJY29uID0gMSwgLS0gQnkgRGVmYXVsdCwgVGhlIEljb24gSXMgVGhlIEhvbWUgSWNvbi4gSWYgWW91IHdvdWxkIGxpa2UgdG8gY2hhbmdlIGl0IHRvIGRhc2hib2FyZCwgcmVwbGFjZSB0aGUgaW50ZXJnZXIgd2l0aCAyCn0pCgoKCgoKLS0gPT09PT09PT09PSBDT01CQVQgVEFCID09PT09PT09PT0KbG9jYWwgQ29tYmF0VGFiID0gV2luZG93OkNyZWF0ZVRhYih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeU9YUlpiVVl3JykpKSksCiAgICBJY29uID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xveVJqSmFWM2M5JykpKSksCiAgICBJbWFnZVNvdXJjZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSakJhV0Vwd1dWZDNQUT09JykpKSkKfSkKCmxvY2FsIGRlZmF1bHRTaWxlbnRBaW0gPSB7CiAgICBFbmFibGVkID0gZmFsc2UsCiAgICBNb2RlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVFOVBRPT0nKSkpKSwKICAgIFRlYW1DaGVjayA9IGZhbHNlLAogICAgV2FsbENoZWNrID0gZmFsc2UsCiAgICBNYXhEaXN0YW5jZSA9IDEwMDAsCiAgICBUYXJnZXRQYXJ0ID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSFZtaGFRVDA5JykpKSksCiAgICBGT1ZSYWRpdXMgPSAyMDAsCiAgICBGT1ZWaXNpYmxlID0gZmFsc2UsCiAgICBTaG93VGFyZ2V0ID0gZmFsc2UsCiAgICBIaXRDaGFuY2UgPSAxMDAsCiAgICBQcmVkaWN0aW9uID0gZmFsc2UsCiAgICBQcmVkaWN0aW9uQW1vdW50ID0gMC4xMywKICAgIENhbWVyYUxvY2sgPSB7CiAgICAgICAgU21vb3RobmVzcyA9IDAuNSwKICAgICAgICBIb2xkVG9Mb2NrID0gZmFsc2UsCiAgICAgICAgSG9sZElucHV0ID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWE9URmpNbFZuVVc1V01HUkhPWFZKUkVrOScpKSkpLAogICAgICAgIEhvbGRSZWxlYXNlRHVyYXRpb24gPSAwLjI1LAogICAgICAgIFNlbnNpdGl2aXR5TXVsdGlwbGllciA9IDEKICAgIH0sCiAgICBUcmlnZ2VyYm90ID0gZmFsc2UsCiAgICBUcmlnZ2VyYm90RGVsYXkgPSAwLjA1LAogICAgVGFyZ2V0TW9kZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhPVEZqTWxVOScpKSkpIC0tIE1vdXNl', [8]='LCBEaXN0YW5jZQp9Cgpsb2NhbCBTaWxlbnRBaW0gPSBVdGlscy5kZWVwQ29weShkZWZhdWx0U2lsZW50QWltKQoKaWYgc2F2ZWRDb25maWcgYW5kIHR5cGUoc2F2ZWRDb25maWcuU2lsZW50QWltKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSB0aGVuCiAgICBVdGlscy5kZWVwTWVyZ2UoU2lsZW50QWltLCBzYXZlZENvbmZpZy5TaWxlbnRBaW0pCmVuZAoKaWYgdHlwZShTaWxlbnRBaW0uQ2FtZXJhTG9jaykgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbgogICAgU2lsZW50QWltLkNhbWVyYUxvY2sgPSBVdGlscy5kZWVwQ29weShkZWZhdWx0U2lsZW50QWltLkNhbWVyYUxvY2spCmVsc2UKICAgIFV0aWxzLmRlZXBNZXJnZShTaWxlbnRBaW0uQ2FtZXJhTG9jaywgZGVmYXVsdFNpbGVudEFpbS5DYW1lcmFMb2NrKQplbmQKCmlmIFNpbGVudEFpbS5Nb2RlIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlSblJhV0Vwb1NVVjRkbGt5Y3owPScpKSkpIHRoZW4KICAgIFNpbGVudEFpbS5Nb2RlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVFOVBRPT0nKSkpKQplbmQKClNpbGVudEFpbS5NYXhEaXN0YW5jZSA9IFV0aWxzLmNsYW1wTnVtYmVyKFNpbGVudEFpbS5NYXhEaXN0YW5jZSwgMTAwLCAzMDAwLCBkZWZhdWx0U2lsZW50QWltLk1heERpc3RhbmNlKQpTaWxlbnRBaW0uRk9WUmFkaXVzID0gVXRpbHMuY2xhbXBOdW1iZXIoU2lsZW50QWltLkZPVlJhZGl1cywgNTAsIDUwMCwgZGVmYXVsdFNpbGVudEFpbS5GT1ZSYWRpdXMpClNpbGVudEFpbS5IaXRDaGFuY2UgPSBVdGlscy5jbGFtcE51bWJlcihTaWxlbnRBaW0uSGl0Q2hhbmNlLCAwLCAxMDAsIGRlZmF1bHRTaWxlbnRBaW0uSGl0Q2hhbmNlKQpTaWxlbnRBaW0uUHJlZGljdGlvbkFtb3VudCA9IFV0aWxzLmNsYW1wTnVtYmVyKFNpbGVudEFpbS5QcmVkaWN0aW9uQW1vdW50LCAwLjAxLCAwLjUsIGRlZmF1bHRTaWxlbnRBaW0uUHJlZGljdGlvbkFtb3VudCkKU2lsZW50QWltLkNhbWVyYUxvY2suU21vb3RobmVzcyA9IFV0aWxzLmNsYW1wTnVtYmVyKFNpbGVudEFpbS5DYW1lcmFMb2NrLlNtb290aG5lc3MsIDAuMDEsIDMsIGRlZmF1bHRTaWxlbnRBaW0uQ2FtZXJhTG9jay5TbW9vdGhuZXNzKQpTaWxlbnRBaW0uQ2FtZXJhTG9jay5Ib2xkUmVsZWFzZUR1cmF0aW9uID0gVXRpbHMuY2xhbXBOdW1iZXIoU2lsZW50QWltLkNhbWVyYUxvY2suSG9sZFJlbGVhc2VEdXJhdGlvbiwgMCwgMS41LCBkZWZhdWx0U2lsZW50QWltLkNhbWVyYUxvY2suSG9sZFJlbGVhc2VEdXJhdGlvbikKU2lsZW50QWltLkNhbWVyYUxvY2suU2Vuc2l0aXZpdHlNdWx0aXBsaWVyID0gVXRpbHMuY2xhbXBOdW1iZXIoU2lsZW50QWltLkNhbWVyYUxvY2suU2Vuc2l0aXZpdHlNdWx0aXBsaWVyLCAwLjA1LCAyLCBkZWZhdWx0U2lsZW50QWltLkNhbWVyYUxvY2suU2Vuc2l0aXZpdHlNdWx0aXBsaWVyKQoKbG9jYWwgcGVuZGluZ1Zpc3VhbFNldHRpbmdzID0ge30KCmlmIHNhdmVkQ29uZmlnIGFuZCB0eXBlKHNhdmVkQ29uZmlnLlZpc3VhbHMpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgIGxvY2FsIHZpc3VhbHMgPSBzYXZlZENvbmZpZy5WaXN1YWxzCiAgICBsb2NhbCBlc3BDb25maWcgPSB2aXN1YWxzLkVTUAogICAgaWYgdHlwZShlc3BDb25maWcpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgICAgICBpZiBlc3BDb25maWcuRW5hYmxlZCB+PSBuaWwgdGhlbgogICAgICAgICAgICBzdGF0ZS5lc3AgPSBlc3BDb25maWcuRW5hYmxlZCBhbmQgdHJ1ZSBvciBmYWxzZQogICAgICAgIGVuZAogICAgICAgIGxvY2FsIHJlc3RvcmVkRmlsbCA9IFV0aWxzLnRhYmxlVG9Db2xvcihlc3BDb25maWcuQ29sb3IpCiAgICAgICAgaWYgcmVzdG9yZWRGaWxsIHRoZW4KICAgICAgICAgICAgZXNwQ29sb3IgPSByZXN0b3JlZEZpbGwKICAgICAgICBlbmQKICAgICAgICBsb2NhbCByZXN0b3JlZE91dGxpbmUgPSBVdGlscy50YWJsZVRvQ29sb3IoZXNwQ29uZmlnLk91dGxpbmVDb2xvcikKICAgICAgICBpZiByZXN0b3JlZE91dGxpbmUgdGhlbgogICAgICAgICAgICBlc3BPdXRsaW5lQ29sb3IgPSByZXN0b3JlZE91dGxpbmUKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGZvdkNvbmZpZyA9IHZpc3VhbHMuRk9WQ2lyY2xlCiAgICBpZiB0eXBlKGZvdkNvbmZpZykgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbgogICAgICAgIGlmIHR5cGUoZm92Q29uZmlnLlZpc2libGUpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sbHRPWFppUjFab1ltYzlQUT09JykpKSkgdGhlbgogICAgICAgICAgICBTaWxlbnRBaW0uRk9WVmlzaWJsZSA9IGZvdkNvbmZpZy5WaXNpYmxlCiAgICAgICAgZW5kCiAgICAgICAgbG9jYWwgcmVzdG9yZWRGb3ZDb2xvciA9IFV0aWxzLnRhYmxlVG9Db2xvcihmb3ZDb25maWcuQ29sb3IpCiAgICAgICAgaWYgcmVzdG9yZWRGb3ZDb2xvciB0aGVuCiAgICAgICAgICAgIHBlbmRpbmdWaXN1YWxTZXR0aW5ncy5mb3ZDb2xvciA9IHJlc3RvcmVkRm92Q29sb3IKICAgICAgICBlbmQKICAgICAgICBpZiB0eXBlKGZvdkNvbmZpZy5SYWRpdXMpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tSnVWblJaYlZaNScpKSkpIHRoZW4KICAgICAgICAgICAgU2lsZW50QWltLkZPVlJhZGl1cyA9IFV0aWxzLmNsYW1wTnVtYmVyKGZvdkNvbmZpZy5SYWRpdXMsIDUwLCA1MDAsIFNpbGVudEFpbS5GT1ZSYWRpdXMpCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCB0YXJnZXRDb25maWcgPSB2aXN1YWxzLlRhcmdldEJveAogICAgaWYgdHlwZSh0YXJnZXRDb25maWcpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgICAgICBsb2NhbCByZXN0b3JlZFRhcmdldENvbG9yID0gVXRpbHMudGFibGVUb0NvbG9yKHRhcmdldENvbmZpZy5Db2xvcikKICAgICAgICBpZiByZXN0b3JlZFRhcmdldENvbG9yIHRoZW4KICAgICAgICAgICAgcGVuZGluZ1Zpc3VhbFNldHRpbmdzLnRhcmdldENvbG9yID0gcmVzdG9yZWRUYXJnZXRDb2xvcgogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGlmIHR5cGUodmlzdWFscy5BZHZhbmNlZEVTUCkgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbgogICAgICAgIFV0aWxzLmRlZXBNZXJnZShWaXN1YWxzU2V0dGluZ3MuRVNQLCB2aXN1YWxzLkFkdmFuY2VkRVNQKQogICAgICAgIC0tIFJlc3RvcmUgY29sb3JzIG1hbnVhbGx5IGFzIGRlZXBNZXJnZSBkb2Vzbid0IGhhbmRsZSB0YWJsZS0+Q29sb3IzIGNvbnZlcnNpb24gYXV0b21hdGljYWxseSBmb3IgYWxsIGZpZWxkcyBpZiB0aGV5IGFyZSBhcnJheXMKICAgICAgICBpZiB0eXBlKHZpc3VhbHMuQWR2YW5jZWRFU1AuQm94Q29sb3IpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4gVmlzdWFsc1NldHRpbmdzLkVTUC5Cb3hDb2xvciA9IFV0aWxzLnRhYmxlVG9Db2xvcih2aXN1YWxzLkFkdmFuY2VkRVNQLkJveENvbG9yKSBlbmQKICAgICAgICBpZiB0eXBlKHZpc3VhbHMuQWR2YW5jZWRFU1AuU2tlbGV0b25Db2xvcikgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2', [9]='NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbiBWaXN1YWxzU2V0dGluZ3MuRVNQLlNrZWxldG9uQ29sb3IgPSBVdGlscy50YWJsZVRvQ29sb3IodmlzdWFscy5BZHZhbmNlZEVTUC5Ta2VsZXRvbkNvbG9yKSBlbmQKICAgICAgICBpZiB0eXBlKHZpc3VhbHMuQWR2YW5jZWRFU1AuTmFtZUNvbG9yKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSB0aGVuIFZpc3VhbHNTZXR0aW5ncy5FU1AuTmFtZUNvbG9yID0gVXRpbHMudGFibGVUb0NvbG9yKHZpc3VhbHMuQWR2YW5jZWRFU1AuTmFtZUNvbG9yKSBlbmQKICAgICAgICBpZiB0eXBlKHZpc3VhbHMuQWR2YW5jZWRFU1AuVHJhY2VyQ29sb3IpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4gVmlzdWFsc1NldHRpbmdzLkVTUC5UcmFjZXJDb2xvciA9IFV0aWxzLnRhYmxlVG9Db2xvcih2aXN1YWxzLkFkdmFuY2VkRVNQLlRyYWNlckNvbG9yKSBlbmQKICAgICAgICBpZiB0eXBlKHZpc3VhbHMuQWR2YW5jZWRFU1AuQXJyb3dDb2xvcikgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbiBWaXN1YWxzU2V0dGluZ3MuRVNQLkFycm93Q29sb3IgPSBVdGlscy50YWJsZVRvQ29sb3IodmlzdWFscy5BZHZhbmNlZEVTUC5BcnJvd0NvbG9yKSBlbmQKICAgIGVuZAplbmQKCmlmIHNhdmVkQ29uZmlnIGFuZCB0eXBlKHNhdmVkQ29uZmlnLkNvbWJhdCkgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgdGhlbgogICAgaWYgdHlwZShzYXZlZENvbmZpZy5Db21iYXQuUmFnZU1vZGUpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sbHRPWFppUjFab1ltYzlQUT09JykpKSkgdGhlbgogICAgICAgIHN0YXRlLnJhZ2VNb2RlID0gc2F2ZWRDb25maWcuQ29tYmF0LlJhZ2VNb2RlCiAgICBlbmQKZW5kCgppZiBzYXZlZENvbmZpZyBhbmQgdHlwZShzYXZlZENvbmZpZy5CeXBhc3MpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgIGlmIHR5cGUoc2F2ZWRDb25maWcuQnlwYXNzLk1vdmVtZW50KSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbGx0T1haaVIxWm9ZbWM5UFE9PScpKSkpIHRoZW4KICAgICAgICBieXBhc3NTZXR0aW5ncy5Nb3ZlbWVudCA9IHNhdmVkQ29uZmlnLkJ5cGFzcy5Nb3ZlbWVudAogICAgZW5kCiAgICBpZiB0eXBlKHNhdmVkQ29uZmlnLkJ5cGFzcy5TaWxlbnRBaW0pID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sbHRPWFppUjFab1ltYzlQUT09JykpKSkgdGhlbgogICAgICAgIGJ5cGFzc1NldHRpbmdzLlNpbGVudEFpbSA9IHNhdmVkQ29uZmlnLkJ5cGFzcy5TaWxlbnRBaW0KICAgIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIGdldFRlYW1Gb3JQbGF5ZXIocGxheWVyKQogICAgaWYgbm90IHBsYXllciB0aGVuIHJldHVybiBuaWwgZW5kCiAgICBpZiBUZWFtcyB0aGVuCiAgICAgICAgZm9yIF8sIHRlYW0gaW4gaXBhaXJzKFRlYW1zOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHRlYW06SXNBKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWbWhpVVQwOScpKSkpKSBhbmQgdGVhbS5OYW1lID09IHBsYXllci5UZWFtQ29sb3IuTmFtZSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdGVhbQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgcmV0dXJuIHBsYXllci5UZWFtCmVuZAoKaWYgc2F2ZWRDb25maWcgYW5kIHR5cGUoc2F2ZWRDb25maWcuTW92ZW1lbnQpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgIGlmIHR5cGUoc2F2ZWRDb25maWcuTW92ZW1lbnQuV2Fsa1NwZWVkKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUp1Vm5SWmJWWjUnKSkpKSB0aGVuCiAgICAgICAgc3RhdGUuZGVzaXJlZFdhbGtTcGVlZCA9IFV0aWxzLmNsYW1wTnVtYmVyKHNhdmVkQ29uZmlnLk1vdmVtZW50LldhbGtTcGVlZCwgMTYsIDUwMCwgc3RhdGUuZGVzaXJlZFdhbGtTcGVlZCkKICAgIGVuZAogICAgaWYgdHlwZShzYXZlZENvbmZpZy5Nb3ZlbWVudC5KdW1wUG93ZXIpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tSnVWblJaYlZaNScpKSkpIHRoZW4KICAgICAgICBzdGF0ZS5kZXNpcmVkSnVtcFBvd2VyID0gVXRpbHMuY2xhbXBOdW1iZXIoc2F2ZWRDb25maWcuTW92ZW1lbnQuSnVtcFBvd2VyLCA1MCwgNTAwLCBzdGF0ZS5kZXNpcmVkSnVtcFBvd2VyKQogICAgZW5kCiAgICBpZiB0eXBlKHNhdmVkQ29uZmlnLk1vdmVtZW50LkdyYXZpdHkpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tSnVWblJaYlZaNScpKSkpIHRoZW4KICAgICAgICBzdGF0ZS5kZXNpcmVkR3Jhdml0eSA9IFV0aWxzLmNsYW1wTnVtYmVyKHNhdmVkQ29uZmlnLk1vdmVtZW50LkdyYXZpdHksIDAsIDE5Niwgc3RhdGUuZGVzaXJlZEdyYXZpdHkpCiAgICBlbmQKZW5kCgotLSBGT1YgQ2lyY2xlCmxvY2FsIGZ1bmN0aW9uIGNyZWF0ZURyYXdpbmcoa2luZCkKICAgIGlmIHR5cGVvZihEcmF3aW5nKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSBhbmQgdHlwZW9mKERyYXdpbmcubmV3KSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHB1Vm5WWk0xSndZakkwUFE9PScpKSkpIHRoZW4KICAgICAgICBsb2NhbCBvaywgb2JqZWN0ID0gcGNhbGwoRHJhd2luZy5uZXcsIGtpbmQpCiAgICAgICAgaWYgb2sgYW5kIG9iamVjdCB0aGVuCiAgICAgICAgICAgIHJldHVybiBvYmplY3QKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIHByb3h5ID0ge30KICAgIHByb3h5LlJlbW92ZSA9IGZ1bmN0aW9uKCkgZW5kCiAgICByZXR1cm4gc2V0bWV0YXRhYmxlKHByb3h5LCB7CiAgICAgICAgX19pbmRleCA9IGZ1bmN0aW9uKHRibCwga2V5KQogICAgICAgICAgICByZXR1cm4gcmF3Z2V0KHRibCwga2V5KQogICAgICAgIGVuZCwKICAgICAgICBfX25ld2luZGV4ID0gZnVuY3Rpb24odGJsLCBrZXksIHZhbHVlKQogICAgICAgICAgICByYXdzZXQodGJsLCBrZXksIHZhbHVlKQogICAgICAgIGVuZAogICAgfSkKZW5kCgpsb2NhbCBmb3ZDaXJjbGUgPSBjcmVhdGVEcmF3aW5nKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXliSGxaTW5ocycpKSkpKQpmb3ZDaXJjbGUuVGhpY2tuZXNzID0gMgpmb3ZDaXJjbGUuTnVtU2lkZXMgPSA2NApmb3ZDaXJjbGUuUmFkaXVzID0gMjAwCmZvdkNpcmNsZS5GaWxsZWQgPSBmYWxzZQpmb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCmZvdkNpcmNsZS5aSW5kZXggPSA5OTkKZm92Q2lyY2xlLlRyYW5zcGFyZW5jeSA9IDEKZm92Q2lyY2xlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCmlmIHBlbmRpbmdWaXN1YWxTZXR0aW5ncy5mb3ZDb2xvciB0aGVuCiAgICBmb3ZDaXJjbGUuQ29sb3IgPSBwZW5kaW5nVmlzdWFsU2V0dGluZ3MuZm92Q29sb3IKZW5kCgotLSBUYXJnZXQgQm94CmxvY2FsIHRhcmdldEJveCA9IGNyZWF0ZURyYXdpbmcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xVelJqRlpXRXBzJykpKSkpCnRhcmdldEJveC5WaXNpYmxlID0gZmFsc2UKdGFyZ2V0Qm94LlpJbmRleCA9IDk5OQp0YXJnZXRCb3guQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApCnRhcmdldEJveC5UaGlja25lc3MgPSAz', [10]='CnRhcmdldEJveC5TaXplID0gVmVjdG9yMi5uZXcoMjUsIDI1KQp0YXJnZXRCb3guRmlsbGVkID0gZmFsc2UKCmlmIHBlbmRpbmdWaXN1YWxTZXR0aW5ncy50YXJnZXRDb2xvciB0aGVuCiAgICB0YXJnZXRCb3guQ29sb3IgPSBwZW5kaW5nVmlzdWFsU2V0dGluZ3MudGFyZ2V0Q29sb3IKZW5kCgpsb2NhbCBmdW5jdGlvbiBnZXRTZXJpYWxpemFibGVTaWxlbnRBaW0oKQogICAgbG9jYWwgc2VyaWFsaXplZCA9IFV0aWxzLmRlZXBDb3B5KFNpbGVudEFpbSkKICAgIGlmIHR5cGUoc2VyaWFsaXplZC5DYW1lcmFMb2NrKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSB0aGVuCiAgICAgICAgc2VyaWFsaXplZC5DYW1lcmFMb2NrID0gVXRpbHMuZGVlcENvcHkoZGVmYXVsdFNpbGVudEFpbS5DYW1lcmFMb2NrKQogICAgZW5kCiAgICByZXR1cm4gc2VyaWFsaXplZAplbmQKCmxvY2FsIGZ1bmN0aW9uIGJ1aWxkQ29uZmlnU25hcHNob3QoKQogICAgbG9jYWwgc25hcHNob3QgPSB7CiAgICAgICAgU2lsZW50QWltID0gZ2V0U2VyaWFsaXphYmxlU2lsZW50QWltKCksCiAgICAgICAgVmlzdWFscyA9IHsKICAgICAgICAgICAgRVNQID0gewogICAgICAgICAgICAgICAgRW5hYmxlZCA9IHN0YXRlLmVzcCwKICAgICAgICAgICAgICAgIENvbG9yID0gVXRpbHMuY29sb3JUb1RhYmxlKGVzcENvbG9yKSwKICAgICAgICAgICAgICAgIE91dGxpbmVDb2xvciA9IFV0aWxzLmNvbG9yVG9UYWJsZShlc3BPdXRsaW5lQ29sb3IpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIEZPVkNpcmNsZSA9IHsKICAgICAgICAgICAgICAgIFZpc2libGUgPSBTaWxlbnRBaW0uRk9WVmlzaWJsZSwKICAgICAgICAgICAgICAgIENvbG9yID0gVXRpbHMuY29sb3JUb1RhYmxlKGZvdkNpcmNsZS5Db2xvciksCiAgICAgICAgICAgICAgICBSYWRpdXMgPSBTaWxlbnRBaW0uRk9WUmFkaXVzCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFRhcmdldEJveCA9IHsKICAgICAgICAgICAgICAgIENvbG9yID0gVXRpbHMuY29sb3JUb1RhYmxlKHRhcmdldEJveC5Db2xvcikKICAgICAgICAgICAgfSwKICAgICAgICAgICAgQWR2YW5jZWRFU1AgPSB7CiAgICAgICAgICAgICAgICBFbmFibGVkID0gVmlzdWFsc1NldHRpbmdzLkVTUC5FbmFibGVkLAogICAgICAgICAgICAgICAgQm94ID0gVmlzdWFsc1NldHRpbmdzLkVTUC5Cb3gsCiAgICAgICAgICAgICAgICBCb3hDb2xvciA9IFV0aWxzLmNvbG9yVG9UYWJsZShWaXN1YWxzU2V0dGluZ3MuRVNQLkJveENvbG9yKSwKICAgICAgICAgICAgICAgIEJveE91dGxpbmUgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLkJveE91dGxpbmUsCiAgICAgICAgICAgICAgICBIZWFsdGhCYXIgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLkhlYWx0aEJhciwKICAgICAgICAgICAgICAgIFNrZWxldG9uID0gVmlzdWFsc1NldHRpbmdzLkVTUC5Ta2VsZXRvbiwKICAgICAgICAgICAgICAgIFNrZWxldG9uQ29sb3IgPSBVdGlscy5jb2xvclRvVGFibGUoVmlzdWFsc1NldHRpbmdzLkVTUC5Ta2VsZXRvbkNvbG9yKSwKICAgICAgICAgICAgICAgIE5hbWUgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLk5hbWUsCiAgICAgICAgICAgICAgICBOYW1lQ29sb3IgPSBVdGlscy5jb2xvclRvVGFibGUoVmlzdWFsc1NldHRpbmdzLkVTUC5OYW1lQ29sb3IpLAogICAgICAgICAgICAgICAgRGlzdGFuY2UgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLkRpc3RhbmNlLAogICAgICAgICAgICAgICAgV2VhcG9uID0gVmlzdWFsc1NldHRpbmdzLkVTUC5XZWFwb24sCiAgICAgICAgICAgICAgICBUcmFjZXJzID0gVmlzdWFsc1NldHRpbmdzLkVTUC5UcmFjZXJzLAogICAgICAgICAgICAgICAgVHJhY2VyQ29sb3IgPSBVdGlscy5jb2xvclRvVGFibGUoVmlzdWFsc1NldHRpbmdzLkVTUC5UcmFjZXJDb2xvciksCiAgICAgICAgICAgICAgICBUcmFjZXJPcmlnaW4gPSBWaXN1YWxzU2V0dGluZ3MuRVNQLlRyYWNlck9yaWdpbiwKICAgICAgICAgICAgICAgIE9mZnNjcmVlbkFycm93cyA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuT2Zmc2NyZWVuQXJyb3dzLAogICAgICAgICAgICAgICAgQXJyb3dDb2xvciA9IFV0aWxzLmNvbG9yVG9UYWJsZShWaXN1YWxzU2V0dGluZ3MuRVNQLkFycm93Q29sb3IpLAogICAgICAgICAgICAgICAgQXJyb3dSYWRpdXMgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLkFycm93UmFkaXVzLAogICAgICAgICAgICAgICAgVGVhbUNoZWNrID0gVmlzdWFsc1NldHRpbmdzLkVTUC5UZWFtQ2hlY2ssCiAgICAgICAgICAgICAgICBUZXh0U2l6ZSA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuVGV4dFNpemUsCiAgICAgICAgICAgICAgICBGb250ID0gVmlzdWFsc1NldHRpbmdzLkVTUC5Gb250CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIENvbWJhdCA9IHsKICAgICAgICAgICAgUmFnZU1vZGUgPSBzdGF0ZS5yYWdlTW9kZQogICAgICAgIH0sCiAgICAgICAgTW92ZW1lbnQgPSB7CiAgICAgICAgICAgIFdhbGtTcGVlZCA9IHN0YXRlLmRlc2lyZWRXYWxrU3BlZWQsCiAgICAgICAgICAgIEp1bXBQb3dlciA9IHN0YXRlLmRlc2lyZWRKdW1wUG93ZXIsCiAgICAgICAgICAgIEdyYXZpdHkgPSBzdGF0ZS5kZXNpcmVkR3Jhdml0eQogICAgICAgIH0sCiAgICAgICAgQnlwYXNzID0gZGVlcENvcHkoYnlwYXNzU2V0dGluZ3MpCiAgICB9CiAgICByZXR1cm4gc25hcHNob3QKZW5kCgpsb2NhbCBmdW5jdGlvbiBzYXZlQ29uZmlnTm93KCkKICAgIGlmIHR5cGVvZih3cml0ZWZpbGUpIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9scHVWblZaTTFKd1lqSTBQUT09JykpKSkgdGhlbgogICAgICAgIHJldHVybgogICAgZW5kCiAgICBsb2NhbCBwYXlsb2FkID0gYnVpbGRDb25maWdTbmFwc2hvdCgpCiAgICBsb2NhbCBva0VuY29kZSwganNvbiA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2U6SlNPTkVuY29kZShwYXlsb2FkKQogICAgZW5kKQogICAgaWYgbm90IG9rRW5jb2RlIG9yIHR5cGUoanNvbikgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21NelVubGhWelZ1JykpKSkgdGhlbgogICAgICAgIHJldHVybgogICAgZW5kCiAgICBwY2FsbCh3cml0ZWZpbGUsIENPTkZJR19GSUxFX05BTUUsIGpzb24pCmVuZAoKbG9jYWwgcGVuZGluZ1NhdmVTY2hlZHVsZWQgPSBmYWxzZQoKcXVldWVDb25maWdTYXZlID0gZnVuY3Rpb24oKQogICAgaWYgdHlwZW9mKHdyaXRlZmlsZSkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwdVZuVlpNMUp3WWpJMFBRPT0nKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuCiAgICBlbmQKICAgIGlmIHBlbmRpbmdTYXZlU2NoZWR1bGVkIHRoZW4KICAgICAgICByZXR1cm4KICAgIGVuZAogICAgcGVuZGluZ1NhdmVTY2hlZHVsZWQgPSB0cnVlCiAgICB0YXNrLmRlbGF5KDAuMjUsIGZ1bmN0aW9uKCkKICAgICAgICBwZW5kaW5nU2F2ZVNjaGVkdWxlZCA9IGZhbHNlCiAgICAgICAgc2F2ZUNvbmZpZ05vdygpCiAgICBlbmQpCmVuZAoKbG9jYWwgZnVuY3Rpb24gZW5mb3JjZUh1bWFub2lkUHJvcGVydHkocHJvcGVydHlOYW1lLCBkZXNpcmVkVmFsdWUpCiAgICBpZiBub3QgSHVtYW5vaWQgb3IgdHlwZShkZXNpcmVkVmFsdWUpIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tSnVWblJaYlZaNScpKSkpIHRoZW4KICAgICAgICByZXR1cm4KICAgIGVuZAogICAgbG9jYWwgY3VycmVudCA9IEh1bWFub2lkW3Byb3BlcnR5TmFtZV0KICAgIGlmIHR5', [11]='cGUoY3VycmVudCkgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21KdVZuUlpiVlo1JykpKSkgYW5kIExpbUJFZWFoLmFicyhjdXJyZW50IC0gZGVzaXJlZFZhbHVlKSA+IDAuMDUgdGhlbgogICAgICAgIEh1bWFub2lkW3Byb3BlcnR5TmFtZV0gPSBkZXNpcmVkVmFsdWUKICAgIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIGJpbmRNb3ZlbWVudEJ5cGFzcygpCiAgICBpZiBjb25uZWN0aW9ucy53YWxrU3BlZWRCeXBhc3MgdGhlbgogICAgICAgIGNvbm5lY3Rpb25zLndhbGtTcGVlZEJ5cGFzczpEaXNjb25uZWN0KCkKICAgICAgICBjb25uZWN0aW9ucy53YWxrU3BlZWRCeXBhc3MgPSBuaWwKICAgIGVuZAogICAgaWYgY29ubmVjdGlvbnMuanVtcFBvd2VyQnlwYXNzIHRoZW4KICAgICAgICBjb25uZWN0aW9ucy5qdW1wUG93ZXJCeXBhc3M6RGlzY29ubmVjdCgpCiAgICAgICAgY29ubmVjdGlvbnMuanVtcFBvd2VyQnlwYXNzID0gbmlsCiAgICBlbmQKCiAgICBpZiBub3QgYnlwYXNzU2V0dGluZ3MuTW92ZW1lbnQgb3Igbm90IEh1bWFub2lkIHRoZW4KICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGVuZm9yY2VIdW1hbm9pZFByb3BlcnR5KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWXlSbk5oTVU1M1dsZFdhdz09JykpKSksIHN0YXRlLmRlc2lyZWRXYWxrU3BlZWQpCiAgICBlbmZvcmNlSHVtYW5vaWRQcm9wZXJ0eSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE51Vm5SalJrSjJaREpXZVE9PScpKSkpLCBzdGF0ZS5kZXNpcmVkSnVtcFBvd2VyKQoKICAgIGNvbm5lY3Rpb25zLndhbGtTcGVlZEJ5cGFzcyA9IEh1bWFub2lkOkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFl5Um5OaE1VNTNXbGRXYXc9PScpKSkpKTpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBlbmZvcmNlSHVtYW5vaWRQcm9wZXJ0eSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFl5Um5OaE1VNTNXbGRXYXc9PScpKSkpLCBzdGF0ZS5kZXNpcmVkV2Fsa1NwZWVkKQogICAgZW5kKQoKICAgIGNvbm5lY3Rpb25zLmp1bXBQb3dlckJ5cGFzcyA9IEh1bWFub2lkOkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE51Vm5SalJrSjJaREpXZVE9PScpKSkpKTpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBlbmZvcmNlSHVtYW5vaWRQcm9wZXJ0eSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE51Vm5SalJrSjJaREpXZVE9PScpKSkpLCBzdGF0ZS5kZXNpcmVkSnVtcFBvd2VyKQogICAgZW5kKQplbmQKCmxvY2FsIGZ1bmN0aW9uIGVuZm9yY2VHcmF2aXR5KCkKICAgIGlmIG5vdCBieXBhc3NTZXR0aW5ncy5Nb3ZlbWVudCBvciB0eXBlKHN0YXRlLmRlc2lyZWRHcmF2aXR5KSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUp1Vm5SWmJWWjUnKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuCiAgICBlbmQKICAgIGlmIExpbUJFZWFoLmFicyh3b3Jrc3BhY2UuR3Jhdml0eSAtIHN0YXRlLmRlc2lyZWRHcmF2aXR5KSA+IDAuMSB0aGVuCiAgICAgICAgd29ya3NwYWNlLkdyYXZpdHkgPSBzdGF0ZS5kZXNpcmVkR3Jhdml0eQogICAgZW5kCmVuZAoKbG9jYWwgZnVuY3Rpb24gYmluZEdyYXZpdHlCeXBhc3MoKQogICAgaWYgY29ubmVjdGlvbnMuZ3Jhdml0eUJ5cGFzcyB0aGVuCiAgICAgICAgY29ubmVjdGlvbnMuZ3Jhdml0eUJ5cGFzczpEaXNjb25uZWN0KCkKICAgICAgICBjb25uZWN0aW9ucy5ncmF2aXR5QnlwYXNzID0gbmlsCiAgICBlbmQKCiAgICBpZiBub3QgYnlwYXNzU2V0dGluZ3MuTW92ZW1lbnQgdGhlbgogICAgICAgIHJldHVybgogICAgZW5kCgogICAgZW5mb3JjZUdyYXZpdHkoKQogICAgY29ubmVjdGlvbnMuZ3Jhdml0eUJ5cGFzcyA9IHdvcmtzcGFjZTpHZXRQcm9wZXJ0eUNoYW5nZWRTaWduYWwoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xJelNtaGtiV3d3WlZFOVBRPT0nKSkpKSk6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgZW5mb3JjZUdyYXZpdHkoKQogICAgZW5kKQplbmQKCmxvY2FsIGZ1bmN0aW9uIHJlZnJlc2hNb3ZlbWVudEJ5cGFzcygpCiAgICBiaW5kTW92ZW1lbnRCeXBhc3MoKQogICAgYmluZEdyYXZpdHlCeXBhc3MoKQplbmQKCmxvY2FsIGNhbWVyYUhvbGRBY3RpdmUgPSBmYWxzZQpsb2NhbCBjYW1lcmFIb2xkT3B0aW9uTGlzdCA9IHsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJYT1RGak1sVm5VVzVXTUdSSE9YVkpSRWs5JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhPVEZqTWxWblVXNVdNR1JIT1hWSlJFVTknKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSSFZtMWtRMEpVWVVkc2JXUkJQVDA9JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRiRzVoU0ZGblZUSm9jRnB1VVQwPScpKSkpLCAiRSIsICJRIn0KbG9jYWwgY2FtZXJhSG9sZE9wdGlvbnMgPSB7CiAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWE9URmpNbFZuVVc1V01HUkhPWFZKUkVrOScpKSkpXSA9IHsga2luZCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWllUbXhqYTJ4MVkwaFdNRlpJYkhkYVVUMDknKSkpKSwgdmFsdWUgPSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24yIH0sCiAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWE9URmpNbFZuVVc1V01HUkhPWFZKUkVVOScpKSkpXSA9IHsga2luZCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWllUbXhqYTJ4MVkwaFdNRlpJYkhkYVVUMDknKSkpKSwgdmFsdWUgPSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIH0sCiAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSSFZtMWtRMEpVWVVkc2JXUkJQVDA9JykpKSldID0geyBraW5kID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xNeVZqVlJNamxyV2xFOVBRPT0nKSkpKSwgdmFsdWUgPSBFbnVtLktleUNvZGUuTGVmdFNoaWZ0IH0sCiAgICBbKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdGJHNWhTRkZuVlRKb2NGcHVVVDA9JykpKSldID0geyBraW5kID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xNeVZqVlJNamxyV2xFOVBRPT0nKSkpKSwgdmFsdWUgPSBFbnVtLktleUNvZGUuUmlnaHRTaGlmdCB9LAogICAgWyJFIl0gPSB7IGtpbmQgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE15VmpWUk1qbHJXbEU5UFE9PScpKSkpLCB2YWx1ZSA9IEVudW0uS2V5Q29kZS5FIH0sCiAgICBbIlEiXSA9IHsga2luZCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTXlWalZSTWpscldsRTlQUT09JykpKSksIHZhbHVlID0gRW51bS5LZXlDb2RlLlEgfQp9CgppZiBub3QgY2FtZXJhSG9sZE9wdGlvbnNbU2lsZW50QWltLkNhbWVyYUxvY2suSG9sZElucHV0XSB0aGVuCiAgICBTaWxlbnRBaW0uQ2FtZXJhTG9jay5Ib2xkSW5wdXQgPSBkZWZhdWx0U2lsZW50QWltLkNhbWVyYUxvY2suSG9sZElucHV0CmVuZAoKcmVmcmVzaE1vdmVtZW50QnlwYXNzKCkKCmlmIEh1bWFub2lkIHRoZW4KICAgIEh1bWFub2lkLldhbGtTcGVlZCA9IHN0YXRlLmRlc2lyZWRXYWxrU3BlZWQKICAgIEh1bWFub2lkLkp1bXBQb3dlciA9IHN0YXRlLmRlc2lyZWRKdW1wUG93ZXIKZW5kCgp3b3Jrc3BhY2UuR3Jhdml0eSA9IHN0YXRlLmRlc2lyZWRHcmF2aXR5CmlmIGJ5cGFzc1NldHRpbmdzLk1vdmVtZW50IHRoZW4KICAgIGVuZm9yY2VHcmF2aXR5', [12]='KCkKZW5kCgpsb2NhbCBmdW5jdGlvbiBtYXRjaGVzQ2FtZXJhSG9sZElucHV0KGlucHV0KQogICAgbG9jYWwgZGVzY3JpcHRvciA9IGNhbWVyYUhvbGRPcHRpb25zW1NpbGVudEFpbS5DYW1lcmFMb2NrLkhvbGRJbnB1dF0KICAgIGlmIG5vdCBkZXNjcmlwdG9yIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgaWYgZGVzY3JpcHRvci5raW5kID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWllUbXhqYTJ4MVkwaFdNRlpJYkhkYVVUMDknKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuIGlucHV0LlVzZXJJbnB1dFR5cGUgPT0gZGVzY3JpcHRvci52YWx1ZQogICAgZWxzZWlmIGRlc2NyaXB0b3Iua2luZCA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE15VmpWUk1qbHJXbEU5UFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gaW5wdXQuS2V5Q29kZSA9PSBkZXNjcmlwdG9yLnZhbHVlCiAgICBlbmQKICAgIHJldHVybiBmYWxzZQplbmQKCmxvY2FsIGNhbWVyYUNvbnRyb2xzID0gewogICAgcmVsZWFzZVRva2VuID0gMCwKICAgIHNtb290aFNsaWRlciA9IG5pbCwKICAgIHNlbnNpdGl2aXR5U2xpZGVyID0gbmlsLAogICAgaG9sZFRvZ2dsZSA9IG5pbCwKICAgIGhvbGRSZWxlYXNlU2xpZGVyID0gbmlsLAogICAgaG9sZERyb3Bkb3duID0gbmlsCn0KCmxvY2FsIGZ1bmN0aW9uIGNhbmNlbENhbWVyYUhvbGRSZWxlYXNlKCkKICAgIGNhbWVyYUNvbnRyb2xzLnJlbGVhc2VUb2tlbiArPSAxCiAgICByZXR1cm4gY2FtZXJhQ29udHJvbHMucmVsZWFzZVRva2VuCmVuZAoKbG9jYWwgZnVuY3Rpb24gYWN0aXZhdGVDYW1lcmFIb2xkKCkKICAgIGNhbWVyYUhvbGRBY3RpdmUgPSB0cnVlCiAgICBjYW5jZWxDYW1lcmFIb2xkUmVsZWFzZSgpCmVuZAoKbG9jYWwgZnVuY3Rpb24gZGVhY3RpdmF0ZUNhbWVyYUhvbGQoKQogICAgY2FtZXJhSG9sZEFjdGl2ZSA9IGZhbHNlCiAgICBjYW5jZWxDYW1lcmFIb2xkUmVsZWFzZSgpCmVuZAoKbG9jYWwgZnVuY3Rpb24gc2NoZWR1bGVDYW1lcmFIb2xkUmVsZWFzZSgpCiAgICBsb2NhbCBkdXJhdGlvbiA9IG1hdGgubWF4KFNpbGVudEFpbS5DYW1lcmFMb2NrLkhvbGRSZWxlYXNlRHVyYXRpb24gb3IgMCwgMCkKICAgIGxvY2FsIHRva2VuID0gY2FuY2VsQ2FtZXJhSG9sZFJlbGVhc2UoKQogICAgaWYgZHVyYXRpb24gPD0gMCB0aGVuCiAgICAgICAgY2FtZXJhSG9sZEFjdGl2ZSA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICBlbmQKICAgIHRhc2suZGVsYXkoZHVyYXRpb24sIGZ1bmN0aW9uKCkKICAgICAgICBpZiBjYW1lcmFDb250cm9scy5yZWxlYXNlVG9rZW4gfj0gdG9rZW4gdGhlbgogICAgICAgICAgICByZXR1cm4KICAgICAgICBlbmQKICAgICAgICBjYW1lcmFIb2xkQWN0aXZlID0gZmFsc2UKICAgIGVuZCkKZW5kCgpsb2NhbCB2ZWxvY2l0eVRyYWNrZXIgPSB7fQpsb2NhbCB2ZWxvY2l0eUNsZWFudXBDb3VudGVyID0gMApsb2NhbCByYWdlVGFyZ2V0SG9sZFVudGlsID0gMApsb2NhbCByYWdlVGFyZ2V0Q29vbGRvd25VbnRpbCA9IDAKbG9jYWwgc3Bhd25Qcm90ZWN0aW9uQ29vbGRvd25zID0ge30KbG9jYWwgc3Bhd25Qcm90ZWN0aW9uRmlyc3RTZWVuID0ge30KbG9jYWwgcGxheWVySm9pblRpbWVzID0ge30KbG9jYWwgdHJhY2tlZFBsYXllcnMgPSB7fQpsb2NhbCBsYXN0UmFnZVRhcmdldEZvdW5kID0gb3MuY2xvY2soKQoKbG9jYWwgZnVuY3Rpb24gaGFuZGxlRW5lbXlDaGFyYWN0ZXJBZGRlZChwbGF5ZXIsIGNoYXJhY3RlcikKICAgIHNwYXduUHJvdGVjdGlvbkNvb2xkb3duc1twbGF5ZXJdID0gbmlsCiAgICBzcGF3blByb3RlY3Rpb25GaXJzdFNlZW5bcGxheWVyXSA9IG5pbAplbmQKCmxvY2FsIGZ1bmN0aW9uIG1hcmtSYWdlVGFyZ2V0TG9jaygpCiAgICBsYXN0UmFnZVRhcmdldEZvdW5kID0gb3MuY2xvY2soKQplbmQKCmxvY2FsIGZ1bmN0aW9uIHRyYWNrRW5lbXlQbGF5ZXIocGxheWVyKQogICAgaWYgcGxheWVyID09IExvY2FsUGxheWVyIG9yIHRyYWNrZWRQbGF5ZXJzW3BsYXllcl0gdGhlbgogICAgICAgIHJldHVybgogICAgZW5kCiAgICB0cmFja2VkUGxheWVyc1twbGF5ZXJdID0gdHJ1ZQogICAgcGxheWVySm9pblRpbWVzW3BsYXllcl0gPSBwbGF5ZXJKb2luVGltZXNbcGxheWVyXSBvciBvcy5jbG9jaygpCiAgICBwbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihjaGFyYWN0ZXIpCiAgICAgICAgaGFuZGxlRW5lbXlDaGFyYWN0ZXJBZGRlZChwbGF5ZXIsIGNoYXJhY3RlcikKICAgIGVuZCkKICAgIGlmIHBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgIGhhbmRsZUVuZW15Q2hhcmFjdGVyQWRkZWQocGxheWVyLCBwbGF5ZXIuQ2hhcmFjdGVyKQogICAgZW5kCmVuZAoKZm9yIF8sIHBsYXllciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICB0cmFja0VuZW15UGxheWVyKHBsYXllcikKICAgIGlmIG5vdCBwbGF5ZXJKb2luVGltZXNbcGxheWVyXSB0aGVuCiAgICAgICAgcGxheWVySm9pblRpbWVzW3BsYXllcl0gPSBvcy5jbG9jaygpCiAgICBlbmQKZW5kCgpQbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQogICAgdHJhY2tFbmVteVBsYXllcihwbGF5ZXIpCiAgICBwbGF5ZXJKb2luVGltZXNbcGxheWVyXSA9IG9zLmNsb2NrKCkKZW5kKQoKUGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHBsYXllcikKICAgIHBsYXllckpvaW5UaW1lc1twbGF5ZXJdID0gbmlsCiAgICBzcGF3blByb3RlY3Rpb25Db29sZG93bnNbcGxheWVyXSA9IG5pbAogICAgc3Bhd25Qcm90ZWN0aW9uRmlyc3RTZWVuW3BsYXllcl0gPSBuaWwKICAgIHRyYWNrZWRQbGF5ZXJzW3BsYXllcl0gPSBuaWwKZW5kKQoKbG9jYWwgZnVuY3Rpb24gdXBkYXRlQ2FtZXJhT3B0aW9uVmlzaWJpbGl0eSgpCiAgICBsb2NhbCBpc0NhbWVyYSA9IFNpbGVudEFpbS5Nb2RlID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlSblJhV0Vwb1NVVjRkbGt5Y3owPScpKSkpCiAgICBsb2NhbCBzbW9vdGggPSBjYW1lcmFDb250cm9scy5zbW9vdGhTbGlkZXIKICAgIGlmIHNtb290aCBhbmQgc21vb3RoLk9iamVjdCB0aGVuCiAgICAgICAgc21vb3RoLk9iamVjdC5WaXNpYmxlID0gaXNDYW1lcmEKICAgIGVuZAogICAgbG9jYWwgc2Vuc2l0aXZpdHkgPSBjYW1lcmFDb250cm9scy5zZW5zaXRpdml0eVNsaWRlcgogICAgaWYgc2Vuc2l0aXZpdHkgYW5kIHNlbnNpdGl2aXR5Lk9iamVjdCB0aGVuCiAgICAgICAgc2Vuc2l0aXZpdHkuT2JqZWN0LlZpc2libGUgPSBpc0NhbWVyYQogICAgZW5kCiAgICBsb2NhbCBob2xkVG9nZ2xlID0gY2FtZXJhQ29udHJvbHMuaG9sZFRvZ2dsZQogICAgaWYgaG9sZFRvZ2dsZSBhbmQgaG9sZFRvZ2dsZS5PYmplY3QgdGhlbgogICAgICAgIGhvbGRUb2dnbGUuT2JqZWN0LlZpc2libGUgPSBpc0NhbWVyYQogICAgZW5kCiAgICBsb2NhbCBob2xkUmVsZWFzZSA9IGNhbWVyYUNvbnRyb2xzLmhvbGRSZWxlYXNlU2xpZGVyCiAgICBpZiBob2xkUmVsZWFzZSBhbmQgaG9sZFJlbGVhc2UuT2JqZWN0IHRoZW4KICAgICAgICBob2xkUmVsZWFzZS5PYmplY3QuVmlzaWJsZSA9IGlzQ2FtZXJhIGFuZCBTaWxlbnRBaW0uQ2FtZXJhTG9jay5Ib2xkVG9Mb2NrCiAgICBlbmQKICAgIGxvY2FsIGhvbGREcm9wZG93biA9IGNhbWVyYUNvbnRyb2xzLmhvbGREcm9wZG93bgogICAgaWYgaG9sZERyb3Bkb3duIGFuZCBob2xkRHJvcGRvd24uT2JqZWN0IHRoZW4KICAgICAgICBo', [13]='b2xkRHJvcGRvd24uT2JqZWN0LlZpc2libGUgPSBpc0NhbWVyYSBhbmQgU2lsZW50QWltLkNhbWVyYUxvY2suSG9sZFRvTG9jawogICAgZW5kCmVuZAoKbG9jYWwgZnVuY3Rpb24gc2V0QWltTW9kZShtb2RlKQogICAgaWYgbW9kZSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5Um5SYVdFcG9TVVY0ZGxreWN6MD0nKSkpKSB0aGVuCiAgICAgICAgbW9kZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRSalZaTWtaNlpFRTlQUT09JykpKSkKICAgIGVuZAogICAgU2lsZW50QWltLk1vZGUgPSBtb2RlCiAgICBpZiBtb2RlID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRSalZaTWtaNlpFRTlQUT09JykpKSkgdGhlbgogICAgICAgIFNpbGVudEFpbS5GT1ZWaXNpYmxlID0gZmFsc2UKICAgICAgICBmb3ZDaXJjbGUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgZGVhY3RpdmF0ZUNhbWVyYUhvbGQoKQogICAgZW5kCiAgICB1cGRhdGVDYW1lcmFPcHRpb25WaXNpYmlsaXR5KCkKICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCmVuZAoKbG9jYWwgZnVuY3Rpb24gaXNBaW1Bc3Npc3RBY3RpdmUoKQogICAgcmV0dXJuIFNpbGVudEFpbS5FbmFibGVkIG9yIHN0YXRlLnJhZ2VNb2RlCmVuZAoKLS0gSGVscGVyIEZ1bmN0aW9ucwpsb2NhbCBpZ25vcmVkU2NyaXB0TmFtZXMgPSB7CiAgICBDYW1lcmFTY3JpcHQgPSB0cnVlLAogICAgQ2FtZXJhTW9kdWxlID0gdHJ1ZSwKICAgIFZlaGljbGVDYW1lcmEgPSB0cnVlLAogICAgVmVoaWNsZUNvbnRyb2xsZXIgPSB0cnVlLAogICAgTW91c2VMb2NrQ29udHJvbGxlciA9IHRydWUsCiAgICBDb250cm9sU2NyaXB0ID0gdHJ1ZSwKICAgIFBvcHBlckNhbSA9IHRydWUsCiAgICBPcmJpdGFsQ2FtZXJhID0gdHJ1ZSwKICAgIENsYXNzaWNDYW1lcmEgPSB0cnVlCn0KCmxvY2FsIGFudGlDaGVhdEtleXdvcmRzID0gewogICAgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xsWE5UQmhWMDV2V2xkR01BPT0nKSkpKSwKICAgIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sbFhOVEJoVmpscVlVZFdhR1JCUFQwPScpKSkpLAogICAgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xsWE5UQmhVekZxWVVkV2FHUkJQVDA9JykpKSksCiAgICAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbGt5ZUhCYVZ6VXdXVmMxTUdGWFRtOWFWMFl3JykpKSksCiAgICAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbU15Vm1wa1dFcHdaRWhyUFE9PScpKSkpLAogICAgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xreWFHeFpXRkU5JykpKSksCiAgICAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHBIVmpCYVYwNHdZak5KUFE9PScpKSkpLAogICAgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21OSVZuVmhXRTV2JykpKSksCiAgICAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHBZYUhkaVJ6bHdaRUU5UFE9PScpKSkpLAogICAgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xsWFRtcGlSMnhzWW01UlBRPT0nKSkpKQp9Cgpsb2NhbCBwbGF5ZXJNb2R1bGUKCmxvY2FsIGZ1bmN0aW9uIHVwZGF0ZVBsYXllck1vZHVsZSgpCiAgICBsb2NhbCBwbGF5ZXJTY3JpcHRzID0gTG9jYWxQbGF5ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1VlRKT2VXRllRakJqZHowOScpKSkpKQogICAgcGxheWVyTW9kdWxlID0gcGxheWVyU2NyaXB0cyBhbmQgcGxheWVyU2NyaXB0czpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZIZUdobFYxWjVWRmM1YTJSWGVHdz0nKSkpKSkgb3IgbmlsCmVuZAoKdXBkYXRlUGxheWVyTW9kdWxlKCkKCmxvY2FsIGZ1bmN0aW9uIGF0dGFjaFBsYXllclNjcmlwdHNMaXN0ZW5lcnMoKQogICAgbG9jYWwgcGxheWVyU2NyaXB0cyA9IExvY2FsUGxheWVyOkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVkhlR2hsVjFaNVZUSk9lV0ZZUWpCamR6MDknKSkpKSkKICAgIGlmIG5vdCBwbGF5ZXJTY3JpcHRzIHRoZW4gcmV0dXJuIGVuZAoKICAgIHBsYXllclNjcmlwdHMuQ2hpbGRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGNoaWxkKQogICAgICAgIGlmIGNoaWxkLk5hbWUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1VkZjNWEyUlhlR3c9JykpKSkgdGhlbgogICAgICAgICAgICBwbGF5ZXJNb2R1bGUgPSBjaGlsZAogICAgICAgIGVuZAogICAgZW5kKQoKICAgIHBsYXllclNjcmlwdHMuQ2hpbGRSZW1vdmVkOkNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCiAgICAgICAgaWYgY2hpbGQgPT0gcGxheWVyTW9kdWxlIHRoZW4KICAgICAgICAgICAgcGxheWVyTW9kdWxlID0gbmlsCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKYXR0YWNoUGxheWVyU2NyaXB0c0xpc3RlbmVycygpCgpMb2NhbFBsYXllci5DaGlsZEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCiAgICBpZiBjaGlsZC5OYW1lID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVkhlR2hsVjFaNVZUSk9lV0ZZUWpCamR6MDknKSkpKSB0aGVuCiAgICAgICAgdGFzay5kZWxheSgwLCBmdW5jdGlvbigpCiAgICAgICAgICAgIHVwZGF0ZVBsYXllck1vZHVsZSgpCiAgICAgICAgICAgIGF0dGFjaFBsYXllclNjcmlwdHNMaXN0ZW5lcnMoKQogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCgpMb2NhbFBsYXllci5DaGlsZFJlbW92ZWQ6Q29ubmVjdChmdW5jdGlvbihjaGlsZCkKICAgIGlmIGNoaWxkLk5hbWUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1VlRKT2VXRllRakJqZHowOScpKSkpIHRoZW4KICAgICAgICBwbGF5ZXJNb2R1bGUgPSBuaWwKICAgIGVuZAplbmQpCgpjb25uZWN0aW9ucy5jYW1lcmFIb2xkQmVnYW4gPSBVc2VySW5wdXRTZXJ2aWNlLklucHV0QmVnYW46Q29ubmVjdChmdW5jdGlvbihpbnB1dCwgZ3ApCiAgICBpZiBncCB0aGVuIHJldHVybiBlbmQKICAgIGlmIG5vdCBTaWxlbnRBaW0uRW5hYmxlZCBvciBTaWxlbnRBaW0uTW9kZSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5Um5SYVdFcG9TVVY0ZGxreWN6MD0nKSkpKSB0aGVuIHJldHVybiBlbmQKICAgIGlmIG5vdCBTaWxlbnRBaW0uQ2FtZXJhTG9jay5Ib2xkVG9Mb2NrIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgbWF0Y2hlc0NhbWVyYUhvbGRJbnB1dChpbnB1dCkgdGhlbgogICAgICAgIGFjdGl2YXRlQ2FtZXJhSG9sZCgpCiAgICBlbmQKZW5kKQoKY29ubmVjdGlvbnMuY2FtZXJhSG9sZEVuZGVkID0gVXNlcklucHV0U2VydmljZS5JbnB1dEVuZGVkOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCiAgICBpZiBub3QgU2lsZW50QWltLkNhbWVyYUxvY2suSG9sZFRvTG9jayB0aGVuIHJldHVybiBlbmQKICAgIGlmIG1hdGNoZXNDYW1lcmFIb2xkSW5wdXQoaW5wdXQpIHRoZW4KICAgICAgICBzY2hlZHVsZUNhbWVyYUhvbGRSZWxlYXNlKCkKICAgIGVuZAplbmQpCgpsb2NhbCBTaWxlbnRBaW1TeXN0ZW0gPSB7fQoKZnVuY3Rpb24gU2lsZW50QWltU3lzdGVtLnNob3VsZElnbm9yZUNhbGxlcigpCiAgICBsb2NhbCBjYWxsZXIgPSBnZXRjYWxsaW5nc2NyaXB0IGFuZCBnZXRjYWxsaW5nc2NyaXB0KCkKICAgIGlmIG5vdCBjYWxsZXIgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICBsb2NhbCBjYWxsZXJOYW1lID0gY2FsbGVyLk5hbWUgb3IgIiIKICAgIGxvY2FsIGxvd2VyTmFtZSA9IHN0cmluZy5sb3dlcihjYWxs', [14]='ZXJOYW1lKQoKICAgIGlmIGlnbm9yZWRTY3JpcHROYW1lc1tjYWxsZXJOYW1lXSBvciBpZ25vcmVkU2NyaXB0TmFtZXNbbG93ZXJOYW1lXSB0aGVuCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAoKICAgIGlmIHBsYXllck1vZHVsZSBhbmQgY2FsbGVyOklzRGVzY2VuZGFudE9mKHBsYXllck1vZHVsZSkgdGhlbgogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKCiAgICBpZiBub3QgYnlwYXNzU2V0dGluZ3MuU2lsZW50QWltIHRoZW4KICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAoKICAgIGZvciBfLCBrZXl3b3JkIGluIGlwYWlycyhhbnRpQ2hlYXRLZXl3b3JkcykgZG8KICAgICAgICBpZiBzdHJpbmcuZmluZChsb3dlck5hbWUsIGtleXdvcmQsIDEsIHRydWUpIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIHBhcmVudCA9IGNhbGxlci5QYXJlbnQKICAgIGlmIHBhcmVudCB0aGVuCiAgICAgICAgbG9jYWwgcGFyZW50TmFtZSA9IHBhcmVudC5OYW1lIG9yICIiCiAgICAgICAgbG9jYWwgcGFyZW50TG93ZXIgPSBzdHJpbmcubG93ZXIocGFyZW50TmFtZSkKICAgICAgICBpZiBpZ25vcmVkU2NyaXB0TmFtZXNbcGFyZW50TmFtZV0gb3IgaWdub3JlZFNjcmlwdE5hbWVzW3BhcmVudExvd2VyXSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICAgICAgZm9yIF8sIGtleXdvcmQgaW4gaXBhaXJzKGFudGlDaGVhdEtleXdvcmRzKSBkbwogICAgICAgICAgICBpZiBzdHJpbmcuZmluZChwYXJlbnRMb3dlciwga2V5d29yZCwgMSwgdHJ1ZSkgdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICByZXR1cm4gZmFsc2UKZW5kCgpmdW5jdGlvbiBTaWxlbnRBaW1TeXN0ZW0uaGl0Q2hhbmNlKHBlcmNlbnRhZ2UpCiAgICByZXR1cm4gTGltQkVlYWgucmFuZG9tKDEwMCkgPD0gcGVyY2VudGFnZQplbmQKCmZ1bmN0aW9uIFNpbGVudEFpbVN5c3RlbS5nZXRBaW1Qb3NpdGlvbigpCiAgICBsb2NhbCB2aWV3cG9ydFNpemUgPSBDYW1lcmEgYW5kIENhbWVyYS5WaWV3cG9ydFNpemUgb3IgVmVjdG9yMi5uZXcoMTkyMCwgMTA4MCkKICAgIHJldHVybiBWZWN0b3IyLm5ldyh2aWV3cG9ydFNpemUuWCAqIDAuNSwgdmlld3BvcnRTaXplLlkgKiAwLjUpCmVuZAoKZnVuY3Rpb24gU2lsZW50QWltU3lzdGVtLndvcmxkVG9TY3JlZW4ocG9zaXRpb24pCiAgICByZXR1cm4gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHBvc2l0aW9uKQplbmQKCmZ1bmN0aW9uIFNpbGVudEFpbVN5c3RlbS5pc1Zpc2libGUodGFyZ2V0UGFydCwgb3JpZ2luKQogICAgaWYgbm90IFNpbGVudEFpbS5XYWxsQ2hlY2sgdGhlbiByZXR1cm4gdHJ1ZSBlbmQKCiAgICBvcmlnaW4gPSBvcmlnaW4gb3IgKENhbWVyYSBhbmQgQ2FtZXJhLkNGcmFtZS5Qb3NpdGlvbikKICAgIGlmIG5vdCBvcmlnaW4gdGhlbiByZXR1cm4gZmFsc2UgZW5kCgogICAgbG9jYWwgZGlyZWN0aW9uID0gKHRhcmdldFBhcnQuUG9zaXRpb24gLSBvcmlnaW4pCiAgICBpZiBkaXJlY3Rpb24uTWFnbml0dWRlIDw9IDAgdGhlbiByZXR1cm4gZmFsc2UgZW5kCgogICAgbG9jYWwgcmF5Y2FzdFBhcmFtcyA9IFJheWNhc3RQYXJhbXMubmV3KCkKICAgIHJheWNhc3RQYXJhbXMuRmlsdGVyVHlwZSA9IEVudW0uUmF5Y2FzdEZpbHRlclR5cGUuQmxhY2tsaXN0CiAgICByYXljYXN0UGFyYW1zLkZpbHRlckRlc2NlbmRhbnRzSW5zdGFuY2VzID0ge0xvY2FsUGxheWVyLkNoYXJhY3RlciwgdGFyZ2V0UGFydC5QYXJlbnR9CiAgICByYXljYXN0UGFyYW1zLklnbm9yZVdhdGVyID0gdHJ1ZQoKICAgIGxvY2FsIHJlc3VsdCA9IHdvcmtzcGFjZTpSYXljYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCByYXljYXN0UGFyYW1zKQogICAgcmV0dXJuIHJlc3VsdCA9PSBuaWwgb3IgcmVzdWx0Lkluc3RhbmNlOklzRGVzY2VuZGFudE9mKHRhcmdldFBhcnQuUGFyZW50KQplbmQKCmxvY2FsIGN1cnJlbnRUYXJnZXRQYXJ0Cgpsb2NhbCB0ZWFtQXR0cmlidXRlTmFtZXMgPSB7KElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZtaGlVVDA5JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhWbWhpVVQwOScpKSkpLCAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVm1oaVZXeHInKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFZtaGlWV3hyJykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSnRSbXBrUjJ4MlltYzlQUT09JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXliR3RhVVQwOScpKSkpfQoKZnVuY3Rpb24gU2lsZW50QWltU3lzdGVtLnBsYXllcnNTaGFyZUF0dHJpYnV0ZShwbGF5ZXJBLCBwbGF5ZXJCLCBhdHRyaWJ1dGVOYW1lcykKICAgIGZvciBfLCBhdHRyaWJ1dGUgaW4gaXBhaXJzKGF0dHJpYnV0ZU5hbWVzKSBkbwogICAgICAgIGxvY2FsIGFWYWx1ZSA9IHBsYXllckE6R2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkKICAgICAgICBsb2NhbCBiVmFsdWUgPSBwbGF5ZXJCOkdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpCiAgICAgICAgaWYgYVZhbHVlIH49IG5pbCBhbmQgYlZhbHVlIH49IG5pbCBhbmQgYVZhbHVlID09IGJWYWx1ZSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBmYWxzZQplbmQKCmZ1bmN0aW9uIFNpbGVudEFpbVN5c3RlbS5pc0ZyaWVuZGx5UGxheWVyKHBsYXllcikKICAgIGlmIG5vdCBTaWxlbnRBaW0uVGVhbUNoZWNrIHRoZW4KICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogICAgaWYgbm90IHBsYXllciB0aGVuCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKICAgIGlmIHBsYXllciA9PSBMb2NhbFBsYXllciB0aGVuCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAoKICAgIGxvY2FsIGxvY2FsVGVhbSA9IGdldFRlYW1Gb3JQbGF5ZXIoTG9jYWxQbGF5ZXIpCiAgICBsb2NhbCB0YXJnZXRUZWFtID0gZ2V0VGVhbUZvclBsYXllcihwbGF5ZXIpCiAgICBpZiBsb2NhbFRlYW0gYW5kIHRhcmdldFRlYW0gdGhlbgogICAgICAgIGlmIGxvY2FsVGVhbSA9PSB0YXJnZXRUZWFtIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKICAgICAgICBpZiBsb2NhbFRlYW0uVGVhbUNvbG9yIGFuZCB0YXJnZXRUZWFtLlRlYW1Db2xvciBhbmQgbG9jYWxUZWFtLlRlYW1Db2xvciA9PSB0YXJnZXRUZWFtLlRlYW1Db2xvciB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBsb2NhbFRlYW1Db2xvciA9IExvY2FsUGxheWVyLlRlYW1Db2xvcgogICAgbG9jYWwgdGFyZ2V0VGVhbUNvbG9yID0gcGxheWVyLlRlYW1Db2xvcgogICAgaWYgbG9jYWxUZWFtQ29sb3IgYW5kIHRhcmdldFRlYW1Db2xvciBhbmQgbG9jYWxUZWFtQ29sb3IgPT0gdGFyZ2V0VGVhbUNvbG9yIHRoZW4KICAgICAgICBpZiBub3QgTG9jYWxQbGF5ZXIuTmV1dHJhbCBhbmQgbm90IHBsYXllci5OZXV0cmFsIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGlmIFNpbGVudEFpbVN5c3RlbS5wbGF5ZXJzU2hhcmVBdHRyaWJ1dGUoTG9jYWxQbGF5ZXIsIHBsYXllciwgdGVhbUF0dHJpYnV0ZU5hbWVzKSB0aGVuCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAoKICAgIHJldHVybiBmYWxzZQplbmQK', [15]='CmZ1bmN0aW9uIFNpbGVudEFpbVN5c3RlbS5hY3F1aXJlQ2xvc2VzdFRhcmdldCgpCiAgICBsb2NhbCBjbG9zZXN0UGFydCA9IG5pbAogICAgbG9jYWwgc2hvcnRlc3REaXN0YW5jZSA9IG1hdGguaHVnZQogICAgbG9jYWwgbW91c2VQb3MgPSBTaWxlbnRBaW1TeXN0ZW0uZ2V0QWltUG9zaXRpb24oKQogICAgCiAgICBmb3IgXywgcGxheWVyIGluIHBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgIGlmIHBsYXllciA9PSBMb2NhbFBsYXllciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIGlmIFNpbGVudEFpbVN5c3RlbS5pc0ZyaWVuZGx5UGxheWVyKHBsYXllcikgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBwbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIGh1bWFub2lkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVm5SWlZ6VjJZVmRSUFE9PScpKSkpKQogICAgICAgIGlmIG5vdCBodW1hbm9pZCBvciBodW1hbm9pZC5IZWFsdGggPD0gMCB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHRhcmdldFBhcnQgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoU2lsZW50QWltLlRhcmdldFBhcnQpCiAgICAgICAgaWYgbm90IHRhcmdldFBhcnQgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBkaXN0YW5jZTNkID0gKHRhcmdldFBhcnQuUG9zaXRpb24gLSBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uKS5NYWduaXR1ZGUKICAgICAgICBpZiBkaXN0YW5jZTNkID4gU2lsZW50QWltLk1heERpc3RhbmNlIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgc2NyZWVuUG9zLCBvblNjcmVlbiA9IFNpbGVudEFpbVN5c3RlbS53b3JsZFRvU2NyZWVuKHRhcmdldFBhcnQuUG9zaXRpb24pCiAgICAgICAgaWYgbm90IG9uU2NyZWVuIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgCiAgICAgICAgaWYgbm90IFNpbGVudEFpbVN5c3RlbS5pc1Zpc2libGUodGFyZ2V0UGFydCkgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICAKICAgICAgICBpZiBTaWxlbnRBaW0uVGFyZ2V0TW9kZSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpIYkhwa1IwWjFXVEpWUFE9PScpKSkpIHRoZW4KICAgICAgICAgICAgaWYgZGlzdGFuY2UzZCA8IHNob3J0ZXN0RGlzdGFuY2UgdGhlbgogICAgICAgICAgICAgICAgc2hvcnRlc3REaXN0YW5jZSA9IGRpc3RhbmNlM2QKICAgICAgICAgICAgICAgIGNsb3Nlc3RQYXJ0ID0gdGFyZ2V0UGFydAogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlIC0tIE1vdXNlCiAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlMmQgPSAoVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlgsIHNjcmVlblBvcy5ZKSAtIG1vdXNlUG9zKS5NYWduaXR1ZGUKICAgICAgICAgICAgaWYgZGlzdGFuY2UyZCA8IFNpbGVudEFpbS5GT1ZSYWRpdXMgYW5kIGRpc3RhbmNlMmQgPCBzaG9ydGVzdERpc3RhbmNlIHRoZW4KICAgICAgICAgICAgICAgIHNob3J0ZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTJkCiAgICAgICAgICAgICAgICBjbG9zZXN0UGFydCA9IHRhcmdldFBhcnQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgY3VycmVudFRhcmdldFBhcnQgPSBjbG9zZXN0UGFydAogICAgcmV0dXJuIGN1cnJlbnRUYXJnZXRQYXJ0CmVuZAoKZnVuY3Rpb24gU2lsZW50QWltU3lzdGVtLmdldENsb3Nlc3RUb01vdXNlKCkKICAgIHJldHVybiBjdXJyZW50VGFyZ2V0UGFydCBvciBTaWxlbnRBaW1TeXN0ZW0uYWNxdWlyZUNsb3Nlc3RUYXJnZXQoKQplbmQKCmxvY2FsIGxhc3RIaXRDaGFuY2VDaGVjayA9IDAKbG9jYWwgbGFzdEhpdENoYW5jZVBhc3MgPSB0cnVlCmxvY2FsIEhJVF9DSEFOQ0VfV0lORE9XID0gMC4wMwoKZnVuY3Rpb24gU2lsZW50QWltU3lzdGVtLnNob3VsZEFsbG93SGl0KCkKICAgIGlmIFNpbGVudEFpbS5Nb2RlIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRSalZaTWtaNlpFRTlQUT09JykpKSkgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICBpZiBub3QgaXNBaW1Bc3Npc3RBY3RpdmUoKSB0aGVuIHJldHVybiBmYWxzZSBlbmQKICAgIGlmIFNpbGVudEFpbS5IaXRDaGFuY2UgPj0gMTAwIHRoZW4gcmV0dXJuIHRydWUgZW5kCiAgICBpZiBTaWxlbnRBaW0uSGl0Q2hhbmNlIDw9IDAgdGhlbiByZXR1cm4gZmFsc2UgZW5kCgogICAgbG9jYWwgbm93ID0gb3MuY2xvY2soKQogICAgaWYgbm93IC0gbGFzdEhpdENoYW5jZUNoZWNrID4gSElUX0NIQU5DRV9XSU5ET1cgdGhlbgogICAgICAgIGxhc3RIaXRDaGFuY2VQYXNzID0gU2lsZW50QWltU3lzdGVtLmhpdENoYW5jZShTaWxlbnRBaW0uSGl0Q2hhbmNlKQogICAgICAgIGxhc3RIaXRDaGFuY2VDaGVjayA9IG5vdwogICAgZW5kCiAgICByZXR1cm4gbGFzdEhpdENoYW5jZVBhc3MKZW5kCgpmdW5jdGlvbiBTaWxlbnRBaW1TeXN0ZW0udXBkYXRlVmVsb2NpdHlFc3RpbWF0ZShwYXJ0KQogICAgaWYgdHlwZW9mKHBhcnQpIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTlhOWHBrUjBaMVdUSlZQUT09JykpKSkgdGhlbgogICAgICAgIHJldHVybiBWZWN0b3IzLm5ldygpCiAgICBlbmQKCiAgICBsb2NhbCBub3cgPSBvcy5jbG9jaygpCiAgICBsb2NhbCBwb3NpdGlvbiA9IHBhcnQuUG9zaXRpb24KICAgIGxvY2FsIGNhY2hlID0gdmVsb2NpdHlUcmFja2VyW3BhcnRdCiAgICBsb2NhbCBhc3NlbWJseVZlbG9jaXR5ID0gcGFydC5Bc3NlbWJseUxpbmVhclZlbG9jaXR5IG9yIFZlY3RvcjMubmV3KCkKCiAgICBpZiBjYWNoZSB0aGVuCiAgICAgICAgbG9jYWwgZGVsdGEgPSBtYXRoLm1heChub3cgLSBjYWNoZS50aW1lLCAxIC8gMjQwKQogICAgICAgIGxvY2FsIHJhd1ZlbG9jaXR5ID0gKHBvc2l0aW9uIC0gY2FjaGUucG9zaXRpb24pIC8gZGVsdGEKICAgICAgICBsb2NhbCBzcGVlZEJsZW5kID0gbWF0aC5jbGFtcCgoYXNzZW1ibHlWZWxvY2l0eS5NYWduaXR1ZGUgLSA4MCkgLyAzMjAsIDAsIDEpCiAgICAgICAgbG9jYWwgYmxlbmRlZFZlbG9jaXR5ID0gcmF3VmVsb2NpdHk6TGVycChhc3NlbWJseVZlbG9jaXR5LCBzcGVlZEJsZW5kKQogICAgICAgIGxvY2FsIHNtb290aGluZyA9IG1hdGguY2xhbXAoZGVsdGEgKiAoYXNzZW1ibHlWZWxvY2l0eS5NYWduaXR1ZGUgPiAxNTAgYW5kIDEyIG9yIDYpLCAwLjA1LCAxKQogICAgICAgIGxvY2FsIHVwZGF0ZWRWZWxvY2l0eSA9IGNhY2hlLnZlbG9jaXR5OkxlcnAoYmxlbmRlZFZlbG9jaXR5LCBzbW9vdGhpbmcpCiAgICAgICAgY2FjaGUucG9zaXRpb24gPSBwb3NpdGlvbgogICAgICAgIGNhY2hlLnRpbWUgPSBub3cKICAgICAgICBjYWNoZS52ZWxvY2l0eSA9IHVwZGF0ZWRWZWxvY2l0eQogICAgICAgIHJldHVybiB1cGRhdGVkVmVsb2NpdHkKICAgIGVuZAoKICAgIHZlbG9jaXR5VHJhY2tlcltwYXJ0XSA9IHsKICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLAogICAgICAgIHRpbWUgPSBub3csCiAgICAgICAgdmVsb2NpdHkgPSBhc3NlbWJseVZlbG9jaXR5CiAgICB9CgogICAgcmV0dXJuIGFzc2VtYmx5VmVsb2NpdHkKZW5kCgpmdW5jdGlvbiBTaWxlbnRBaW1TeXN0ZW0uZ2V0UHJlZGljdGVkUG9zaXRpb24ocGFydCwgb3JpZ2luKQogICAgbG9jYWwgcG9zaXRpb24gPSBw', [16]='YXJ0LlBvc2l0aW9uCiAgICBpZiBub3QgU2lsZW50QWltLlByZWRpY3Rpb24gdGhlbgogICAgICAgIHJldHVybiBwb3NpdGlvbgogICAgZW5kCgogICAgbG9jYWwgdmVsb2NpdHkgPSBTaWxlbnRBaW1TeXN0ZW0udXBkYXRlVmVsb2NpdHlFc3RpbWF0ZShwYXJ0KQogICAgaWYgdmVsb2NpdHkuTWFnbml0dWRlID09IDAgdGhlbgogICAgICAgIHZlbG9jaXR5ID0gcGFydC5WZWxvY2l0eSBvciBWZWN0b3IzLm5ldygpCiAgICBlbmQKCiAgICBsb2NhbCBodW1hbm9pZCA9IHBhcnQuUGFyZW50IGFuZCBwYXJ0LlBhcmVudDpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkUlBRPT0nKSkpKSkKICAgIGlmIGh1bWFub2lkIHRoZW4KICAgICAgICBsb2NhbCBtb3ZlRGlyZWN0aW9uID0gaHVtYW5vaWQuTW92ZURpcmVjdGlvbgogICAgICAgIGlmIG1vdmVEaXJlY3Rpb24uTWFnbml0dWRlID4gMC4wMSB0aGVuCiAgICAgICAgICAgIGxvY2FsIHByb2plY3RlZCA9IG1vdmVEaXJlY3Rpb24uVW5pdCAqIGh1bWFub2lkLldhbGtTcGVlZAogICAgICAgICAgICB2ZWxvY2l0eSA9IHZlbG9jaXR5OkxlcnAocHJvamVjdGVkLCAwLjM1KQogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgcGluZ1NlY29uZHMgPSAwCiAgICBpZiB0eXBlb2YoTG9jYWxQbGF5ZXIuR2V0TmV0d29ya1BpbmcpID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9scHVWblZaTTFKd1lqSTBQUT09JykpKSkgdGhlbgogICAgICAgIGxvY2FsIG9rLCBwaW5nVmFsdWUgPSBwY2FsbChMb2NhbFBsYXllci5HZXROZXR3b3JrUGluZywgTG9jYWxQbGF5ZXIpCiAgICAgICAgaWYgb2sgYW5kIHR5cGUocGluZ1ZhbHVlKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUp1Vm5SWmJWWjUnKSkpKSB0aGVuCiAgICAgICAgICAgIHBpbmdTZWNvbmRzID0gbWF0aC5jbGFtcChwaW5nVmFsdWUsIDAsIDAuMzUpCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBsb2NhbFJvb3RQYXJ0ID0gQ2hhcmFjdGVyIGFuZCBDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpCiAgICBsb2NhbCB0aW1lQWhlYWQgPSBTaWxlbnRBaW0uUHJlZGljdGlvbkFtb3VudCArIHBpbmdTZWNvbmRzCgogICAgaWYgb3JpZ2luIHRoZW4KICAgICAgICBsb2NhbCBkaXN0YW5jZSA9IChwb3NpdGlvbiAtIG9yaWdpbikuTWFnbml0dWRlCiAgICAgICAgaWYgZGlzdGFuY2UgPiAwIHRoZW4KICAgICAgICAgICAgbG9jYWwgdHJhdmVsVGltZSA9IGRpc3RhbmNlIC8gMTUwMAogICAgICAgICAgICB0aW1lQWhlYWQgPSB0aW1lQWhlYWQgKyBtYXRoLm1pbih0cmF2ZWxUaW1lLCAwLjM1KQogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgdGFyZ2V0U3BlZWQgPSB2ZWxvY2l0eS5NYWduaXR1ZGUKICAgIGlmIHRhcmdldFNwZWVkID4gMTIwIHRoZW4KICAgICAgICBsb2NhbCBleHRyYSA9IG1hdGguY2xhbXAoKHRhcmdldFNwZWVkIC0gMTIwKSAvIDQ1MCwgMCwgMC41KQogICAgICAgIHRpbWVBaGVhZCA9IHRpbWVBaGVhZCArIGV4dHJhCiAgICBlbmQKCiAgICBpZiBsb2NhbFJvb3RQYXJ0IHRoZW4KICAgICAgICBsb2NhbCBzaG9vdGVyVmVsb2NpdHkgPSBsb2NhbFJvb3RQYXJ0LkFzc2VtYmx5TGluZWFyVmVsb2NpdHkKICAgICAgICBsb2NhbCByZWxhdGl2ZVNwZWVkID0gKHZlbG9jaXR5IC0gc2hvb3RlclZlbG9jaXR5KS5NYWduaXR1ZGUKICAgICAgICBpZiByZWxhdGl2ZVNwZWVkID4gMTUwIHRoZW4KICAgICAgICAgICAgdGltZUFoZWFkID0gdGltZUFoZWFkICsgbWF0aC5jbGFtcCgocmVsYXRpdmVTcGVlZCAtIDE1MCkgLyA1MDAsIDAsIDAuNDUpCiAgICAgICAgZW5kCiAgICAgICAgbG9jYWwgc2hvb3RlckJvb3N0ID0gbWF0aC5jbGFtcChzaG9vdGVyVmVsb2NpdHkuTWFnbml0dWRlIC8gNzUwLCAwLCAwLjM1KQogICAgICAgIHRpbWVBaGVhZCA9IHRpbWVBaGVhZCArIHNob290ZXJCb29zdAogICAgZW5kCgogICAgdGltZUFoZWFkID0gbWF0aC5jbGFtcCh0aW1lQWhlYWQsIDAsIDEuNzUpCgogICAgcmV0dXJuIHBvc2l0aW9uICsgKHZlbG9jaXR5ICogdGltZUFoZWFkKQplbmQKCmZ1bmN0aW9uIFNpbGVudEFpbVN5c3RlbS5yZXNvbHZlVGFyZ2V0U29sdXRpb24ob3JpZ2luLCBtYWduaXR1ZGUsIHNraXBDaGFuY2UpCiAgICBpZiBTaWxlbnRBaW0uTW9kZSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0UmpWWk1rWjZaRUU5UFE9PScpKSkpIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgbm90IGlzQWltQXNzaXN0QWN0aXZlKCkgdGhlbiByZXR1cm4gZW5kCiAgICBpZiBub3Qgb3JpZ2luIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgbm90IHNraXBDaGFuY2UgYW5kIG5vdCBTaWxlbnRBaW1TeXN0ZW0uc2hvdWxkQWxsb3dIaXQoKSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCB0YXJnZXRQYXJ0ID0gY3VycmVudFRhcmdldFBhcnQKICAgIGlmIG5vdCB0YXJnZXRQYXJ0IG9yIG5vdCB0YXJnZXRQYXJ0LlBhcmVudCB0aGVuCiAgICAgICAgdGFyZ2V0UGFydCA9IFNpbGVudEFpbVN5c3RlbS5hY3F1aXJlQ2xvc2VzdFRhcmdldCgpCiAgICBlbmQKICAgIGlmIG5vdCB0YXJnZXRQYXJ0IHRoZW4gcmV0dXJuIGVuZAogICAgaWYgbm90IFNpbGVudEFpbVN5c3RlbS5pc1Zpc2libGUodGFyZ2V0UGFydCwgb3JpZ2luKSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCB0YXJnZXRQb3NpdGlvbiA9IFNpbGVudEFpbVN5c3RlbS5nZXRQcmVkaWN0ZWRQb3NpdGlvbih0YXJnZXRQYXJ0LCBvcmlnaW4pCiAgICBsb2NhbCBkaXJlY3Rpb24gPSB0YXJnZXRQb3NpdGlvbiAtIG9yaWdpbgogICAgaWYgZGlyZWN0aW9uLk1hZ25pdHVkZSA8PSAwIHRoZW4gcmV0dXJuIGVuZAoKICAgIGxvY2FsIG1hZyA9IG1hZ25pdHVkZQogICAgaWYgbm90IG1hZyBvciBtYWcgPD0gMCB0aGVuCiAgICAgICAgbWFnID0gZGlyZWN0aW9uLk1hZ25pdHVkZQogICAgZW5kCiAgICBpZiBtYWcgPD0gMCB0aGVuIHJldHVybiBlbmQKCiAgICBjdXJyZW50VGFyZ2V0UGFydCA9IHRhcmdldFBhcnQKICAgIHJldHVybiB0YXJnZXRQYXJ0LCB0YXJnZXRQb3NpdGlvbiwgZGlyZWN0aW9uLlVuaXQgKiBtYWcKZW5kCgpmdW5jdGlvbiBTaWxlbnRBaW1TeXN0ZW0uYWRqdXN0RGlyZWN0aW9uKG9yaWdpbiwgZGlyZWN0aW9uKQogICAgaWYgU2lsZW50QWltLk1vZGUgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVFOVBRPT0nKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuIGRpcmVjdGlvbiwgbmlsLCBuaWwKICAgIGVuZAogICAgaWYgdHlwZW9mKG9yaWdpbikgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xadFZtcGtSemw1VFhjOVBRPT0nKSkpKSBvciB0eXBlb2YoZGlyZWN0aW9uKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFp0Vm1wa1J6bDVUWGM5UFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gZGlyZWN0aW9uLCBuaWwsIG5pbAogICAgZW5kCiAgICBsb2NhbCB0YXJnZXRQYXJ0LCB0YXJnZXRQb3NpdGlvbiwgbmV3RGlyZWN0aW9uID0gU2lsZW50QWltU3lzdGVtLnJlc29sdmVUYXJnZXRTb2x1dGlvbihvcmlnaW4sIGRpcmVjdGlvbi5NYWduaXR1ZGUpCiAgICBpZiBuZXdEaXJlY3Rpb24gdGhlbgogICAgICAgIHJldHVybiBuZXdEaXJlY3Rpb24sIHRhcmdldFBhcnQs', [17]='IHRhcmdldFBvc2l0aW9uCiAgICBlbmQKICAgIHJldHVybiBkaXJlY3Rpb24sIG5pbCwgbmlsCmVuZAoKZnVuY3Rpb24gU2lsZW50QWltU3lzdGVtLmFkanVzdFJheShyYXkpCiAgICBpZiBTaWxlbnRBaW0uTW9kZSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0UmpWWk1rWjZaRUU5UFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gcmF5LCBuaWwsIG5pbAogICAgZW5kCiAgICBpZiB0eXBlb2YocmF5KSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0UmpVPScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gcmF5LCBuaWwsIG5pbAogICAgZW5kCiAgICBsb2NhbCB0YXJnZXRQYXJ0LCB0YXJnZXRQb3NpdGlvbiwgbmV3RGlyZWN0aW9uID0gU2lsZW50QWltU3lzdGVtLnJlc29sdmVUYXJnZXRTb2x1dGlvbihyYXkuT3JpZ2luLCByYXkuRGlyZWN0aW9uIGFuZCByYXkuRGlyZWN0aW9uLk1hZ25pdHVkZSkKICAgIGlmIG5ld0RpcmVjdGlvbiB0aGVuCiAgICAgICAgcmV0dXJuIFJheS5uZXcocmF5Lk9yaWdpbiwgbmV3RGlyZWN0aW9uKSwgdGFyZ2V0UGFydCwgdGFyZ2V0UG9zaXRpb24KICAgIGVuZAogICAgcmV0dXJuIHJheSwgbmlsLCBuaWwKZW5kCgpsb2NhbCBmdW5jdGlvbiBoYXNBdHRyaWJ1dGVGbGFnKGluc3RhbmNlLCBhdHRyTGlzdCkKICAgIGlmIG5vdCBpbnN0YW5jZSBvciB0eXBlKGF0dHJMaXN0KSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJIUm1saVIxVTknKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKICAgIGZvciBfLCBhdHRyaWJ1dGUgaW4gaXBhaXJzKGF0dHJMaXN0KSBkbwogICAgICAgIGxvY2FsIG9rLCB2YWx1ZSA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlOkdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpCiAgICAgICAgZW5kKQogICAgICAgIGlmIG9rIGFuZCB2YWx1ZSB+PSBuaWwgdGhlbgogICAgICAgICAgICBsb2NhbCB2YWx1ZVR5cGUgPSB0eXBlb2YodmFsdWUpCiAgICAgICAgICAgIGlmIHZhbHVlVHlwZSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbGx0T1haaVIxWm9ZbWM5UFE9PScpKSkpIHRoZW4KICAgICAgICAgICAgICAgIGlmIHZhbHVlIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVsc2VpZiB2YWx1ZVR5cGUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21KdVZuUlpiVlo1JykpKSkgdGhlbgogICAgICAgICAgICAgICAgaWYgTGltQkVlYWguYWJzKHZhbHVlKSA+IDAuMDAwMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbHNlaWYgdmFsdWVUeXBlID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tTXpVbmxoVnpWdScpKSkpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIGxvd2VyID0gc3RyaW5nLmxvd2VyKHZhbHVlKQogICAgICAgICAgICAgICAgaWYgbG93ZXIgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSVNqRmFVVDA5JykpKSkgb3IgbG93ZXIgPT0gIm9uIiBvciBsb3dlciA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHBYTldoWmJYaHNXa0U5UFE9PScpKSkpIG9yIGxvd2VyID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tVlhWbm89JykpKSkgb3IgbG93ZXIgPT0gIjEiIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gZmFsc2UKZW5kCgpsb2NhbCBmdW5jdGlvbiBpc1NwYXduUHJvdGVjdGVkKHBsYXllciwgY2hhcmFjdGVyLCBodW1hbm9pZCkKICAgIGlmIFJhZ2VTZXR0aW5ncy5SZXNwZWN0Rm9yY2VGaWVsZHMgYW5kIGNoYXJhY3RlciBhbmQgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0T1hsWk1sWkhZVmRXYzFwQlBUMD0nKSkpKSkgdGhlbgogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKICAgIGxvY2FsIGF0dHJMaXN0ID0gUmFnZVNldHRpbmdzLlNwYXduUHJvdGVjdGlvbkF0dHJpYnV0ZXMKICAgIHJldHVybiBoYXNBdHRyaWJ1dGVGbGFnKGh1bWFub2lkLCBhdHRyTGlzdCkgb3IgaGFzQXR0cmlidXRlRmxhZyhwbGF5ZXIsIGF0dHJMaXN0KSBvciAoY2hhcmFjdGVyIGFuZCBoYXNBdHRyaWJ1dGVGbGFnKGNoYXJhY3RlciwgYXR0ckxpc3QpKQplbmQKCgoKbG9jYWwgZnVuY3Rpb24gaXNSZWxhdGVkSW5zdGFuY2UoaW5zdGFuY2UsIHJlZmVyZW5jZSkKICAgIGlmIHR5cGVvZihpbnN0YW5jZSkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOWE5YcGtSMFoxV1RKVlBRPT0nKSkpKSBvciB0eXBlb2YocmVmZXJlbmNlKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5YTlhwa1IwWjFXVEpWUFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAogICAgcmV0dXJuIGluc3RhbmNlID09IHJlZmVyZW5jZSBvciBpbnN0YW5jZTpJc0Rlc2NlbmRhbnRPZihyZWZlcmVuY2UpIG9yIHJlZmVyZW5jZTpJc0Rlc2NlbmRhbnRPZihpbnN0YW5jZSkKZW5kCgpsb2NhbCBmdW5jdGlvbiByZW1vdmVUYXJnZXRGcm9tTGlzdChsaXN0LCB0YXJnZXRNb2RlbCkKICAgIGlmIHR5cGUobGlzdCkgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgb3IgdHlwZW9mKHRhcmdldE1vZGVsKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5YTlhwa1IwWjFXVEpWUFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gbGlzdAogICAgZW5kCiAgICBsb2NhbCBuZWVkc0NoYW5nZSA9IGZhbHNlCiAgICBmb3IgXywgaXRlbSBpbiBpcGFpcnMobGlzdCkgZG8KICAgICAgICBpZiBpc1JlbGF0ZWRJbnN0YW5jZShpdGVtLCB0YXJnZXRNb2RlbCkgdGhlbgogICAgICAgICAgICBuZWVkc0NoYW5nZSA9IHRydWUKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbmQKICAgIGVuZAogICAgaWYgbm90IG5lZWRzQ2hhbmdlIHRoZW4KICAgICAgICByZXR1cm4gbGlzdAogICAgZW5kCiAgICBsb2NhbCBuZXdMaXN0ID0ge30KICAgIGZvciBfLCBpdGVtIGluIGlwYWlycyhsaXN0KSBkbwogICAgICAgIGlmIG5vdCBpc1JlbGF0ZWRJbnN0YW5jZShpdGVtLCB0YXJnZXRNb2RlbCkgdGhlbgogICAgICAgICAgICBuZXdMaXN0WyNuZXdMaXN0ICsgMV0gPSBpdGVtCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBuZXdMaXN0CmVuZAoKbG9jYWwgZnVuY3Rpb24gZW5zdXJlVGFyZ2V0SW5MaXN0KGxpc3QsIHRhcmdldE1vZGVsKQogICAgaWYgdHlwZW9mKHRhcmdldE1vZGVsKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5YTlhwa1IwWjFXVEpWUFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gbGlzdAogICAgZW5kCiAgICBpZiB0eXBlKGxpc3QpIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbWxpUjFVOScpKSkpIHRoZW4KICAgICAgICByZXR1cm4ge3RhcmdldE1vZGVsfQogICAgZW5kCiAgICBmb3IgXywgaXRlbSBpbiBpcGFpcnMobGlzdCkgZG8KICAgICAgICBpZiBpc1JlbGF0ZWRJbnN0YW5jZShpdGVtLCB0YXJnZXRNb2RlbCkgdGhlbgogICAgICAgICAgICByZXR1cm4gbGlzdAogICAgICAgIGVuZAogICAgZW5kCiAgICBsb2NhbCBuZXdM', [18]='aXN0ID0ge30KICAgIGZvciBpID0gMSwgI2xpc3QgZG8KICAgICAgICBuZXdMaXN0W2ldID0gbGlzdFtpXQogICAgZW5kCiAgICBuZXdMaXN0WyNuZXdMaXN0ICsgMV0gPSB0YXJnZXRNb2RlbAogICAgcmV0dXJuIG5ld0xpc3QKZW5kCgpsb2NhbCBmdW5jdGlvbiBjbG9uZVJheWNhc3RQYXJhbXMocGFyYW1zLCBmaWx0ZXJMaXN0KQogICAgaWYgdHlwZW9mKHBhcmFtcykgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVaQ2FHTnRSblJqZHowOScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gcGFyYW1zCiAgICBlbmQKICAgIGxvY2FsIG5ld1BhcmFtcyA9IFJheWNhc3RQYXJhbXMubmV3KCkKICAgIG5ld1BhcmFtcy5GaWx0ZXJUeXBlID0gcGFyYW1zLkZpbHRlclR5cGUKICAgIG5ld1BhcmFtcy5JZ25vcmVXYXRlciA9IHBhcmFtcy5JZ25vcmVXYXRlcgogICAgbmV3UGFyYW1zLkNvbGxpc2lvbkdyb3VwID0gcGFyYW1zLkNvbGxpc2lvbkdyb3VwCiAgICBsb2NhbCBoYXNSZXNwZWN0LCByZXNwZWN0VmFsdWUgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgcmV0dXJuIHBhcmFtcy5SZXNwZWN0Q2FuQ29sbGlkZQogICAgZW5kKQogICAgaWYgaGFzUmVzcGVjdCB0aGVuCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBuZXdQYXJhbXMuUmVzcGVjdENhbkNvbGxpZGUgPSByZXNwZWN0VmFsdWUKICAgICAgICBlbmQpCiAgICBlbmQKICAgIG5ld1BhcmFtcy5GaWx0ZXJEZXNjZW5kYW50c0luc3RhbmNlcyA9IGZpbHRlckxpc3QKICAgIHJldHVybiBuZXdQYXJhbXMKZW5kCgpsb2NhbCBmdW5jdGlvbiBhZGp1c3RSYXljYXN0UGFyYW1zKHBhcmFtcywgdGFyZ2V0TW9kZWwpCiAgICBpZiB0eXBlb2YocGFyYW1zKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0UmpWWk1rWjZaRVpDYUdOdFJuUmpkejA5JykpKSkgb3IgdHlwZW9mKHRhcmdldE1vZGVsKSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5YTlhwa1IwWjFXVEpWUFE9PScpKSkpIHRoZW4KICAgICAgICByZXR1cm4gcGFyYW1zCiAgICBlbmQKICAgIGxvY2FsIGZpbHRlciA9IHBhcmFtcy5GaWx0ZXJEZXNjZW5kYW50c0luc3RhbmNlcwogICAgaWYgcGFyYW1zLkZpbHRlclR5cGUgPT0gRW51bS5SYXljYXN0RmlsdGVyVHlwZS5JbmNsdWRlIHRoZW4KICAgICAgICBsb2NhbCBuZXdGaWx0ZXIgPSBlbnN1cmVUYXJnZXRJbkxpc3QoZmlsdGVyLCB0YXJnZXRNb2RlbCkKICAgICAgICBpZiBuZXdGaWx0ZXIgfj0gZmlsdGVyIHRoZW4KICAgICAgICAgICAgcmV0dXJuIGNsb25lUmF5Y2FzdFBhcmFtcyhwYXJhbXMsIG5ld0ZpbHRlcikKICAgICAgICBlbmQKICAgIGVsc2VpZiBwYXJhbXMuRmlsdGVyVHlwZSA9PSBFbnVtLlJheWNhc3RGaWx0ZXJUeXBlLkJsYWNrbGlzdCB0aGVuCiAgICAgICAgbG9jYWwgbmV3RmlsdGVyID0gcmVtb3ZlVGFyZ2V0RnJvbUxpc3QoZmlsdGVyLCB0YXJnZXRNb2RlbCkKICAgICAgICBpZiBuZXdGaWx0ZXIgfj0gZmlsdGVyIHRoZW4KICAgICAgICAgICAgcmV0dXJuIGNsb25lUmF5Y2FzdFBhcmFtcyhwYXJhbXMsIG5ld0ZpbHRlcikKICAgICAgICBlbmQKICAgIGVuZAogICAgcmV0dXJuIHBhcmFtcwplbmQKCmZ1bmN0aW9uIFNpbGVudEFpbVN5c3RlbS5hcHBseUNhbWVyYUxvY2soZGVsdGEpCiAgICBpZiBTaWxlbnRBaW0uTW9kZSB+PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5Um5SYVdFcG9TVVY0ZGxreWN6MD0nKSkpKSB0aGVuIHJldHVybiBlbmQKICAgIGlmIG5vdCBTaWxlbnRBaW0uRW5hYmxlZCB0aGVuIHJldHVybiBlbmQKCiAgICBpZiBTaWxlbnRBaW0uQ2FtZXJhTG9jay5Ib2xkVG9Mb2NrIGFuZCBub3QgY2FtZXJhSG9sZEFjdGl2ZSB0aGVuCiAgICAgICAgcmV0dXJuCiAgICBlbmQKCiAgICBsb2NhbCB0YXJnZXRQYXJ0ID0gY3VycmVudFRhcmdldFBhcnQKICAgIGlmIG5vdCB0YXJnZXRQYXJ0IG9yIG5vdCB0YXJnZXRQYXJ0LlBhcmVudCB0aGVuCiAgICAgICAgdGFyZ2V0UGFydCA9IFNpbGVudEFpbVN5c3RlbS5hY3F1aXJlQ2xvc2VzdFRhcmdldCgpCiAgICBlbmQKICAgIGlmIG5vdCB0YXJnZXRQYXJ0IHRoZW4gcmV0dXJuIGVuZAoKICAgIGxvY2FsIGNhbSA9IENhbWVyYQogICAgaWYgbm90IGNhbSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCBvcmlnaW4gPSBjYW0uQ0ZyYW1lLlBvc2l0aW9uCiAgICBsb2NhbCB0YXJnZXRQb3NpdGlvbiA9IFNpbGVudEFpbVN5c3RlbS5nZXRQcmVkaWN0ZWRQb3NpdGlvbih0YXJnZXRQYXJ0LCBvcmlnaW4pCiAgICBsb2NhbCBkZXNpcmVkID0gQ0ZyYW1lLmxvb2tBdChvcmlnaW4sIHRhcmdldFBvc2l0aW9uKQogICAgbG9jYWwgcmVzcG9uc2l2ZW5lc3MgPSBtYXRoLm1heChTaWxlbnRBaW0uQ2FtZXJhTG9jay5TbW9vdGhuZXNzLCAwLjAxKQogICAgbG9jYWwgZGVsdGFUaW1lID0gbWF0aC5tYXgoZGVsdGEgb3IgMSAvIDYwLCAxIC8gMzAwKQogICAgbG9jYWwgYWxwaGEgPSAxIC0gbWF0aC5leHAoLXJlc3BvbnNpdmVuZXNzICogZGVsdGFUaW1lICogMTIwKQogICAgbG9jYWwgYWRqdXN0ZWRBbHBoYSA9IG1hdGguY2xhbXAoYWxwaGEgKiAoU2lsZW50QWltLkNhbWVyYUxvY2suU2Vuc2l0aXZpdHlNdWx0aXBsaWVyIG9yIDEpLCAwLjAxLCAxKQogICAgQ2FtZXJhLkNGcmFtZSA9IGNhbS5DRnJhbWU6TGVycChkZXNpcmVkLCBhZGp1c3RlZEFscGhhKQplbmQKClJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKGRlbHRhKQogICAgdmVsb2NpdHlDbGVhbnVwQ291bnRlciArPSAxCiAgICBpZiB2ZWxvY2l0eUNsZWFudXBDb3VudGVyID49IDYwIHRoZW4KICAgICAgICB2ZWxvY2l0eUNsZWFudXBDb3VudGVyID0gMAogICAgICAgIGZvciBwYXJ0IGluIHBhaXJzKHZlbG9jaXR5VHJhY2tlcikgZG8KICAgICAgICAgICAgaWYgdHlwZW9mKHBhcnQpIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTlhOWHBrUjBaMVdUSlZQUT09JykpKSkgb3Igbm90IHBhcnQuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgIHZlbG9jaXR5VHJhY2tlcltwYXJ0XSA9IG5pbAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIG5vdyA9IG9zLmNsb2NrKCkKICAgIGxvY2FsIHJhZ2VUYXJnZXRBY3RpdmUgPSBzdGF0ZS5yYWdlTW9kZSBhbmQgcmFnZVRhcmdldEhvbGRVbnRpbCA+IG5vdwogICAgaWYgU2lsZW50QWltLkVuYWJsZWQgYW5kIG5vdCBzdGF0ZS5yYWdlTW9kZSB0aGVuCiAgICAgICAgU2lsZW50QWltU3lzdGVtLmFjcXVpcmVDbG9zZXN0VGFyZ2V0KCkKICAgIGVsc2VpZiBub3QgcmFnZVRhcmdldEFjdGl2ZSB0aGVuCiAgICAgICAgY3VycmVudFRhcmdldFBhcnQgPSBuaWwKICAgIGVuZAoKICAgIGxvY2FsIGFsbG93Rk9WID0gU2lsZW50QWltLk1vZGUgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVFOVBRPT0nKSkpKQogICAgbG9jYWwgbW91c2VQb3MgPSBTaWxlbnRBaW1TeXN0ZW0uZ2V0QWltUG9zaXRpb24oKQoKICAgIGlmIGFsbG93Rk9WIGFuZCBTaWxlbnRBaW0uRk9WVmlzaWJsZSB0aGVuCiAgICAgICAgZm92Q2lyY2xlLlZpc2libGUgPSB0cnVlCiAgICAgICAgZm92Q2lyY2xlLlBvc2l0aW9uID0gbW91c2VQb3MKICAgICAgICBmb3ZDaXJjbGUuUmFkaXVzID0gU2lsZW50QWltLkZPVlJhZGl1cwogICAgZWxzZQogICAgICAgIGZvdkNpcmNsZS5WaXNpYmxlID0gZmFsc2UKICAgIGVuZAoKICAgIGlm', [19]='IFNpbGVudEFpbS5TaG93VGFyZ2V0IGFuZCBpc0FpbUFzc2lzdEFjdGl2ZSgpIHRoZW4KICAgICAgICBsb2NhbCB0YXJnZXQgPSBjdXJyZW50VGFyZ2V0UGFydAogICAgICAgIGlmIHRhcmdldCB0aGVuCiAgICAgICAgICAgIGxvY2FsIHNjcmVlblBvcywgb25TY3JlZW4gPSBTaWxlbnRBaW1TeXN0ZW0ud29ybGRUb1NjcmVlbih0YXJnZXQuUG9zaXRpb24pCiAgICAgICAgICAgIGlmIG9uU2NyZWVuIHRoZW4KICAgICAgICAgICAgICAgIHRhcmdldEJveC5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgdGFyZ2V0Qm94LlBvc2l0aW9uID0gVmVjdG9yMi5uZXcoc2NyZWVuUG9zLlggLSAxMiwgc2NyZWVuUG9zLlkgLSAxMikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdGFyZ2V0Qm94LlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRhcmdldEJveC5WaXNpYmxlID0gZmFsc2UKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICB0YXJnZXRCb3guVmlzaWJsZSA9IGZhbHNlCiAgICBlbmQKCiAgICBpZiBTaWxlbnRBaW0uTW9kZSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5Um5SYVdFcG9TVVY0ZGxreWN6MD0nKSkpKSB0aGVuCiAgICAgICAgU2lsZW50QWltU3lzdGVtLmFwcGx5Q2FtZXJhTG9jayhkZWx0YSkKICAgIGVuZAogICAgCiAgICAtLSBUcmlnZ2VyYm90CiAgICBpZiBTaWxlbnRBaW0uVHJpZ2dlcmJvdCB0aGVuCiAgICAgICAgbG9jYWwgbW91c2UgPSBMb2NhbFBsYXllcjpHZXRNb3VzZSgpCiAgICAgICAgbG9jYWwgdGFyZ2V0ID0gbW91c2UuVGFyZ2V0CiAgICAgICAgaWYgdGFyZ2V0IGFuZCB0YXJnZXQuUGFyZW50IHRoZW4KICAgICAgICAgICAgbG9jYWwgcGxheWVyID0gUGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKHRhcmdldC5QYXJlbnQpCiAgICAgICAgICAgIGlmIHBsYXllciBhbmQgcGxheWVyIH49IExvY2FsUGxheWVyIGFuZCBub3QgU2lsZW50QWltU3lzdGVtLmlzRnJpZW5kbHlQbGF5ZXIocGxheWVyKSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBodW0gPSB0YXJnZXQuUGFyZW50OkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFJQUT09JykpKSkpCiAgICAgICAgICAgICAgICBpZiBodW0gYW5kIGh1bS5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICB0YXNrLmRlbGF5KFNpbGVudEFpbS5UcmlnZ2VyYm90RGVsYXksIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgbW91c2UxY2xpY2soKQogICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgCgogICAgCiAgICAtLSBSZWNvaWwgQ29udHJvbAogICAgaWYgc3RhdGUucmVjb2lsQ29udHJvbCBhbmQgVXNlcklucHV0U2VydmljZTpJc01vdXNlQnV0dG9uUHJlc3NlZChFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xKSB0aGVuCiAgICAgICAgbG9jYWwgc3RyZW5ndGggPSBzdGF0ZS5yZWNvaWxTdHJlbmd0aCBvciA1CiAgICAgICAgaWYgbW91c2Vtb3ZlcmVsIHRoZW4KICAgICAgICAgICAgbW91c2Vtb3ZlcmVsKDAsIHN0cmVuZ3RoKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKCmxvY2FsIG5hbWVjYWxsSGFuZGxlcnMgPSB7CiAgICBGaW5kUGFydE9uUmF5ID0gZnVuY3Rpb24ob2xkLCBzZWxmLCByYXksIC4uLikKICAgICAgICBsb2NhbCBuZXdSYXkgPSByYXkKICAgICAgICBuZXdSYXkgPSBzZWxlY3QoMSwgU2lsZW50QWltU3lzdGVtLmFkanVzdFJheShyYXkpKQogICAgICAgIHJldHVybiBvbGQoc2VsZiwgbmV3UmF5LCAuLi4pCiAgICBlbmQsCiAgICBGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QgPSBmdW5jdGlvbihvbGQsIHNlbGYsIHJheSwgLi4uKQogICAgICAgIGxvY2FsIG5ld1JheSwgdGFyZ2V0UGFydCA9IFNpbGVudEFpbVN5c3RlbS5hZGp1c3RSYXkocmF5KQogICAgICAgIGlmIHRhcmdldFBhcnQgdGhlbgogICAgICAgICAgICBsb2NhbCB0YXJnZXRNb2RlbCA9IHRhcmdldFBhcnQuUGFyZW50IG9yIHRhcmdldFBhcnQKICAgICAgICAgICAgbG9jYWwgaWdub3JlTGlzdCA9IHNlbGVjdCgxLCAuLi4pCiAgICAgICAgICAgIGxvY2FsIGFkanVzdGVkID0gcmVtb3ZlVGFyZ2V0RnJvbUxpc3QoaWdub3JlTGlzdCwgdGFyZ2V0TW9kZWwpCiAgICAgICAgICAgIGlmIGFkanVzdGVkIH49IGlnbm9yZUxpc3QgdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuIG9sZChzZWxmLCBuZXdSYXksIGFkanVzdGVkLCBzZWxlY3QoMiwgLi4uKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIG9sZChzZWxmLCBuZXdSYXksIC4uLikKICAgIGVuZCwKICAgIEZpbmRQYXJ0T25SYXlXaXRoV2hpdGVsaXN0ID0gZnVuY3Rpb24ob2xkLCBzZWxmLCByYXksIC4uLikKICAgICAgICBsb2NhbCBuZXdSYXksIHRhcmdldFBhcnQgPSBTaWxlbnRBaW1TeXN0ZW0uYWRqdXN0UmF5KHJheSkKICAgICAgICBpZiB0YXJnZXRQYXJ0IHRoZW4KICAgICAgICAgICAgbG9jYWwgdGFyZ2V0TW9kZWwgPSB0YXJnZXRQYXJ0LlBhcmVudCBvciB0YXJnZXRQYXJ0CiAgICAgICAgICAgIGxvY2FsIHdoaXRlbGlzdCA9IHNlbGVjdCgxLCAuLi4pCiAgICAgICAgICAgIGxvY2FsIGFkanVzdGVkID0gZW5zdXJlVGFyZ2V0SW5MaXN0KHdoaXRlbGlzdCwgdGFyZ2V0TW9kZWwpCiAgICAgICAgICAgIGlmIGFkanVzdGVkIH49IHdoaXRlbGlzdCB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gb2xkKHNlbGYsIG5ld1JheSwgYWRqdXN0ZWQsIHNlbGVjdCgyLCAuLi4pKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gb2xkKHNlbGYsIG5ld1JheSwgLi4uKQogICAgZW5kLAogICAgUmF5Y2FzdCA9IGZ1bmN0aW9uKG9sZCwgc2VsZiwgb3JpZ2luLCBkaXJlY3Rpb24sIC4uLikKICAgICAgICBsb2NhbCBuZXdEaXJlY3Rpb24sIHRhcmdldFBhcnQgPSBTaWxlbnRBaW1TeXN0ZW0uYWRqdXN0RGlyZWN0aW9uKG9yaWdpbiwgZGlyZWN0aW9uKQogICAgICAgIGlmIHRhcmdldFBhcnQgdGhlbgogICAgICAgICAgICBsb2NhbCB0YXJnZXRNb2RlbCA9IHRhcmdldFBhcnQuUGFyZW50IG9yIHRhcmdldFBhcnQKICAgICAgICAgICAgbG9jYWwgcGFyYW1zID0gc2VsZWN0KDEsIC4uLikKICAgICAgICAgICAgbG9jYWwgYWRqdXN0ZWRQYXJhbXMgPSBhZGp1c3RSYXljYXN0UGFyYW1zKHBhcmFtcywgdGFyZ2V0TW9kZWwpCiAgICAgICAgICAgIGlmIGFkanVzdGVkUGFyYW1zIH49IHBhcmFtcyB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gb2xkKHNlbGYsIG9yaWdpbiwgbmV3RGlyZWN0aW9uLCBhZGp1c3RlZFBhcmFtcywgc2VsZWN0KDIsIC4uLikpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIHJldHVybiBvbGQoc2VsZiwgb3JpZ2luLCBuZXdEaXJlY3Rpb24sIC4uLikKICAgIGVuZCwKICAgIFNjcmVlblBvaW50VG9SYXkgPSBmdW5jdGlvbihvbGQsIHNlbGYsIC4uLikKICAgICAgICBsb2NhbCByYXkgPSBvbGQoc2VsZiwgLi4uKQogICAgICAgIHJldHVybiBzZWxlY3QoMSwgU2lsZW50QWltU3lzdGVtLmFkanVzdFJheShyYXkpKQogICAgZW5kLAogICAgVmlld3BvcnRQb2ludFRvUmF5ID0gZnVuY3Rpb24ob2xkLCBzZWxmLCAuLi4pCiAgICAgICAgbG9jYWwgcmF5ID0gb2xkKHNlbGYsIC4uLikKICAgICAg', [20]='ICByZXR1cm4gc2VsZWN0KDEsIFNpbGVudEFpbVN5c3RlbS5hZGp1c3RSYXkocmF5KSkKICAgIGVuZAp9Cgpsb2NhbCBvbGROYW1lY2FsbApvbGROYW1lY2FsbCA9IGhvb2ttZXRhbWV0aG9kKGdhbWUsIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sZ3hPWFZaVnpGc1dUSkdjMkpCUFQwPScpKSkpLCBmdW5jdGlvbihzZWxmLCAuLi4pCiAgICBsb2NhbCBtZXRob2QgPSBnZXRuYW1lY2FsbG1ldGhvZCgpCiAgICBsb2NhbCBoYW5kbGVyID0gbmFtZWNhbGxIYW5kbGVyc1ttZXRob2RdCgogICAgaWYgaGFuZGxlciBhbmQgbm90IGNoZWNrY2FsbGVyKCkgdGhlbgogICAgICAgIGlmIG5vdCBpc0FpbUFzc2lzdEFjdGl2ZSgpIG9yIFNpbGVudEFpbS5Nb2RlIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRSalZaTWtaNlpFRTlQUT09JykpKSkgb3IgU2lsZW50QWltU3lzdGVtLnNob3VsZElnbm9yZUNhbGxlcigpIHRoZW4KICAgICAgICAgICAgcmV0dXJuIG9sZE5hbWVjYWxsKHNlbGYsIC4uLikKICAgICAgICBlbmQKICAgICAgICByZXR1cm4gaGFuZGxlcihvbGROYW1lY2FsbCwgc2VsZiwgLi4uKQogICAgZW5kCgogICAgcmV0dXJuIG9sZE5hbWVjYWxsKHNlbGYsIC4uLikKZW5kKQoKbG9jYWwgb2xkUmF5TmV3CmlmIGhvb2tmdW5jdGlvbiBhbmQgdHlwZW9mKFJheSkgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT21SSFJtbGlSMVU5JykpKSkgYW5kIHR5cGVvZihSYXkubmV3KSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbHB1Vm5WWk0xSndZakkwUFE9PScpKSkpIHRoZW4KICAgIG9sZFJheU5ldyA9IGhvb2tmdW5jdGlvbihSYXkubmV3LCBmdW5jdGlvbihvcmlnaW4sIGRpcmVjdGlvbiwgLi4uKQogICAgICAgIGlmIG5vdCBjaGVja2NhbGxlcigpIGFuZCBpc0FpbUFzc2lzdEFjdGl2ZSgpIGFuZCBTaWxlbnRBaW0uTW9kZSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0UmpWWk1rWjZaRUU5UFE9PScpKSkpIGFuZCBub3QgU2lsZW50QWltU3lzdGVtLnNob3VsZElnbm9yZUNhbGxlcigpIGFuZCB0eXBlb2Yob3JpZ2luKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFp0Vm1wa1J6bDVUWGM5UFE9PScpKSkpIGFuZCB0eXBlb2YoZGlyZWN0aW9uKSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFp0Vm1wa1J6bDVUWGM5UFE9PScpKSkpIHRoZW4KICAgICAgICAgICAgbG9jYWwgbmV3RGlyZWN0aW9uID0gc2VsZWN0KDEsIFNpbGVudEFpbVN5c3RlbS5hZGp1c3REaXJlY3Rpb24ob3JpZ2luLCBkaXJlY3Rpb24pKQogICAgICAgICAgICBpZiBuZXdEaXJlY3Rpb24gfj0gZGlyZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiBvbGRSYXlOZXcob3JpZ2luLCBuZXdEaXJlY3Rpb24sIC4uLikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIG9sZFJheU5ldyhvcmlnaW4sIGRpcmVjdGlvbiwgLi4uKQogICAgZW5kKQplbmQKCi0tIE1vdXNlIEhvb2sKbG9jYWwgbW91c2UgPSBMb2NhbFBsYXllcjpHZXRNb3VzZSgpCmxvY2FsIG9sZEluZGV4Cm9sZEluZGV4ID0gaG9va21ldGFtZXRob2QoZ2FtZSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xneE9YQmliVkpzWlVFOVBRPT0nKSkpKSwgZnVuY3Rpb24oc2VsZiwgaW5kZXgpCiAgICBpZiBzZWxmID09IG1vdXNlIGFuZCBub3QgY2hlY2tjYWxsZXIoKSBhbmQgaXNBaW1Bc3Npc3RBY3RpdmUoKSBhbmQgU2lsZW50QWltLk1vZGUgPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVFOVBRPT0nKSkpKSB0aGVuCiAgICAgICAgaWYgc2hvdWxkSWdub3JlQ2FsbGVyKCkgdGhlbgogICAgICAgICAgICByZXR1cm4gb2xkSW5kZXgoc2VsZiwgaW5kZXgpCiAgICAgICAgZW5kCiAgICAgICAgaWYgaW5kZXggPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSGJEQT0nKSkpKSBvciBpbmRleCA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZIYkRBPScpKSkpIG9yIGluZGV4ID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhSbmxhTWxZdycpKSkpIG9yIGluZGV4ID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUkhSbmxhTWxZdycpKSkpIHRoZW4KICAgICAgICAgICAgbG9jYWwgb3JpZ2luID0gQ2FtZXJhIGFuZCBDYW1lcmEuQ0ZyYW1lIGFuZCBDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uCiAgICAgICAgICAgIGlmIG9yaWdpbiB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCB0YXJnZXRQYXJ0LCB0YXJnZXRQb3NpdGlvbiA9IHJlc29sdmVUYXJnZXRTb2x1dGlvbihvcmlnaW4sIDAsIHRydWUpCiAgICAgICAgICAgICAgICBpZiB0YXJnZXRQYXJ0IGFuZCB0YXJnZXRQb3NpdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgaW5kZXggPT0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSGJEQT0nKSkpKSBvciBpbmRleCA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZIYkRBPScpKSkpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENGcmFtZS5uZXcodGFyZ2V0UG9zaXRpb24pCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0UGFydAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gb2xkSW5kZXgoc2VsZiwgaW5kZXgpCmVuZCkKCi0tID09PT09PT09PT0gQ09NQkFUIFRBQiBVSSA9PT09PT09PT09Cgpsb2NhbCBDb21iYXRNYWluU2VjdGlvbiA9IENvbWJhdFRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXliSE5hVnpVd1NVVkdjR0pUUWtSaU1qVXdZMjA1YzJOM1BUMD0nKSkpKSkKCkNvbWJhdE1haW5TZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKWE5XaFpiWGhzU1VaT2NHSkhWblZrUTBKQ1lWY3dQUT09JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBTaWxlbnRBaW0uRW5hYmxlZCwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgU2lsZW50QWltLkVuYWJsZWQgPSB2YWx1ZQogICAgICAgIGlmIG5vdCB2YWx1ZSB0aGVuCiAgICAgICAgICAgIGRlYWN0aXZhdGVDYW1lcmFIb2xkKCkKICAgICAgICBlbmQKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVEcm9wZG93bih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWGJIUkpSVEYyV2tkVlBRPT0nKSkpKSwKICAgIE9wdGlvbnMgPSB7KElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFJqVlpNa1o2WkVFOVBRPT0nKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeVJuUmFXRXBvU1VWNGRsa3ljejA9JykpKSl9LAogICAgQ3VycmVudE9wdGlvbiA9IHtTaWxlbnRBaW0uTW9kZX0sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIHNldEFpbU1vZGUodmFsdWVbMV0gb3IgdmFsdWUpCiAgICBlbmQKfSkKCkNvbWJhdE1haW5TZWN0aW9uOkNyZWF0ZURyb3Bkb3duKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIUm5sYU1sWXdTVVV4ZGxwSFZUMD0nKSkpKSwKICAgIE9wdGlvbnMgPSB7KElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkw', [21]='T2xSWE9URmpNbFU5JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSkhiSHBrUjBaMVdUSlZQUT09JykpKSl9LAogICAgQ3VycmVudE9wdGlvbiA9IHtTaWxlbnRBaW0uVGFyZ2V0TW9kZX0sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5UYXJnZXRNb2RlID0gdmFsdWVbMV0gb3IgdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWklTbkJhTW1Sc1kyMUtkbVJCUFQwPScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLlRyaWdnZXJib3QsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5UcmlnZ2VyYm90ID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRWbXBpTW14elNVVk9kbUp1VW5saU1uYzknKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IHN0YXRlLnJlY29pbENvbnRyb2wsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIHN0YXRlLnJlY29pbENvbnRyb2wgPSB2YWx1ZQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkNvbWJhdE1haW5TZWN0aW9uOkNyZWF0ZVNsaWRlcih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFZtcGlNbXh6U1VaT01HTnRWblZhTTFKdicpKSkpLAogICAgUmFuZ2UgPSB7MSwgMjB9LAogICAgSW5jcmVtZW50ID0gMSwKICAgIEN1cnJlbnRWYWx1ZSA9IHN0YXRlLnJlY29pbFN0cmVuZ3RoLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBzdGF0ZS5yZWNvaWxTdHJlbmd0aCA9IHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKQ29tYmF0TWFpblNlY3Rpb246Q3JlYXRlVG9nZ2xlKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVm1oaVUwSkVZVWRXYW1GM1BUMD0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IFNpbGVudEFpbS5UZWFtQ2hlY2ssCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5UZWFtQ2hlY2sgPSB2YWx1ZQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkNvbWJhdE1haW5TZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xVeWJITmFWelV3U1VWR2NHSlRRa0pSZVVKRFpWaENhR016VFQwPScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gYnlwYXNzU2V0dGluZ3MuU2lsZW50QWltLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBieXBhc3NTZXR0aW5ncy5TaWxlbnRBaW0gPSB2YWx1ZQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkNvbWJhdE1haW5TZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xZeVJuTmlRMEpFWVVkV2FtRjNQVDA9JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBTaWxlbnRBaW0uV2FsbENoZWNrLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBTaWxlbnRBaW0uV2FsbENoZWNrID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVTbGlkZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSalJKUlZKd1l6TlNhR0p0VG13PScpKSkpLAogICAgUmFuZ2UgPSB7MTAwLCAzMDAwfSwKICAgIEluY3JlbWVudCA9IDEwLAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLk1heERpc3RhbmNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBTaWxlbnRBaW0uTWF4RGlzdGFuY2UgPSB2YWx1ZQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkNvbWJhdE1haW5TZWN0aW9uOkNyZWF0ZURyb3Bkb3duKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIUm5sYU1sWXdTVVpDYUdOdVVUMD0nKSkpKSwKICAgIE9wdGlvbnMgPSB7KElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSFZtaGFRVDA5JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFNVMkl5T1RCVlIwWjVaRUU5UFE9PScpKSkpLCAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpZUW5kYVdFcFZZak5LZW1KM1BUMD0nKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSSE9UTmFXRXBWWWpOS2VtSjNQVDA9JykpKSl9LAogICAgQ3VycmVudE9wdGlvbiA9IHtTaWxlbnRBaW0uVGFyZ2V0UGFydH0sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5UYXJnZXRQYXJ0ID0gdmFsdWVbMV0gb3IgdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVTbGlkZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTkhiREJKUlU1dldWYzFhbHBUUVd3PScpKSkpLAogICAgUmFuZ2UgPSB7MCwgMTAwfSwKICAgIEluY3JlbWVudCA9IDEsCiAgICBDdXJyZW50VmFsdWUgPSBTaWxlbnRBaW0uSGl0Q2hhbmNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBTaWxlbnRBaW0uSGl0Q2hhbmNlID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVklTbXhhUjJ4cVpFZHNkbUpuUFQwPScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLlByZWRpY3Rpb24sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5QcmVkaWN0aW9uID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRNYWluU2VjdGlvbjpDcmVhdGVTbGlkZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVklTbXhhUjJ4cVpFZHNkbUpwUWtKaVZ6a3hZbTVSUFE9PScpKSkpLAogICAgUmFuZ2UgPSB7MC4wMSwgMC41fSwKICAgIEluY3JlbWVudCA9IDAuMDEsCiAgICBDdXJyZW50VmFsdWUgPSBTaWxlbnRBaW0uUHJlZGljdGlvbkFtb3VudCwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgU2lsZW50QWltLlByZWRpY3Rpb25BbW91bnQgPSBtYXRoLmNsYW1wKHZhbHVlLCAwLjAxLCAwLjUpCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKCgpsb2NhbCBDb21iYXRWaXN1YWxzU2VjdGlvbiA9IENvbWJhdFRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWnRiSHBrVjBaelkzbEJiVWxGV2xCV1p6MDknKSkpKSkKCkNvbWJhdFZpc3VhbHNTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xVeWFIWmtlVUpIVkRGWloxRXliSGxaTW5ocycpKSkpLAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLkZPVlZpc2li', [22]='bGUsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIGlmIFNpbGVudEFpbS5Nb2RlID09IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVnRSalZaTWtaNlpFRTlQUT09JykpKSkgYW5kIHZhbHVlIHRoZW4KICAgICAgICAgICAgU2lsZW50QWltLkZPVlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBMdW5hOk5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgICBUaXRsZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXliSE5hVnpVd1NVVkdjR0pSUFQwPScpKSkpLAogICAgICAgICAgICAgICAgQ29udGVudCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSnJPVmRKUjA1d1kyMU9jMXBUUW5CamVVSnJZVmhPYUZsdGVHeGFRMEp3WW1sQ1UxbFliR3BaV0U0d1NVY3hkbHBIVlhVPScpKSkpLAogICAgICAgICAgICAgICAgSWNvbiA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tUXlSbmxpYld4MVduYzlQUT09JykpKSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZW5kCiAgICAgICAgU2lsZW50QWltLkZPVlZpc2libGUgPSB2YWx1ZQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkNvbWJhdFZpc3VhbHNTZWN0aW9uOkNyZWF0ZVNsaWRlcih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKck9WZEpSa3BvV2tkc01XTjNQVDA9JykpKSksCiAgICBSYW5nZSA9IHs1MCwgNTAwfSwKICAgIEluY3JlbWVudCA9IDUsCiAgICBDdXJyZW50VmFsdWUgPSBTaWxlbnRBaW0uRk9WUmFkaXVzLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBTaWxlbnRBaW0uRk9WUmFkaXVzID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRWaXN1YWxzU2VjdGlvbjpDcmVhdGVDb2xvclBpY2tlcih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKck9WZEpSVTUyWWtjNWVRPT0nKSkpKSwKICAgIENvbG9yID0gZm92Q2lyY2xlLkNvbG9yLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihjb2xvcikKICAgICAgICBmb3ZDaXJjbGUuQ29sb3IgPSBjb2xvcgogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCmxvY2FsIENhbWVyYVNlYyA9IENvbWJhdFRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlSblJhV0Vwb1NVVjRkbGt5YzJkVk1sWXdaRWRzZFZvelRUMD0nKSkpKSkKCmNhbWVyYUNvbnRyb2xzLnNtb290aFNsaWRlciA9IENhbWVyYVNlYzpDcmVhdGVTbGlkZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlSblJhV0Vwb1NVWk9kR0l5T1RCaFJ6VnNZek5OUFE9PScpKSkpLAogICAgUmFuZ2UgPSB7MC4wMSwgM30sCiAgICBJbmNyZW1lbnQgPSAwLjAxLAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLkNhbWVyYUxvY2suU21vb3RobmVzcywKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgU2lsZW50QWltLkNhbWVyYUxvY2suU21vb3RobmVzcyA9IG1hdGguY2xhbXAodmFsdWUsIDAuMDEsIDMpCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKY2FtZXJhQ29udHJvbHMuc2Vuc2l0aXZpdHlTbGlkZXIgPSBDYW1lcmFTZWM6Q3JlYXRlU2xpZGVyKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV5Vm5Wak1td3dZVmhhY0dSSWEyZFVXRlp6WkVkc2QySkhiR3hqWnowOScpKSkpLAogICAgUmFuZ2UgPSB7MC4wNSwgMn0sCiAgICBJbmNyZW1lbnQgPSAwLjA1LAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLkNhbWVyYUxvY2suU2Vuc2l0aXZpdHlNdWx0aXBsaWVyLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBTaWxlbnRBaW0uQ2FtZXJhTG9jay5TZW5zaXRpdml0eU11bHRpcGxpZXIgPSBtYXRoLmNsYW1wKHZhbHVlLCAwLjA1LCAyKQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCmNhbWVyYUNvbnRyb2xzLmhvbGRUb2dnbGUgPSBDYW1lcmFTZWM6Q3JlYXRlVG9nZ2xlKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IT1hOYVEwSlZZbmxDVFdJeVRuST0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IFNpbGVudEFpbS5DYW1lcmFMb2NrLkhvbGRUb0xvY2ssCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5DYW1lcmFMb2NrLkhvbGRUb0xvY2sgPSB2YWx1ZQogICAgICAgIGlmIG5vdCB2YWx1ZSB0aGVuCiAgICAgICAgICAgIGRlYWN0aXZhdGVDYW1lcmFIb2xkKCkKICAgICAgICBlbmQKICAgICAgICB1cGRhdGVDYW1lcmFPcHRpb25WaXNpYmlsaXR5KCkKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpjYW1lcmFDb250cm9scy5ob2xkUmVsZWFzZVNsaWRlciA9IENhbWVyYVNlYzpDcmVhdGVTbGlkZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTkhPWE5hUTBKVFdsZDRiRmxZVG14SlJWSXhZMjFHTUdGWE9YVkpRMmg2UzFFOVBRPT0nKSkpKSwKICAgIFJhbmdlID0gezAsIDEuNX0sCiAgICBJbmNyZW1lbnQgPSAwLjA1LAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLkNhbWVyYUxvY2suSG9sZFJlbGVhc2VEdXJhdGlvbiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgU2lsZW50QWltLkNhbWVyYUxvY2suSG9sZFJlbGVhc2VEdXJhdGlvbiA9IG1hdGguY2xhbXAodmFsdWUsIDAsIDEuNSkKICAgICAgICBjYW5jZWxDYW1lcmFIb2xkUmVsZWFzZSgpCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKY2FtZXJhQ29udHJvbHMuaG9sZERyb3Bkb3duID0gQ2FtZXJhU2VjOkNyZWF0ZURyb3Bkb3duKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IT1hOYVEwSktZbTVDTVdSQlBUMD0nKSkpKSwKICAgIE9wdGlvbnMgPSBjYW1lcmFIb2xkT3B0aW9uTGlzdCwKICAgIEN1cnJlbnRPcHRpb24gPSB7U2lsZW50QWltLkNhbWVyYUxvY2suSG9sZElucHV0fSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgbG9jYWwgc2VsZWN0ZWQgPSB2YWx1ZVsxXSBvciB2YWx1ZQogICAgICAgIGlmIGNhbWVyYUhvbGRPcHRpb25zW3NlbGVjdGVkXSB0aGVuCiAgICAgICAgICAgIFNpbGVudEFpbS5DYW1lcmFMb2NrLkhvbGRJbnB1dCA9IHNlbGVjdGVkCiAgICAgICAgICAgIGRlYWN0aXZhdGVDYW1lcmFIb2xkKCkKICAgICAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgICAgICBlbmQKICAgIGVuZAp9KQoKc2V0QWltTW9kZShTaWxlbnRBaW0uTW9kZSkKCkNvbWJhdFZpc3VhbHNTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xVeWFIWmtlVUpWV1ZoS2JscFlVV2RSYlRrMCcpKSkpLAogICAgQ3VycmVudFZhbHVlID0gU2lsZW50QWltLlNob3dUYXJnZXQsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFNpbGVudEFpbS5TaG93VGFyZ2V0ID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDb21iYXRWaXN1YWxzU2VjdGlvbjpDcmVhdGVDb2xvclBpY2tlcih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFJubGFNbFl3U1VWT2RtSkhPWGs9Jykp', [23]='KSksCiAgICBDb2xvciA9IHRhcmdldEJveC5Db2xvciwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oY29sb3IpCiAgICAgICAgdGFyZ2V0Qm94LkNvbG9yID0gY29sb3IKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpsb2NhbCBGbGluZ1NlYyA9IENvbWJhdFRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSnRlSEJpYldOblZUTnNlbVJIVm5RPScpKSkpKQpGbGluZ1NlYzpDcmVhdGVMYWJlbCh7CiAgICBUZXh0ID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSdE9UQmFWRzluVlcxV2VHUlhiSGxhV0UxblkwZDRhR1ZYVm5sSlIwNTJZa2Q0Y0dNeWJIWmliazFuV2xjMWFGbHRlR3hhUVQwOScpKSkpCn0pCgpsb2NhbCBmdW5jdGlvbiBjcmVhdGVGbGluZ0dVSSgpCiAgICBsb2NhbCBwbGF5ZXJHdWkgPSBMb2NhbFBsYXllcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1VWpOV2NBPT0nKSkpKSkKICAgIGlmIG5vdCBwbGF5ZXJHdWkgdGhlbgogICAgICAgIHJldHVybiBMdW5hOk5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgIFRpdGxlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKdGVIQmliV005JykpKSksCiAgICAgICAgICAgIEljb24gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVF5Um5saWJXeDFXbmM5UFE9PScpKSkpLAogICAgICAgICAgICBJbWFnZVNvdXJjZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSakJhV0Vwd1dWZDNQUT09JykpKSksCiAgICAgICAgICAgIENvbnRlbnQgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZIZUdobFYxWjVVak5XY0VsSE5YWmtRMEpvWkcxR2NHSkhSbWxpUjFWblpWZFdNRXhuUFQwPScpKSkpCiAgICAgICAgfSkKICAgIGVuZAoKICAgIGlmIHBsYXllckd1aTpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0ZUhCaWJXUklWbFZyUFE9PScpKSkpKSB0aGVuCiAgICAgICAgcmV0dXJuIEx1bmE6Tm90aWZpY2F0aW9uKHsKICAgICAgICAgICAgVGl0bGUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0ZUhCaWJXTTknKSkpKSwKICAgICAgICAgICAgSWNvbiA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tRlhOVzFpZHowOScpKSkpLAogICAgICAgICAgICBJbWFnZVNvdXJjZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSakJhV0Vwd1dWZDNQUT09JykpKSksCiAgICAgICAgICAgIENvbnRlbnQgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0ZUhCaWJXTm5VakZXU2tsSGJIcEpSMFp6WTIxV2FGcElhMmRpTTBKc1ltazBQUT09JykpKSkKICAgICAgICB9KQogICAgZW5kCgogICAgbG9jYWwgU2NyZWVuR3VpID0gSW5zdGFuY2UubmV3KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXlUbmxhVjFaMVVqTldjQT09JykpKSkpCiAgICBTY3JlZW5HdWkuTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSnRlSEJpYldSSVZsVnJQUT09JykpKSkKICAgIFNjcmVlbkd1aS5SZXNldE9uU3Bhd24gPSBmYWxzZQogICAgU2NyZWVuR3VpLlBhcmVudCA9IHBsYXllckd1aQogICAgCiAgICBsb2NhbCBGcmFtZSA9IEluc3RhbmNlLm5ldygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp1U21oaVYxVTknKSkpKSkKICAgIEZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwgMTU4LCAwLCAxMTApCiAgICBGcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIC03OSwgMC41LCAtNTUpCiAgICBGcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzQsIDM0LCAzNCkKICAgIEZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgIEZyYW1lLkFjdGl2ZSA9IHRydWUKICAgIEZyYW1lLkRyYWdnYWJsZSA9IHRydWUKICAgIEZyYW1lLlBhcmVudCA9IFNjcmVlbkd1aQogICAgCiAgICBsb2NhbCBUb3BCYXIgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKdVNtaGlWMVU5JykpKSkpCiAgICBUb3BCYXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAyNSkKICAgIFRvcEJhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNTAsIDUwLCA1MCkKICAgIFRvcEJhci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICBUb3BCYXIuUGFyZW50ID0gRnJhbWUKICAgIAogICAgbG9jYWwgVGl0bGUgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZqUmtSWGhvV1cxV2N3PT0nKSkpKSkKICAgIFRpdGxlLlNpemUgPSBVRGltMi5uZXcoMSwgLTUwLCAxLCAwKQogICAgVGl0bGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIFRpdGxlLlRleHQgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIT1RGWk1tZG5VbTE0Y0dKdFl6MD0nKSkpKQogICAgVGl0bGUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDI1NSkKICAgIFRpdGxlLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gKICAgIFRpdGxlLlRleHRTaXplID0gMjUKICAgIFRpdGxlLlBhcmVudCA9IFRvcEJhcgogICAgCiAgICBsb2NhbCBDbG9zZUJ0biA9IEluc3RhbmNlLm5ldygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVmpSa1JVb3haRWhTZG1KblBUMD0nKSkpKSkKICAgIENsb3NlQnRuLlNpemUgPSBVRGltMi5uZXcoMCwgMjAsIDAsIDIwKQogICAgQ2xvc2VCdG4uUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTIyLCAwLCAyKQogICAgQ2xvc2VCdG4uVGV4dCA9ICJYIgogICAgQ2xvc2VCdG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKICAgIENsb3NlQnRuLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICBDbG9zZUJ0bi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCiAgICBDbG9zZUJ0bi5UZXh0U2l6ZSA9IDE4CiAgICBDbG9zZUJ0bi5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICBDbG9zZUJ0bi5QYXJlbnQgPSBGcmFtZQogICAgCiAgICBsb2NhbCBUb2dnbGVCdG4gPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZqUmtSVW94WkVoU2RtSm5QVDA9JykpKSkpCiAgICBUb2dnbGVCdG4uU2l6ZSA9IFVEaW0yLm5ldygwLCAxMjEsIDAsIDM3KQogICAgVG9nZ2xlQnRuLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgLTYwLCAwLCA1MCkKICAgIFRvZ2dsZUJ0bi5UZXh0ID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xRd1drYz0nKSkpKQogICAgVG9nZ2xlQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICBUb2dnbGVCdG4uVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMCwgMCwgMCkKICAgIFRvZ2dsZUJ0bi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNJdGFsaWMKICAgIFRvZ2dsZUJ0bi5UZXh0U2l6ZSA9IDIwCiAgICBUb2dnbGVCdG4uQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgVG9nZ2xlQnRuLlBhcmVudCA9IEZyYW1lCiAgICAKICAgIGxvY2FsIGZsaW5nQWN0aXZlID0gZmFsc2UKICAgIGxvY2FsIGZsaW5nTG9vcCA9IG5pbAogICAgCiAgICBDbG9zZUJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBmbGluZ0FjdGl2ZSA9IGZhbHNlCiAgICAgICAgaWYgZmxpbmdMb29wIHRoZW4gZmxpbmdMb29wOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICBTY3JlZW5HdWk6RGVz', [24]='dHJveSgpCiAgICBlbmQpCiAgICAKICAgIFRvZ2dsZUJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBmbGluZ0FjdGl2ZSA9IG5vdCBmbGluZ0FjdGl2ZQogICAgICAgIFRvZ2dsZUJ0bi5UZXh0ID0gZmxpbmdBY3RpdmUgYW5kICJPTiIgb3IgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xRd1drYz0nKSkpKQogICAgICAgIAogICAgICAgIGlmIGZsaW5nQWN0aXZlIHRoZW4KICAgICAgICAgICAgZmxpbmdMb29wID0gUnVuU2VydmljZS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgZmxpbmdBY3RpdmUgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgICAgICBsb2NhbCBjID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgICAgICBsb2NhbCBocnAgPSBjIGFuZCBjOkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFNVMkl5T1RCVlIwWjVaRUU5UFE9PScpKSkpKQogICAgICAgICAgICAgICAgaWYgaHJwIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCB2ZWwgPSBocnAuVmVsb2NpdHkKICAgICAgICAgICAgICAgICAgICBocnAuVmVsb2NpdHkgPSB2ZWwgKiAxMDAwMCArIFZlY3RvcjMubmV3KDAsIDEwMDAwLCAwKQogICAgICAgICAgICAgICAgICAgIFJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpXYWl0KCkKICAgICAgICAgICAgICAgICAgICBocnAuVmVsb2NpdHkgPSB2ZWwKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiBmbGluZ0xvb3AgdGhlbgogICAgICAgICAgICAgICAgZmxpbmdMb29wOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgZmxpbmdMb29wID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQKCkZsaW5nU2VjOkNyZWF0ZUJ1dHRvbih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xRelFteGlhVUpIWWtkc2RWcDVRa2hXVldzOScpKSkpLAogICAgRGVzY3JpcHRpb24gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFF6UW14aWFVSnJZMjFHYmxveVJtbGlSMVZuV20xNGNHSnRZMmRaTWpsMVpFaEtkbUpIZUd4amFVSXpZVmMxYTJJelkzVT0nKSkpKSwKICAgIENhbGxiYWNrID0gY3JlYXRlRmxpbmdHVUkKfSkKCi0tID09PT09PT09PT0gTU9WRU1FTlQgVEFCID09PT09PT09PT0KbG9jYWwgTW92ZW1lbnRUYWIgPSBXaW5kb3c6Q3JlYXRlVGFiKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJYT1RKYVZ6RnNZbTVSUFE9PScpKSkpLAogICAgSWNvbiA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9scEhiSGxhVjA0d1lWYzVkV014T1hsa1Z6UTknKSkpKSwKICAgIEltYWdlU291cmNlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWFJqQmFXRXB3V1ZkM1BRPT0nKSkpKQp9KQoKbG9jYWwgTW92ZW1lbnRNYWluU2VjdGlvbiA9IE1vdmVtZW50VGFiOkNyZWF0ZVNlY3Rpb24oKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKdGVEVkpRMWxuVkZjNU1scFhNV3hpYmxFOScpKSkpKQoKTW92ZW1lbnRNYWluU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSnRlRFZKUTJoWVVWWk9SVXhEUWtaTVEwSlNTMUU5UFE9PScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbCkKICAgICAgICBzdGF0ZS5mbHkgPSB2YWwKICAgICAgICBpZiBub3QgdmFsIHRoZW4KICAgICAgICAgICAgRmx5U3lzdGVtLmNsZWFudXBGbHlTdGF0ZSgpCiAgICAgICAgZWxzZQogICAgICAgICAgICBGbHlTeXN0ZW0uYmVnaW5GbHkoKQogICAgICAgIGVuZAogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCk1vdmVtZW50TWFpblNlY3Rpb246Q3JlYXRlU2xpZGVyKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0ZURWSlJrNTNXbGRXYXc9PScpKSkpLAogICAgUmFuZ2UgPSB7MSwgMTB9LAogICAgSW5jcmVtZW50ID0gMC41LAogICAgQ3VycmVudFZhbHVlID0gMSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBzdGF0ZS5mbHlTcGVlZCA9IHYKICAgIGVuZAp9KQoKbG9jYWwgZmx5TW9kZU9wdGlvbnMgPSB7KElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdE9XdGxWbHBzWWtjNWFtRllValU9JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXdXbmxaVnpGcycpKSkpfQpNb3ZlbWVudE1haW5TZWN0aW9uOkNyZWF0ZURyb3Bkb3duKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0ZURWSlJURjJXa2RWUFE9PScpKSkpLAogICAgT3B0aW9ucyA9IGZseU1vZGVPcHRpb25zLAogICAgQ3VycmVudE9wdGlvbiA9IHtzdGF0ZS5mbHlNb2RlfSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsKQogICAgICAgIHN0YXRlLmZseU1vZGUgPSB2YWxbMV0gb3IgdmFsCiAgICAgICAgaWYgc3RhdGUuZmx5IHRoZW4KICAgICAgICAgICAgRmx5U3lzdGVtLmJlZ2luRmx5KCkKICAgICAgICBlbmQKICAgIGVuZAp9KQoKTW92ZW1lbnRNYWluU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUnRPV3BpUjJ4MycpKSkpLAogICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbCkKICAgICAgICBzdGF0ZS5ub2NsaXAgPSB2YWwKICAgICAgICBpZiBjb25uZWN0aW9ucy5ub2NsaXAgdGhlbiBjb25uZWN0aW9ucy5ub2NsaXA6RGlzY29ubmVjdCgpOyBjb25uZWN0aW9ucy5ub2NsaXAgPSBuaWwgZW5kCiAgICAgICAgCiAgICAgICAgaWYgdmFsIHRoZW4KICAgICAgICAgICAgY29ubmVjdGlvbnMubm9jbGlwID0gUnVuU2VydmljZS5TdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgZm9yIF8sIHAgaW4gcGFpcnMoQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgcDpJc0EoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdFJucGFWa0pvWTI1UlBRPT0nKSkpKSkgdGhlbiBwLkNhbkNvbGxpZGUgPSBmYWxzZSBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKbG9jYWwgQ2hhcmFjdGVyU2VjdGlvbiA9IE1vdmVtZW50VGFiOkNyZWF0ZVNlY3Rpb24oKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeWFHaGpiVVpxWkVkV2VVbEdRbmxpTTBKc1kyNVNjRnBZVFQwPScpKSkpKQoKQ2hhcmFjdGVyU2VjdGlvbjpDcmVhdGVTbGlkZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWXlSbk5oZVVKVVkwZFdiRnBCUFQwPScpKSkpLAogICAgUmFuZ2UgPSB7MTYsIDUwMH0sCiAgICBJbmNyZW1lbnQgPSAxLAogICAgQ3VycmVudFZhbHVlID0gc3RhdGUuZGVzaXJlZFdhbGtTcGVlZCwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgc3RhdGUuZGVzaXJlZFdhbGtTcGVlZCA9IHZhbHVlCiAgICAgICAgaWYgSHVtYW5vaWQgdGhlbiBIdW1hbm9pZC5XYWxrU3BlZWQgPSB2YWx1ZSBlbmQKICAgICAgICBpZiBieXBhc3NTZXR0aW5ncy5Nb3Zl', [25]='bWVudCB0aGVuCiAgICAgICAgICAgIGVuZm9yY2VIdW1hbm9pZFByb3BlcnR5KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWXlSbk5oTVU1M1dsZFdhdz09JykpKSksIHZhbHVlKQogICAgICAgIGVuZAogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkNoYXJhY3RlclNlY3Rpb246Q3JlYXRlU2xpZGVyKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE51Vm5SalEwSlJZak5rYkdOblBUMD0nKSkpKSwKICAgIFJhbmdlID0gezUwLCA1MDB9LAogICAgSW5jcmVtZW50ID0gMSwKICAgIEN1cnJlbnRWYWx1ZSA9IHN0YXRlLmRlc2lyZWRKdW1wUG93ZXIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIHN0YXRlLmRlc2lyZWRKdW1wUG93ZXIgPSB2YWx1ZQogICAgICAgIGlmIEh1bWFub2lkIHRoZW4gSHVtYW5vaWQuSnVtcFBvd2VyID0gdmFsdWUgZW5kCiAgICAgICAgaWYgYnlwYXNzU2V0dGluZ3MuTW92ZW1lbnQgdGhlbgogICAgICAgICAgICBlbmZvcmNlSHVtYW5vaWRQcm9wZXJ0eSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE51Vm5SalJrSjJaREpXZVE9PScpKSkpLCB2YWx1ZSkKICAgICAgICBlbmQKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDaGFyYWN0ZXJTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOWE5XMWhWelZ3WkVkVloxTnVWblJqUVQwOScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbCkKICAgICAgICBzdGF0ZS5pbmZKdW1wID0gdmFsCiAgICAgICAgaWYgY29ubmVjdGlvbnMuaW5mSnVtcCB0aGVuIGNvbm5lY3Rpb25zLmluZkp1bXA6RGlzY29ubmVjdCgpOyBjb25uZWN0aW9ucy5pbmZKdW1wID0gbmlsIGVuZAogICAgICAgIAogICAgICAgIGlmIHZhbCB0aGVuCiAgICAgICAgICAgIGNvbm5lY3Rpb25zLmluZkp1bXAgPSBVc2VySW5wdXRTZXJ2aWNlLkp1bXBSZXF1ZXN0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgc3RhdGUuaW5mSnVtcCBhbmQgSHVtYW5vaWQgdGhlbiBIdW1hbm9pZDpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkp1bXBpbmcpIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKCgpDaGFyYWN0ZXJTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWE9USmFWekZzWW01UloxRlhOVEJoVXpGRVlVZFdhR1JEUWtObFdFSm9Zek5OUFE9PScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gYnlwYXNzU2V0dGluZ3MuTW92ZW1lbnQsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIGJ5cGFzc1NldHRpbmdzLk1vdmVtZW50ID0gdmFsdWUKICAgICAgICByZWZyZXNoTW92ZW1lbnRCeXBhc3MoKQogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCgoKLS0gPT09PT09PT09PSBURUxFUE9SVCBUQUIgPT09PT09PT09PQpsb2NhbCBUZWxlcG9ydFRhYiA9IFdpbmRvdzpDcmVhdGVUYWIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWbk5hV0VKMlkyNVJQUT09JykpKSksCiAgICBJY29uID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwWWFIZGlSemw1V2xFOVBRPT0nKSkpKSwKICAgIEltYWdlU291cmNlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWFJqQmFXRXB3V1ZkM1BRPT0nKSkpKQp9KQoKbG9jYWwgVGVsZXBvcnRDbGlja1NlY3Rpb24gPSBUZWxlcG9ydFRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXllSEJaTW5OblVWZE9NR0ZYT1hWamR6MDknKSkpKSkKClRlbGVwb3J0Q2xpY2tTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeWVIQlpNbk5uVmtaQlowdEZUbFZWYTNkeVVUSjRjRmt5YzNBPScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgc3RhdGUuY2xpY2tUUCA9IHYKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpUZWxlcG9ydENsaWNrU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXllSEJaTW5OblVrZFdjMXBZVW14SlEyaENWRVpSY2xFeWVIQlpNbk53JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBzdGF0ZS5jbGlja0RlbGV0ZSA9IHYKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpsb2NhbCBNb3VzZSA9IExvY2FsUGxheWVyOkdldE1vdXNlKCkKCmlmIGlzTW9iaWxlRGV2aWNlIHRoZW4KICAgIFRlbGVwb3J0Q2xpY2tTZWN0aW9uOkNyZWF0ZUJ1dHRvbih7CiAgICAgICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhSbmRKU0ZKMlNVWlNVUT09JykpKSksCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgIHN0YXRlLmNsaWNrVFAgPSBub3Qgc3RhdGUuY2xpY2tUUAogICAgICAgICAgICBMdW5hOk5vdGlmaWNhdGlvbih7CiAgICAgICAgICAgICAgICBUaXRsZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXllSEJaTW5OblZrWkJQUT09JykpKSksCiAgICAgICAgICAgICAgICBDb250ZW50ID0gc3RhdGUuY2xpY2tUUCBhbmQgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFJuZEpSMFoxWlZoa2IxcFlTbXhKU0ZKMlNVWlNVVWxSUFQwPScpKSkpIG9yIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhSbmRKUmxKUlNVZFNjR015Um1saVIxWnInKSkpKSwKICAgICAgICAgICAgICAgIEljb24gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZYTlcxaWR6MDknKSkpKQogICAgICAgICAgICB9KQogICAgICAgIGVuZAogICAgfSkKICAgIAogICAgVXNlcklucHV0U2VydmljZS5Ub3VjaFRhcDpDb25uZWN0KGZ1bmN0aW9uKHBvc2l0aW9ucywgcHJvY2Vzc2VkKQogICAgICAgIGlmIHByb2Nlc3NlZCBvciBub3Qgc3RhdGUuY2xpY2tUUCB0aGVuIHJldHVybiBlbmQKICAgICAgICBsb2NhbCB0YXAgPSBwb3NpdGlvbnNbMV0KICAgICAgICBpZiB0YXAgYW5kIFJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgbG9jYWwgcmF5ID0gQ2FtZXJhOlNjcmVlblBvaW50VG9SYXkodGFwLlgsIHRhcC5ZKQogICAgICAgICAgICBsb2NhbCByYXljYXN0UGFyYW1zID0gUmF5Y2FzdFBhcmFtcy5uZXcoKQogICAgICAgICAgICByYXljYXN0UGFyYW1zLkZpbHRlckRlc2NlbmRhbnRzSW5zdGFuY2VzID0ge0NoYXJhY3Rlcn0KICAgICAgICAgICAgcmF5Y2FzdFBhcmFtcy5GaWx0ZXJUeXBlID0gRW51bS5SYXljYXN0RmlsdGVyVHlwZS5CbGFja2xpc3QKICAgICAgICAgICAgbG9jYWwgcmVzdWx0ID0gd29ya3NwYWNlOlJheWNhc3QocmF5Lk9yaWdpbiwgcmF5LkRpcmVjdGlvbiAqIDEwMDAsIHJheWNhc3RQYXJhbXMpCiAgICAgICAgICAgIGlmIHJlc3VsdCB0aGVuCiAgICAgICAgICAgICAgICBSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KHJlc3VsdC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDMsIDApKQogICAgICAgICAgICBlbmQKICAg', [26]='ICAgICBlbmQKICAgIGVuZCkKZWxzZQogICAgTW91c2UuQnV0dG9uMURvd246Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgaWYgc3RhdGUuY2xpY2tUUCBhbmQgVXNlcklucHV0U2VydmljZTpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnRDb250cm9sKSB0aGVuCiAgICAgICAgICAgIGlmIE1vdXNlLlRhcmdldCBhbmQgUm9vdFBhcnQgdGhlbiBSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KE1vdXNlLkhpdC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDMsIDApKSBlbmQKICAgICAgICBlbHNlaWYgc3RhdGUuY2xpY2tEZWxldGUgYW5kIFVzZXJJbnB1dFNlcnZpY2U6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0QWx0KSB0aGVuCiAgICAgICAgICAgIGlmIE1vdXNlLlRhcmdldCB0aGVuIE1vdXNlLlRhcmdldDpEZXN0cm95KCkgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKbG9jYWwgUGxheWVyVGVsZXBvcnRTZWN0aW9uID0gVGVsZXBvcnRUYWI6Q3JlYXRlU2VjdGlvbigoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZIZUdobFYxWjVTVVpTYkdKSFZuZGlNMG93JykpKSkpCgpsb2NhbCBzZWxlY3RlZFRlbGVwb3J0VGFyZ2V0ID0gbmlsCgpsb2NhbCBUZWxlcG9ydERyb3Bkb3duUHJpbWFyeSA9IFBsYXllclRlbGVwb3J0U2VjdGlvbjpDcmVhdGVEcm9wZG93bih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xVeVZuTmFWMDR3U1VaQ2MxbFliR3hqWnowOScpKSkpLAogICAgT3B0aW9ucyA9IGdldFBsYXllck5hbWVzKCksCiAgICBDdXJyZW50T3B0aW9uID0geyhJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUnRPWFZhVVQwOScpKSkpfSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsKQogICAgICAgIGxvY2FsIG5hbWUgPSB2YWxbMV0gb3IgdmFsCiAgICAgICAgaWYgbmFtZSA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJ0T1hWYVVUMDknKSkpKSB0aGVuCiAgICAgICAgICAgIHNlbGVjdGVkVGVsZXBvcnRUYXJnZXQgPSBuaWwKICAgICAgICBlbHNlCiAgICAgICAgICAgIHNlbGVjdGVkVGVsZXBvcnRUYXJnZXQgPSBQbGF5ZXJzOkZpbmRGaXJzdENoaWxkKG5hbWUpCiAgICAgICAgZW5kCiAgICBlbmQKfSkKClBsYXllclRlbGVwb3J0U2VjdGlvbjpDcmVhdGVCdXR0b24oewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWbk5hV0VKMlkyNVJaMlJIT0dkVlIzaG9aVmRXZVE9PScpKSkpLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgaWYgbm90IHNlbGVjdGVkVGVsZXBvcnRUYXJnZXQgdGhlbgogICAgICAgICAgICByZXR1cm4gTHVuYTpOb3RpZmljYXRpb24oewogICAgICAgICAgICAgICAgVGl0bGUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVm5OYVdFSjJZMjVSUFE9PScpKSkpLAogICAgICAgICAgICAgICAgQ29udGVudCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUnRPR2RqUjNob1pWZFdlVWxJVG14aVIxWnFaRWRXYTBsUlBUMD0nKSkpKSwKICAgICAgICAgICAgICAgIEljb24gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVF5Um5saWJXeDFXbmM5UFE9PScpKSkpCiAgICAgICAgICAgIH0pCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgdGFyZ2V0Q2hhciA9IHNlbGVjdGVkVGVsZXBvcnRUYXJnZXQuQ2hhcmFjdGVyCiAgICAgICAgbG9jYWwgdGFyZ2V0Um9vdCA9IHRhcmdldENoYXIgYW5kIHRhcmdldENoYXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpCiAgICAgICAgCiAgICAgICAgaWYgbm90IHRhcmdldFJvb3QgdGhlbgogICAgICAgICAgICByZXR1cm4gTHVuYTpOb3RpZmljYXRpb24oewogICAgICAgICAgICAgICAgVGl0bGUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIVm5OYVdFSjJZMjVSUFE9PScpKSkpLAogICAgICAgICAgICAgICAgQ29udGVudCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhSbmxhTWxZd1NVZG9hR041UW5WaWVVSnFZVWRHZVZsWFRqQmFXRWwyWTIwNWRtUkRRbmRaV0Vvd1RHYzlQUT09JykpKSksCiAgICAgICAgICAgICAgICBJY29uID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xwWVNubGlNMGs5JykpKSkKICAgICAgICAgICAgfSkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBpZiBSb290UGFydCB0aGVuCiAgICAgICAgICAgIFJvb3RQYXJ0LkNGcmFtZSA9IHRhcmdldFJvb3QuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAwLCAzKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpQbGF5ZXJUZWxlcG9ydFNlY3Rpb246Q3JlYXRlQnV0dG9uKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0Vm0xamJWWjZZVU5DVVdKSFJqVmFXRWxuVkVkc2VtUkJQVDA9JykpKSksCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCBuYW1lcyA9IGdldFBsYXllck5hbWVzKCkKICAgICAgICBpZiBUZWxlcG9ydERyb3Bkb3duUHJpbWFyeS5VcGRhdGVPcHRpb25zIHRoZW4KICAgICAgICAgICAgVGVsZXBvcnREcm9wZG93blByaW1hcnk6VXBkYXRlT3B0aW9ucyhuYW1lcykKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgZnVuY3Rpb24gdXBkYXRlRHJvcGRvd25zKCkKICAgIGxvY2FsIG5hbWVzID0gZ2V0UGxheWVyTmFtZXMoKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIGlmIFRlbGVwb3J0RHJvcGRvd25QcmltYXJ5LlVwZGF0ZU9wdGlvbnMgdGhlbiBUZWxlcG9ydERyb3Bkb3duUHJpbWFyeTpVcGRhdGVPcHRpb25zKG5hbWVzKSBlbmQKICAgIGVuZCkKZW5kCgpQbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQogICAgdHJhY2tFbmVteVBsYXllcihwbGF5ZXIpCiAgICB0YXNrLmRlbGF5KDAuMSwgdXBkYXRlRHJvcGRvd25zKQplbmQpClBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbihwbGF5ZXIpCiAgICBzcGF3blByb3RlY3Rpb25Db29sZG93bnNbcGxheWVyXSA9IG5pbAogICAgc3Bhd25Qcm90ZWN0aW9uRmlyc3RTZWVuW3BsYXllcl0gPSBuaWwKICAgIHBsYXllckpvaW5UaW1lc1twbGF5ZXJdID0gbmlsCiAgICB0cmFja2VkUGxheWVyc1twbGF5ZXJdID0gbmlsCiAgICBFU1BTeXN0ZW0uY2xlYXJFU1AocGxheWVyKQogICAgdGFzay5kZWxheSgwLjEsIHVwZGF0ZURyb3Bkb3ducykKZW5kKQoKCgotLSA9PT09PT09PT09IENIQVJBQ1RFUiBUQUIgPT09PT09PT09PQpsb2NhbCBDaGFyYWN0ZXJUYWIgPSBXaW5kb3c6Q3JlYXRlVGFiKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5YUdoamJVWnFaRWRXZVE9PScpKSkpLAogICAgSWNvbiA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tTkhWbmxqTWpsMScpKSkpLAogICAgSW1hZ2VTb3VyY2UgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJYUmpCYVdFcHdXVmQzUFE9PScpKSkpCn0pCgpsb2NhbCBDaGFyTW9kU2VjdGlvbiA9IENoYXJhY3RlclRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlhR2hqYlVacVpFZFdlVWxGTVhaYVNFMDknKSkpKSkKCgoKCgpsb2NhbCBnaG9zdE1vZGVBY3RpdmUgPSBmYWxzZQpsb2NhbCBnaG9zdENhbUNvbm5lY3Rpb24gPSBuaWwKCmxvY2FsIGdob3N0UG9zaXRpb24gPSBuaWwK', [27]='bG9jYWwgZ2hvc3RQYXJ0ID0gbmlsCmxvY2FsIGdob3N0VGVsZXBvcnRPbkRpc2FibGUgPSBmYWxzZQoKQ2hhck1vZFNlY3Rpb246Q3JlYXRlVG9nZ2xlKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEl5YUhaak0xRm5WRmM1YTFwUlBUMD0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIGdob3N0TW9kZUFjdGl2ZSA9IHYKICAgICAgICAKICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgaWYgUm9vdFBhcnQgdGhlbgogICAgICAgICAgICAgICAgZ2hvc3RQb3NpdGlvbiA9IFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICAgICAgZ2hvc3RQYXJ0ID0gSW5zdGFuY2UubmV3KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVkhSbmxrUVQwOScpKSkpKQogICAgICAgICAgICAgICAgZ2hvc3RQYXJ0LlNpemUgPSBWZWN0b3IzLm5ldygyLCAyLCAyKQogICAgICAgICAgICAgICAgZ2hvc3RQYXJ0LlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgZ2hvc3RQYXJ0Lk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uCiAgICAgICAgICAgICAgICBnaG9zdFBhcnQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigwLCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGdob3N0UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgIGdob3N0UGFydC5BbmNob3JlZCA9IHRydWUKICAgICAgICAgICAgICAgIGdob3N0UGFydC5DRnJhbWUgPSBDYW1lcmEuQ0ZyYW1lCiAgICAgICAgICAgICAgICBnaG9zdFBhcnQuUGFyZW50ID0gd29ya3NwYWNlCiAgICAgICAgICAgICAgICBDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdob3N0UGFydAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmb3IgXywgcGFydCBpbiBwYWlycyhDaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICBpZiBwYXJ0OklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEZ0Um5wYVZrSm9ZMjVSUFE9PScpKSkpKSBhbmQgcGFydC5OYW1lIH49IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFNVMkl5T1RCVlIwWjVaRUU5UFE9PScpKSkpIHRoZW4gcGFydC5UcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHBhcnQ6SXNBKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSkhWbXBaVjNjOScpKSkpKSBvciBwYXJ0OklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEp0Um1wYVVUMDknKSkpKSkgdGhlbiBwYXJ0LlRyYW5zcGFyZW5jeSA9IDEgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbG9jYWwgbW92ZVNwZWVkID0gNTAKICAgICAgICAgICAgICAgIGdob3N0Q2FtQ29ubmVjdGlvbiA9IFJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKGR0KQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBnaG9zdE1vZGVBY3RpdmUgb3Igbm90IGdob3N0UGFydCB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjYW0gPSBDYW1lcmEKICAgICAgICAgICAgICAgICAgICBsb2NhbCBtb3ZlRGlyID0gVmVjdG9yMy56ZXJvCiAgICAgICAgICAgICAgICAgICAgaWYgVXNlcklucHV0U2VydmljZTpJc0tleURvd24oRW51bS5LZXlDb2RlLlcpIHRoZW4gbW92ZURpciA9IG1vdmVEaXIgKyBjYW0uQ0ZyYW1lLkxvb2tWZWN0b3IgZW5kCiAgICAgICAgICAgICAgICAgICAgaWYgVXNlcklucHV0U2VydmljZTpJc0tleURvd24oRW51bS5LZXlDb2RlLlMpIHRoZW4gbW92ZURpciA9IG1vdmVEaXIgLSBjYW0uQ0ZyYW1lLkxvb2tWZWN0b3IgZW5kCiAgICAgICAgICAgICAgICAgICAgaWYgVXNlcklucHV0U2VydmljZTpJc0tleURvd24oRW51bS5LZXlDb2RlLkEpIHRoZW4gbW92ZURpciA9IG1vdmVEaXIgLSBjYW0uQ0ZyYW1lLlJpZ2h0VmVjdG9yIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIFVzZXJJbnB1dFNlcnZpY2U6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5EKSB0aGVuIG1vdmVEaXIgPSBtb3ZlRGlyICsgY2FtLkNGcmFtZS5SaWdodFZlY3RvciBlbmQKICAgICAgICAgICAgICAgICAgICBpZiBVc2VySW5wdXRTZXJ2aWNlOklzS2V5RG93bihFbnVtLktleUNvZGUuU3BhY2UpIHRoZW4gbW92ZURpciA9IG1vdmVEaXIgKyBWZWN0b3IzLm5ldygwLCAxLCAwKSBlbmQKICAgICAgICAgICAgICAgICAgICBpZiBVc2VySW5wdXRTZXJ2aWNlOklzS2V5RG93bihFbnVtLktleUNvZGUuTGVmdFNoaWZ0KSB0aGVuIG1vdmVEaXIgPSBtb3ZlRGlyIC0gVmVjdG9yMy5uZXcoMCwgMSwgMCkgZW5kCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgbW92ZURpci5NYWduaXR1ZGUgPiAwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3RQYXJ0LkNGcmFtZSA9IGdob3N0UGFydC5DRnJhbWUgKyAobW92ZURpci5Vbml0ICogbW92ZVNwZWVkICogZHQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgUm9vdFBhcnQgYW5kIGdob3N0UG9zaXRpb24gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBSb290UGFydC5DRnJhbWUgPSBnaG9zdFBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIFJvb3RQYXJ0LkFzc2VtYmx5TGluZWFyVmVsb2NpdHkgPSBWZWN0b3IzLnplcm8KICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiBnaG9zdENhbUNvbm5lY3Rpb24gdGhlbiBnaG9zdENhbUNvbm5lY3Rpb246RGlzY29ubmVjdCgpIGdob3N0Q2FtQ29ubmVjdGlvbiA9IG5pbCBlbmQKICAgICAgICAgICAgaWYgZ2hvc3RUZWxlcG9ydE9uRGlzYWJsZSBhbmQgZ2hvc3RQYXJ0IGFuZCBSb290UGFydCB0aGVuCiAgICAgICAgICAgICAgICBSb290UGFydC5DRnJhbWUgPSBnaG9zdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiBnaG9zdFBhcnQgdGhlbiBnaG9zdFBhcnQ6RGVzdHJveSgpIGdob3N0UGFydCA9IG5pbCBlbmQKICAgICAgICAgICAgaWYgSHVtYW5vaWQgdGhlbiBDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IEh1bWFub2lkIGVuZAogICAgICAgICAgICBmb3IgXywgcGFydCBpbiBwYWlycyhDaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgIGlmIHBhcnQ6SXNBKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRnRSbnBhVmtKb1kyNVJQUT09JykpKSkpIGFuZCBwYXJ0Lk5hbWUgfj0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkgdGhlbiBwYXJ0LlRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgICAgIGVsc2VpZiBwYXJ0OklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpIVm1wWlYzYzknKSkpKSkgb3IgcGFydDpJc0EoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKdFJtcGFVVDA5JykpKSkpIHRoZW4gcGFydC5UcmFuc3BhcmVuY3kgPSAwIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgZ2hvc3RQb3NpdGlvbiA9IG5pbAogICAgICAgIGVuZAogICAgZW5kCn0pCgpDaGFyTW9kU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vu', [28]='a1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWbk5hV0VKMlkyNVJaMkl5TkdkU1IyeDZXVmRLYzFwUlBUMD0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIGdob3N0VGVsZXBvcnRPbkRpc2FibGUgPSB2CiAgICBlbmQKfSkKCkNoYXJNb2RTZWN0aW9uOkNyZWF0ZUJ1dHRvbih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWdFZuUmlNMXBzU1VWR2Fsa3lWbnBqTWpsNVlWZFdlZz09JykpKSksCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBmb3IgXywgYyBpbiBwYWlycyhDaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgaWYgYzpJc0EoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWFRtcGFXRTU2WWpOS05RPT0nKSkpKSkgdGhlbiBjOkRlc3Ryb3koKSBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKLS0gPT09PT09PT09PSBBRFZBTkNFRCBEUkFXSU5HIEVTUCA9PT09PT09PT09Cgpsb2NhbCBFU1BTeXN0ZW0gPSB7fQpFU1BTeXN0ZW0uT2JqZWN0cyA9IHt9CgpmdW5jdGlvbiBFU1BTeXN0ZW0uY3JlYXRlRHJhd2luZ09iamVjdCh0eXBlLCBwcm9wZXJ0aWVzKQogICAgbG9jYWwgZHJhd2luZyA9IGNyZWF0ZURyYXdpbmcodHlwZSkKICAgIGZvciBwcm9wLCB2YWwgaW4gcGFpcnMocHJvcGVydGllcykgZG8KICAgICAgICBkcmF3aW5nW3Byb3BdID0gdmFsCiAgICBlbmQKICAgIHJldHVybiBkcmF3aW5nCmVuZAoKZnVuY3Rpb24gRVNQU3lzdGVtLnJlbW92ZURyYXdpbmdPYmplY3Qob2JqKQogICAgaWYgb2JqIHRoZW4KICAgICAgICBvYmouVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgaWYgb2JqLlJlbW92ZSB0aGVuIG9iajpSZW1vdmUoKSBlbmQKICAgIGVuZAplbmQKCmZ1bmN0aW9uIEVTUFN5c3RlbS5jbGVhckVTUChwbGF5ZXIpCiAgICBpZiBFU1BTeXN0ZW0uT2JqZWN0c1twbGF5ZXJdIHRoZW4KICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKEVTUFN5c3RlbS5PYmplY3RzW3BsYXllcl0pIGRvCiAgICAgICAgICAgIEVTUFN5c3RlbS5yZW1vdmVEcmF3aW5nT2JqZWN0KG9iaikKICAgICAgICBlbmQKICAgICAgICBFU1BTeXN0ZW0uT2JqZWN0c1twbGF5ZXJdID0gbmlsCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBFU1BTeXN0ZW0uZ2V0Qm91bmRpbmdCb3goY2hhcmFjdGVyKQogICAgbG9jYWwgcm9vdFBhcnQgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpCiAgICBpZiBub3Qgcm9vdFBhcnQgdGhlbiByZXR1cm4gZW5kCiAgICAKICAgIGxvY2FsIG1pbiwgbWF4ID0gVmVjdG9yMi5uZXcobWF0aC5odWdlLCBtYXRoLmh1Z2UpLCBWZWN0b3IyLm5ldygtbWF0aC5odWdlLCAtbWF0aC5odWdlKQogICAgbG9jYWwgcGFydHMgPSB7cm9vdFBhcnQsIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IVm1oYVFUMDknKSkpKSl9CiAgICAKICAgIGZvciBfLCBwYXJ0IGluIHBhaXJzKGNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHBhcnQ6SXNBKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRnRSbnBhVmtKb1kyNVJQUT09JykpKSkpIHRoZW4KICAgICAgICAgICAgbmtoQmNpem11Lmluc2VydChwYXJ0cywgcGFydCkKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGZvciBfLCBwYXJ0IGluIHBhaXJzKHBhcnRzKSBkbwogICAgICAgIGxvY2FsIGNmID0gcGFydC5DRnJhbWUKICAgICAgICBsb2NhbCBzaXplID0gcGFydC5TaXplCiAgICAgICAgbG9jYWwgY29ybmVycyA9IHsKICAgICAgICAgICAgY2YgKiBDRnJhbWUubmV3KHNpemUuWC8yLCBzaXplLlkvMiwgc2l6ZS5aLzIpLAogICAgICAgICAgICBjZiAqIENGcmFtZS5uZXcoLXNpemUuWC8yLCBzaXplLlkvMiwgc2l6ZS5aLzIpLAogICAgICAgICAgICBjZiAqIENGcmFtZS5uZXcoLXNpemUuWC8yLCAtc2l6ZS5ZLzIsIHNpemUuWi8yKSwKICAgICAgICAgICAgY2YgKiBDRnJhbWUubmV3KHNpemUuWC8yLCAtc2l6ZS5ZLzIsIHNpemUuWi8yKSwKICAgICAgICAgICAgY2YgKiBDRnJhbWUubmV3KHNpemUuWC8yLCBzaXplLlkvMiwgLXNpemUuWi8yKSwKICAgICAgICAgICAgY2YgKiBDRnJhbWUubmV3KC1zaXplLlgvMiwgc2l6ZS5ZLzIsIC1zaXplLlovMiksCiAgICAgICAgICAgIGNmICogQ0ZyYW1lLm5ldygtc2l6ZS5YLzIsIC1zaXplLlkvMiwgLXNpemUuWi8yKSwKICAgICAgICAgICAgY2YgKiBDRnJhbWUubmV3KHNpemUuWC8yLCAtc2l6ZS5ZLzIsIC1zaXplLlovMikKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZm9yIF8sIGNvcm5lciBpbiBwYWlycyhjb3JuZXJzKSBkbwogICAgICAgICAgICBsb2NhbCBzY3JlZW5Qb3MsIG9uU2NyZWVuID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KGNvcm5lci5Qb3NpdGlvbikKICAgICAgICAgICAgaWYgb25TY3JlZW4gdGhlbgogICAgICAgICAgICAgICAgbWluID0gVmVjdG9yMi5uZXcobWF0aC5taW4obWluLlgsIHNjcmVlblBvcy5YKSwgbWF0aC5taW4obWluLlksIHNjcmVlblBvcy5ZKSkKICAgICAgICAgICAgICAgIG1heCA9IFZlY3RvcjIubmV3KG1hdGgubWF4KG1heC5YLCBzY3JlZW5Qb3MuWCksIG1hdGgubWF4KG1heC5ZLCBzY3JlZW5Qb3MuWSkpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIHJldHVybiBtaW4sIG1heAplbmQKCmZ1bmN0aW9uIEVTUFN5c3RlbS51cGRhdGVFU1AoKQogICAgZm9yIF8sIHBsYXllciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgaWYgcGxheWVyID09IExvY2FsUGxheWVyIHRoZW4gY29udGludWUgZW5kCiAgICAgICAgCiAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gcGxheWVyLkNoYXJhY3RlcgogICAgICAgIGxvY2FsIHJvb3RQYXJ0ID0gY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpCiAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyYWN0ZXIgYW5kIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVm5SWlZ6VjJZVmRSUFE9PScpKSkpKQogICAgICAgIAogICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgb3Igbm90IHJvb3RQYXJ0IG9yIG5vdCBodW1hbm9pZCBvciBodW1hbm9pZC5IZWFsdGggPD0gMCB0aGVuCiAgICAgICAgICAgIEVTUFN5c3RlbS5jbGVhckVTUChwbGF5ZXIpCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgaWYgVmlzdWFsc1NldHRpbmdzLkVTUC5UZWFtQ2hlY2sgYW5kIFNpbGVudEFpbVN5c3RlbS5pc0ZyaWVuZGx5UGxheWVyKHBsYXllcikgdGhlbgogICAgICAgICAgICBFU1BTeXN0ZW0uY2xlYXJFU1AocGxheWVyKQogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGlmIG5vdCBWaXN1YWxzU2V0dGluZ3MuRVNQLkVuYWJsZWQgdGhlbgogICAgICAgICAgICBFU1BTeXN0ZW0uY2xlYXJFU1AocGxheWVyKQogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGlmIG5vdCBFU1BTeXN0ZW0uT2JqZWN0c1twbGF5ZXJdIHRo', [29]='ZW4KICAgICAgICAgICAgRVNQU3lzdGVtLk9iamVjdHNbcGxheWVyXSA9IHsKICAgICAgICAgICAgICAgIEJveCA9IEVTUFN5c3RlbS5jcmVhdGVEcmF3aW5nT2JqZWN0KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXpSakZaV0VwcycpKSkpLCB7VGhpY2tuZXNzID0gMSwgRmlsbGVkID0gZmFsc2UsIFpJbmRleCA9IDJ9KSwKICAgICAgICAgICAgICAgIEJveE91dGxpbmUgPSBFU1BTeXN0ZW0uY3JlYXRlRHJhd2luZ09iamVjdCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV6UmpGWldFcHMnKSkpKSwge1RoaWNrbmVzcyA9IDMsIEZpbGxlZCA9IGZhbHNlLCBaSW5kZXggPSAxLCBDb2xvciA9IENvbG9yMy5uZXcoMCwwLDApfSksCiAgICAgICAgICAgICAgICBIZWFsdGhCYXIgPSBFU1BTeXN0ZW0uY3JlYXRlRHJhd2luZ09iamVjdCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV6UmpGWldFcHMnKSkpKSwge0ZpbGxlZCA9IHRydWUsIFpJbmRleCA9IDJ9KSwKICAgICAgICAgICAgICAgIEhlYWx0aEJhck91dGxpbmUgPSBFU1BTeXN0ZW0uY3JlYXRlRHJhd2luZ09iamVjdCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV6UmpGWldFcHMnKSkpKSwge1RoaWNrbmVzcyA9IDEsIEZpbGxlZCA9IGZhbHNlLCBaSW5kZXggPSAxLCBDb2xvciA9IENvbG9yMy5uZXcoMCwwLDApfSksCiAgICAgICAgICAgICAgICBOYW1lID0gRVNQU3lzdGVtLmNyZWF0ZURyYXdpbmdPYmplY3QoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZqUmtRVDA5JykpKSksIHtDZW50ZXIgPSB0cnVlLCBPdXRsaW5lID0gdHJ1ZSwgU2l6ZSA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuVGV4dFNpemUsIEZvbnQgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLkZvbnQsIFpJbmRleCA9IDN9KSwKICAgICAgICAgICAgICAgIERpc3RhbmNlID0gRVNQU3lzdGVtLmNyZWF0ZURyYXdpbmdPYmplY3QoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZqUmtRVDA5JykpKSksIHtDZW50ZXIgPSB0cnVlLCBPdXRsaW5lID0gdHJ1ZSwgU2l6ZSA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuVGV4dFNpemUsIEZvbnQgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLkZvbnQsIFpJbmRleCA9IDN9KSwKICAgICAgICAgICAgICAgIFRyYWNlciA9IEVTUFN5c3RlbS5jcmVhdGVEcmF3aW5nT2JqZWN0KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUkhiSFZhVVQwOScpKSkpLCB7VGhpY2tuZXNzID0gMSwgWkluZGV4ID0gMn0pLAogICAgICAgICAgICAgICAgQXJyb3cgPSBFU1BTeXN0ZW0uY3JlYXRlRHJhd2luZ09iamVjdCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpJU25CWlZ6VnVZa2RWUFE9PScpKSkpLCB7VGhpY2tuZXNzID0gMSwgRmlsbGVkID0gdHJ1ZSwgWkluZGV4ID0gMn0pCiAgICAgICAgICAgIH0KICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBsb2NhbCBvYmpzID0gRVNQU3lzdGVtLk9iamVjdHNbcGxheWVyXQogICAgICAgIGxvY2FsIHZlY3Rvciwgb25TY3JlZW4gPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdFBhcnQuUG9zaXRpb24pCiAgICAgICAgbG9jYWwgZGlzdCA9IChDYW1lcmEuQ0ZyYW1lLlBvc2l0aW9uIC0gcm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZQogICAgICAgIAogICAgICAgIGlmIG9uU2NyZWVuIHRoZW4KICAgICAgICAgICAgLS0gQm94CiAgICAgICAgICAgIGlmIFZpc3VhbHNTZXR0aW5ncy5FU1AuQm94IHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIG1pbiwgbWF4ID0gRVNQU3lzdGVtLmdldEJvdW5kaW5nQm94KGNoYXJhY3RlcikKICAgICAgICAgICAgICAgIGlmIG1pbiBhbmQgbWF4IHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCBzaXplID0gbWF4IC0gbWluCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcG9zaXRpb24gPSBtaW4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBvYmpzLkJveC5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIG9ianMuQm94LlNpemUgPSBzaXplCiAgICAgICAgICAgICAgICAgICAgb2Jqcy5Cb3guUG9zaXRpb24gPSBwb3NpdGlvbgogICAgICAgICAgICAgICAgICAgIG9ianMuQm94LkNvbG9yID0gVmlzdWFsc1NldHRpbmdzLkVTUC5Cb3hDb2xvcgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIFZpc3VhbHNTZXR0aW5ncy5FU1AuQm94T3V0bGluZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianMuQm94T3V0bGluZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBvYmpzLkJveE91dGxpbmUuU2l6ZSA9IHNpemUKICAgICAgICAgICAgICAgICAgICAgICAgb2Jqcy5Cb3hPdXRsaW5lLlBvc2l0aW9uID0gcG9zaXRpb24KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianMuQm94T3V0bGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAtLSBIZWFsdGggQmFyCiAgICAgICAgICAgICAgICAgICAgaWYgVmlzdWFsc1NldHRpbmdzLkVTUC5IZWFsdGhCYXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBoZWFsdGhQY3QgPSBtYXRoLmNsYW1wKGh1bWFub2lkLkhlYWx0aCAvIGh1bWFub2lkLk1heEhlYWx0aCwgMCwgMSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYmFySGVpZ2h0ID0gc2l6ZS5ZICogaGVhbHRoUGN0CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGJhcldpZHRoID0gMgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBiYXJQb3MgPSBWZWN0b3IyLm5ldyhwb3NpdGlvbi5YIC0gNSwgcG9zaXRpb24uWSArIChzaXplLlkgLSBiYXJIZWlnaHQpKQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgb2Jqcy5IZWFsdGhCYXIuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgb2Jqcy5IZWFsdGhCYXIuU2l6ZSA9IFZlY3RvcjIubmV3KGJhcldpZHRoLCBiYXJIZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianMuSGVhbHRoQmFyLlBvc2l0aW9uID0gYmFyUG9zCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianMuSGVhbHRoQmFyLkNvbG9yID0gQ29sb3IzLmZyb21IU1YoaGVhbHRoUGN0ICogMC4zLCAxLCAxKQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgb2Jqcy5IZWFsdGhCYXJPdXRsaW5lLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIG9ianMuSGVhbHRoQmFyT3V0bGluZS5TaXplID0gVmVjdG9yMi5uZXcoYmFyV2lkdGggKyAyLCBzaXplLlkgKyAyKQogICAgICAgICAgICAgICAgICAgICAgICBvYmpzLkhlYWx0aEJhck91dGxpbmUuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhwb3NpdGlvbi5YIC0gNiwgcG9zaXRpb24uWSAtIDEpCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBvYmpzLkhlYWx0aEJhci5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgb2Jqcy5IZWFsdGhCYXJPdXRsaW5lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIG9ianMuQm94LlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIG9ianMu', [30]='Qm94T3V0bGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBvYmpzLkhlYWx0aEJhci5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBvYmpzLkhlYWx0aEJhck91dGxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgb2Jqcy5Cb3guVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICBvYmpzLkJveE91dGxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICBvYmpzLkhlYWx0aEJhci5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgIG9ianMuSGVhbHRoQmFyT3V0bGluZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBOYW1lICYgRGlzdGFuY2UKICAgICAgICAgICAgbG9jYWwgdG9wUG9zID0gQ2FtZXJhOldvcmxkVG9WaWV3cG9ydFBvaW50KHJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMywgMCkpIC0tIEFwcHJveCBoZWFkIHRvcAogICAgICAgICAgICBsb2NhbCBib3R0b21Qb3MgPSBDYW1lcmE6V29ybGRUb1ZpZXdwb3J0UG9pbnQocm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAzLCAwKSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIFZpc3VhbHNTZXR0aW5ncy5FU1AuTmFtZSB0aGVuCiAgICAgICAgICAgICAgICBvYmpzLk5hbWUuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIG9ianMuTmFtZS5UZXh0ID0gcGxheWVyLk5hbWUKICAgICAgICAgICAgICAgIG9ianMuTmFtZS5Qb3NpdGlvbiA9IFZlY3RvcjIubmV3KHRvcFBvcy5YLCB0b3BQb3MuWSAtIDE1KQogICAgICAgICAgICAgICAgb2Jqcy5OYW1lLkNvbG9yID0gVmlzdWFsc1NldHRpbmdzLkVTUC5OYW1lQ29sb3IKICAgICAgICAgICAgICAgIG9ianMuTmFtZS5TaXplID0gVmlzdWFsc1NldHRpbmdzLkVTUC5UZXh0U2l6ZQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBvYmpzLk5hbWUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgVmlzdWFsc1NldHRpbmdzLkVTUC5EaXN0YW5jZSB0aGVuCiAgICAgICAgICAgICAgICBvYmpzLkRpc3RhbmNlLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBvYmpzLkRpc3RhbmNlLlRleHQgPSBMaW1CRWVhaC5mbG9vcihkaXN0KSAuLiAibSIKICAgICAgICAgICAgICAgIG9ianMuRGlzdGFuY2UuUG9zaXRpb24gPSBWZWN0b3IyLm5ldyhib3R0b21Qb3MuWCwgYm90dG9tUG9zLlkgKyA1KQogICAgICAgICAgICAgICAgb2Jqcy5EaXN0YW5jZS5Db2xvciA9IENvbG9yMy5uZXcoMSwxLDEpCiAgICAgICAgICAgICAgICBvYmpzLkRpc3RhbmNlLlNpemUgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLlRleHRTaXplCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIG9ianMuRGlzdGFuY2UuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgLS0gVHJhY2VycwogICAgICAgICAgICBpZiBWaXN1YWxzU2V0dGluZ3MuRVNQLlRyYWNlcnMgdGhlbgogICAgICAgICAgICAgICAgb2Jqcy5UcmFjZXIuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgIG9ianMuVHJhY2VyLkNvbG9yID0gVmlzdWFsc1NldHRpbmdzLkVTUC5UcmFjZXJDb2xvcgogICAgICAgICAgICAgICAgb2Jqcy5UcmFjZXIuVG8gPSBWZWN0b3IyLm5ldyh2ZWN0b3IuWCwgdmVjdG9yLlkpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIG9yaWdpbiA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWCAvIDIsIENhbWVyYS5WaWV3cG9ydFNpemUuWSkgLS0gQm90dG9tCiAgICAgICAgICAgICAgICBpZiBWaXN1YWxzU2V0dGluZ3MuRVNQLlRyYWNlck9yaWdpbiA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5Vm5Wa1IxWjUnKSkpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luID0gVmVjdG9yMi5uZXcoQ2FtZXJhLlZpZXdwb3J0U2l6ZS5YIC8gMiwgQ2FtZXJhLlZpZXdwb3J0U2l6ZS5ZIC8gMikKICAgICAgICAgICAgICAgIGVsc2VpZiBWaXN1YWxzU2V0dGluZ3MuRVNQLlRyYWNlck9yaWdpbiA9PSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJYT1RGak1sVTknKSkpKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luID0gVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgb2Jqcy5UcmFjZXIuRnJvbSA9IG9yaWdpbgogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBvYmpzLlRyYWNlci5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBvYmpzLkFycm93LlZpc2libGUgPSBmYWxzZQogICAgICAgIGVsc2UKICAgICAgICAgICAgLS0gT2Zmc2NyZWVuCiAgICAgICAgICAgIG9ianMuQm94LlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBvYmpzLkJveE91dGxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIG9ianMuSGVhbHRoQmFyLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICBvYmpzLkhlYWx0aEJhck91dGxpbmUuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIG9ianMuTmFtZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgb2Jqcy5EaXN0YW5jZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgb2Jqcy5UcmFjZXIuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBWaXN1YWxzU2V0dGluZ3MuRVNQLk9mZnNjcmVlbkFycm93cyB0aGVuCiAgICAgICAgICAgICAgICBvYmpzLkFycm93LlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBvYmpzLkFycm93LkNvbG9yID0gVmlzdWFsc1NldHRpbmdzLkVTUC5BcnJvd0NvbG9yCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIGNlbnRlciA9IFZlY3RvcjIubmV3KENhbWVyYS5WaWV3cG9ydFNpemUuWCAvIDIsIENhbWVyYS5WaWV3cG9ydFNpemUuWSAvIDIpCiAgICAgICAgICAgICAgICBsb2NhbCByZWxhdGl2ZSA9IChyb290UGFydC5Qb3NpdGlvbiAtIENhbWVyYS5DRnJhbWUuUG9zaXRpb24pCiAgICAgICAgICAgICAgICBsb2NhbCBhbmdsZSA9IG1hdGguYXRhbjIocmVsYXRpdmUuWiwgcmVsYXRpdmUuWCkgLSBtYXRoLmF0YW4yKENhbWVyYS5DRnJhbWUuTG9va1ZlY3Rvci5aLCBDYW1lcmEuQ0ZyYW1lLkxvb2tWZWN0b3IuWCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLS0gQWRqdXN0IGFuZ2xlIGZvciBjYW1lcmEgcm90YXRpb24KICAgICAgICAgICAgICAgIC0tIFRoaXMgaXMgYSBzaW1wbGlmaWVkIDJEIHByb2plY3Rpb24sIG1pZ2h0IG5lZWQgcmVmaW5lbWVudCBmb3IgZnVsbCAzRCByb3RhdGlvbiBzdXBwb3J0CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxvY2FsIHJhZGl1cyA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuQXJyb3dSYWRpdXMKICAgICAgICAgICAgICAgIGxvY2FsIGFycm93UG9zID0gY2VudGVyICsgVmVjdG9yMi5uZXcobWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLCBtYXRoLnNpbihhbmdsZSkgKiByYWRpdXMpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC0tIERyYXcgdHJpYW5nbGUgcG9pbnRpbmcgdG8gdGFyZ2V0CiAgICAgICAgICAgICAgICAtLSAuLi4gKFNp', [31]='bXBsaWZpZWQgZm9yIG5vdywganVzdCBhIGRvdC9zbWFsbCB0cmlhbmdsZSkKICAgICAgICAgICAgICAgIC0tIEltcGxlbWVudGluZyBmdWxsIGFycm93IHJvdGF0aW9uIG1hdGggaXMgY29tcGxleCBpbiB0aGlzIHNuaXBwZXQsIGxlYXZpbmcgYXMgVE9ETyBvciBzaW1wbGUgaW5kaWNhdG9yCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC0tIEZvciBub3csIGp1c3QgaGlkZSBhcnJvd3MgdG8gYXZvaWQgdmlzdWFsIGdsaXRjaGVzIHVudGlsIGZ1bGwgbWF0aCBpcyBhZGRlZAogICAgICAgICAgICAgICAgb2Jqcy5BcnJvdy5WaXNpYmxlID0gZmFsc2UgCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIG9ianMuQXJyb3cuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZAoKUnVuU2VydmljZS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoRVNQU3lzdGVtLnVwZGF0ZUVTUCkKCi0tID09PT09PT09PT0gVklTVUFMUyBUQUIgPT09PT09PT09PQpsb2NhbCBWaXN1YWxzVGFiID0gV2luZG93OkNyZWF0ZVRhYih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xadGJIcGtWMFp6WTNjOVBRPT0nKSkpKSwKICAgIEljb24gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbVJ0YkhwaFYwcHdZa2RzTUdWUlBUMD0nKSkpKSwKICAgIEltYWdlU291cmNlID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWFJqQmFXRXB3V1ZkM1BRPT0nKSkpKQp9KQoKbG9jYWwgZnVuY3Rpb24gYXBwbHlFU1AoY2hhcmFjdGVyKQogICAgaWYgbm90IGNoYXJhY3RlciBvciBub3Qgc3RhdGUuZXNwIHRoZW4gcmV0dXJuIGVuZAogICAgdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICAgICAgaWYgbm90IGNoYXJhY3Rlci5QYXJlbnQgdGhlbiBjaGFyYWN0ZXIuQW5jZXN0cnlDaGFuZ2VkOldhaXQoKSBlbmQKICAgICAgICBpZiBub3QgY2hhcmFjdGVyLlBhcmVudCB0aGVuIHJldHVybiBlbmQKICAgICAgICBsb2NhbCBoZWFkID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTkhWbWhhUVQwOScpKSkpKSBvciBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpIG9yIGNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSFZtaGFRVDA5JykpKSksIDUpCiAgICAgICAgaWYgbm90IGhlYWQgdGhlbiByZXR1cm4gZW5kCgogICAgICAgIGxvY2FsIGhpZ2hsaWdodCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpXVGxFPScpKSkpKQogICAgICAgIGlmIG5vdCBoaWdobGlnaHQgdGhlbgogICAgICAgICAgICBoaWdobGlnaHQgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSGJHNWhSM2h3V2pKb01BPT0nKSkpKSkKICAgICAgICAgICAgaGlnaGxpZ2h0Lk5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpXVGxFPScpKSkpCiAgICAgICAgICAgIGhpZ2hsaWdodC5BZG9ybmVlID0gY2hhcmFjdGVyCiAgICAgICAgICAgIGhpZ2hsaWdodC5EZXB0aE1vZGUgPSBFbnVtLkhpZ2hsaWdodERlcHRoTW9kZS5BbHdheXNPblRvcAogICAgICAgICAgICBoaWdobGlnaHQuUGFyZW50ID0gY2hhcmFjdGVyCiAgICAgICAgICAgIGhpZ2hsaWdodDpTZXRBdHRyaWJ1dGUoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWFJuVlpWMlJzV2tWS05WRlhWbmxpZHowOScpKSkpLCB0cnVlKQogICAgICAgICAgICBoaWdobGlnaHQuQW5jZXN0cnlDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oXywgcGFyZW50KQogICAgICAgICAgICAgICAgaWYgcGFyZW50ID09IG5pbCBhbmQgc3RhdGUuZXNwIGFuZCBjaGFyYWN0ZXIuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgICAgICB0YXNrLmRlbGF5KDAuMSwgZnVuY3Rpb24oKSBpZiBjaGFyYWN0ZXIuUGFyZW50IGFuZCBzdGF0ZS5lc3AgdGhlbiBhcHBseUVTUChjaGFyYWN0ZXIpIGVuZCBlbmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgICAgIGhpZ2hsaWdodC5GaWxsQ29sb3IgPSBlc3BDb2xvcgogICAgICAgIGhpZ2hsaWdodC5PdXRsaW5lQ29sb3IgPSBlc3BPdXRsaW5lQ29sb3IKICAgICAgICBoaWdobGlnaHQuRW5hYmxlZCA9IHRydWUKICAgIGVuZCkKZW5kCgpsb2NhbCBmdW5jdGlvbiByZW1vdmVFU1AoY2hhcmFjdGVyKQogICAgaWYgY2hhcmFjdGVyIHRoZW4gbG9jYWwgZSA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpXVGxFPScpKSkpKSBpZiBlIHRoZW4gZTpEZXN0cm95KCkgZW5kIGVuZAplbmQKCmNvbm5lY3Rpb25zLmVzcFBsYXllcnMgPSBjb25uZWN0aW9ucy5lc3BQbGF5ZXJzIG9yIHt9Cgpsb2NhbCBmdW5jdGlvbiBjb25uZWN0UGxheWVyRVNQKHBsYXllcikKICAgIGlmIG5vdCBwbGF5ZXIgb3IgcGxheWVyID09IExvY2FsUGxheWVyIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgY29ubmVjdGlvbnMuZXNwUGxheWVyc1twbGF5ZXJdIHRoZW4gY29ubmVjdGlvbnMuZXNwUGxheWVyc1twbGF5ZXJdOkRpc2Nvbm5lY3QoKSBlbmQKICAgIGNvbm5lY3Rpb25zLmVzcFBsYXllcnNbcGxheWVyXSA9IHBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGNoYXJhY3RlcikKICAgICAgICBpZiBzdGF0ZS5lc3AgdGhlbiBhcHBseUVTUChjaGFyYWN0ZXIpIGVsc2UgcmVtb3ZlRVNQKGNoYXJhY3RlcikgZW5kCiAgICBlbmQpCiAgICBpZiBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4gaWYgc3RhdGUuZXNwIHRoZW4gYXBwbHlFU1AocGxheWVyLkNoYXJhY3RlcikgZWxzZSByZW1vdmVFU1AocGxheWVyLkNoYXJhY3RlcikgZW5kIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIHJlZnJlc2hFU1BDb25uZWN0aW9ucygpCiAgICBmb3IgcGxheWVyLCBjb25uIGluIHBhaXJzKGNvbm5lY3Rpb25zLmVzcFBsYXllcnMpIGRvCiAgICAgICAgaWYgbm90IHBsYXllciBvciBub3QgY29ubiBvciBub3QgcGxheWVyLlBhcmVudCB0aGVuCiAgICAgICAgICAgIGlmIGNvbm4gdGhlbiBjb25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICAgICAgY29ubmVjdGlvbnMuZXNwUGxheWVyc1twbGF5ZXJdID0gbmlsCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGlmIHN0YXRlLmVzcCB0aGVuIGZvciBfLCBwbGF5ZXIgaW4gaXBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbyBpZiBwbGF5ZXIgfj0gTG9jYWxQbGF5ZXIgdGhlbiBjb25uZWN0UGxheWVyRVNQKHBsYXllcikgZW5kIGVuZCBlbmQKZW5kCgppZiBub3QgY29ubmVjdGlvbnMuZXNwUGxheWVyQWRkZWQgdGhlbgogICAgY29ubmVjdGlvbnMuZXNwUGxheWVyQWRkZWQgPSBQbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQogICAgICAgIGlmIHBsYXllciB+PSBMb2NhbFBsYXllciBhbmQgc3RhdGUuZXNwIHRoZW4gY29ubmVjdFBsYXllckVTUChwbGF5ZXIpIGVuZAogICAgZW5kKQplbmQKCmlmIG5vdCBjb25uZWN0aW9ucy5lc3BQbGF5ZXJSZW1vdmluZyB0aGVuCiAgICBjb25uZWN0aW9ucy5lc3BQbGF5ZXJSZW1vdmluZyA9IFBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbihwbGF5ZXIpCiAgICAgICAgaWYg', [32]='Y29ubmVjdGlvbnMuZXNwUGxheWVyc1twbGF5ZXJdIHRoZW4gY29ubmVjdGlvbnMuZXNwUGxheWVyc1twbGF5ZXJdOkRpc2Nvbm5lY3QoKSBjb25uZWN0aW9ucy5lc3BQbGF5ZXJzW3BsYXllcl0gPSBuaWwgZW5kCiAgICBlbmQpCmVuZAoKaWYgc3RhdGUuZXNwIHRoZW4KICAgIHJlZnJlc2hFU1BDb25uZWN0aW9ucygpCmVuZAoKbG9jYWwgRVNQU2VjdGlvbiA9IFZpc3VhbHNUYWI6Q3JlYXRlU2VjdGlvbigoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpXVGxGSlJrNXNaRWhTY0dKdFpIbz0nKSkpKSkKCkVTUFNlY3Rpb246Q3JlYXRlVG9nZ2xlKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEpYTldoWmJYaHNTVVZXVkZWQlBUMD0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuRW5hYmxlZCwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgVmlzdWFsc1NldHRpbmdzLkVTUC5FbmFibGVkID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpFU1BTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdE9UUkpSVlpVVlVFOVBRPT0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuQm94LAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBWaXN1YWxzU2V0dGluZ3MuRVNQLkJveCA9IHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKRVNQU2VjdGlvbjpDcmVhdGVDb2xvclBpY2tlcih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdE9UUkpSVTUyWWtjNWVRPT0nKSkpKSwKICAgIENvbG9yID0gVmlzdWFsc1NldHRpbmdzLkVTUC5Cb3hDb2xvciwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oYykKICAgICAgICBWaXN1YWxzU2V0dGluZ3MuRVNQLkJveENvbG9yID0gYwogICAgICAgIHF1ZXVlQ29uZmlnU2F2ZSgpCiAgICBlbmQKfSkKCkVTUFNlY3Rpb246Q3JlYXRlVG9nZ2xlKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IVm1oaVNGSnZTVVZLYUdOblBUMD0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IFZpc3VhbHNTZXR0aW5ncy5FU1AuSGVhbHRoQmFyLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBWaXN1YWxzU2V0dGluZ3MuRVNQLkhlYWx0aEJhciA9IHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKRVNQU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUnRSblJhVTBKR1ZURkJQUT09JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLk5hbWUsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFZpc3VhbHNTZXR0aW5ncy5FU1AuTmFtZSA9IHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKRVNQU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSkhiSHBrUjBaMVdUSlZaMUpXVGxFPScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gVmlzdWFsc1NldHRpbmdzLkVTUC5EaXN0YW5jZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgVmlzdWFsc1NldHRpbmdzLkVTUC5EaXN0YW5jZSA9IHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKRVNQU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWklTbWhaTWxaNVkzYzlQUT09JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBWaXN1YWxzU2V0dGluZ3MuRVNQLlRyYWNlcnMsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFZpc3VhbHNTZXR0aW5ncy5FU1AuVHJhY2VycyA9IHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKRVNQU2VjdGlvbjpDcmVhdGVEcm9wZG93bih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSVNtaFpNbFo1U1VVNWVXRlhaSEJpWnowOScpKSkpLAogICAgT3B0aW9ucyA9IHsoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEZ0T1RCa1J6bDAnKSkpKSwgKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xFeVZuVmtSMVo1JykpKSksIChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhPVEZqTWxVOScpKSkpfSwKICAgIEN1cnJlbnRPcHRpb24gPSB7VmlzdWFsc1NldHRpbmdzLkVTUC5UcmFjZXJPcmlnaW59LAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBWaXN1YWxzU2V0dGluZ3MuRVNQLlRyYWNlck9yaWdpbiA9IHZhbHVlWzFdIG9yIHZhbHVlCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKRVNQU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWbWhpVTBKRVlVZFdhbUYzUFQwPScpKSkpLAogICAgQ3VycmVudFZhbHVlID0gVmlzdWFsc1NldHRpbmdzLkVTUC5UZWFtQ2hlY2ssCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIFZpc3VhbHNTZXR0aW5ncy5FU1AuVGVhbUNoZWNrID0gdmFsdWUKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgotLSBMZWdhY3kgQ2hhbXMgKEhpZ2hsaWdodCkKbG9jYWwgQ2hhbXNTZWN0aW9uID0gVmlzdWFsc1RhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlhR2hpV0UxblMwVm9jRm95YUhOaFYyUnZaRU5yUFE9PScpKSkpKQoKQ2hhbXNTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKWE5XaFpiWGhzU1VWT2IxbFhNWG89JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBzdGF0ZS5lc3AsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbHVlKQogICAgICAgIHN0YXRlLmVzcCA9IHZhbHVlCiAgICAgICAgaWYgdmFsdWUgdGhlbgogICAgICAgICAgICByZWZyZXNoRVNQQ29ubmVjdGlvbnMoKQogICAgICAgIGVsc2UKICAgICAgICAgICAgZm9yIF8sIHBsYXllciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBwbGF5ZXIgfj0gTG9jYWxQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIHBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFU1AocGxheWVyLkNoYXJhY3RlcikKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0UGxheWVyRVNQKHBsYXllcikKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgpDaGFtc1NlY3Rpb246Q3JlYXRlQ29sb3JQaWNrZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlhR2hpV0UxblVtMXNjMkpEUWtSaU1uaDJZMmM5UFE9PScpKSkpLAogICAgQ29sb3IgPSBlc3BDb2xvciwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oYykKICAgICAgICBlc3BDb2xvciA9IGMKICAgICAgICBmb3IgXywgcCBpbiBwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAg', [33]='ICAgICAgICAgaWYgcC5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZSA9IHAuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSldUbEU9JykpKSkpCiAgICAgICAgICAgICAgICBpZiBlIGFuZCBlOklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IYkc1aFIzaHdXakpvTUE9PScpKSkpKSB0aGVuIGUuRmlsbENvbG9yID0gZXNwQ29sb3IgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpDaGFtc1NlY3Rpb246Q3JlYXRlQ29sb3JQaWNrZXIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRXlhR2hpV0UxblZETldNR0pIYkhWYVUwSkVZako0ZG1OblBUMD0nKSkpKSwKICAgIENvbG9yID0gZXNwT3V0bGluZUNvbG9yLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihjKQogICAgICAgIGVzcE91dGxpbmVDb2xvciA9IGMKICAgICAgICBmb3IgXywgcCBpbiBwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcC5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZSA9IHAuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSldUbEU9JykpKSkpCiAgICAgICAgICAgICAgICBpZiBlIGFuZCBlOklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IYkc1aFIzaHdXakpvTUE9PScpKSkpKSB0aGVuIGUuT3V0bGluZUNvbG9yID0gZXNwT3V0bGluZUNvbG9yIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgQ2FtZXJhU2VjdGlvbiA9IFZpc3VhbHNUYWI6Q3JlYXRlU2VjdGlvbigoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEV5Um5SYVdFcG8nKSkpKSkKCmNvbm5lY3Rpb25zLm5hbWVwbGF0ZXMgPSBjb25uZWN0aW9ucy5uYW1lcGxhdGVzIG9yIHt9Cgpsb2NhbCBmdW5jdGlvbiBhcHBseU5hbWVwbGF0ZShjaGFyYWN0ZXIsIHBsYXllcikKICAgIGlmIG5vdCBjaGFyYWN0ZXIgb3Igbm90IHBsYXllciBvciBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOV2JHWlVhMFpPVWxaQ1RWRldVa1k9JykpKSkpIHRoZW4gcmV0dXJuIGVuZAogICAgbG9jYWwgaGVhZCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5IVm1oYVFUMDknKSkpKSkKICAgIGlmIG5vdCBoZWFkIHRoZW4gcmV0dXJuIGVuZAogICAgCiAgICBsb2NhbCBob2xkZXIgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGdGJITmlSMHAyV1ZoS2ExSXpWbkE9JykpKSkpCiAgICBob2xkZXIuTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTldiR1pVYTBaT1VsWkNUVkZXVWtZPScpKSkpCiAgICBob2xkZXIuQWRvcm5lZSA9IGhlYWQKICAgIGhvbGRlci5TaXplID0gVURpbTIubmV3KDAsIDE1MCwgMCwgNTApCiAgICBob2xkZXIuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAyLjIsIDApCiAgICBob2xkZXIuQWx3YXlzT25Ub3AgPSB0cnVlCiAgICBob2xkZXIuUGFyZW50ID0gY2hhcmFjdGVyCiAgICAKICAgIGxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWalJrUlhob1dXMVdjdz09JykpKSksIGhvbGRlcikKICAgIGxhYmVsLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBsYWJlbC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCiAgICBsYWJlbC5UZXh0U2l6ZSA9IDE0CiAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgbGFiZWwuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAKICAgIGxhYmVsLlRleHQgPSBwbGF5ZXIuTmFtZQplbmQKCmxvY2FsIGZ1bmN0aW9uIHJlbW92ZU5hbWVwbGF0ZShjaGFyYWN0ZXIpCiAgICBpZiBub3QgY2hhcmFjdGVyIHRoZW4gcmV0dXJuIGVuZAogICAgbG9jYWwgaW5zdCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5XYkdaVWEwWk9VbFpDVFZGV1VrWT0nKSkpKSkKICAgIGlmIGluc3QgdGhlbiBpbnN0OkRlc3Ryb3koKSBlbmQKZW5kCgpFU1BTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSdFJuUmFXRUp6V1ZoU2JHTjNQVDA9JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBzdGF0ZS5uYW1lcGxhdGVzID0gdgogICAgICAgIGZvciBfLCBwIGluIHBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgICAgICBpZiBwIH49IExvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgIGlmIHYgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIHAuQ2hhcmFjdGVyIHRoZW4gYXBwbHlOYW1lcGxhdGUocC5DaGFyYWN0ZXIsIHApIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjb25uZWN0aW9ucy5uYW1lcGxhdGVzW3BdIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMubmFtZXBsYXRlc1twXSA9IHAuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihjKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3RhdGUubmFtZXBsYXRlcyB0aGVuIGFwcGx5TmFtZXBsYXRlKGMsIHApIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgaWYgcC5DaGFyYWN0ZXIgdGhlbiByZW1vdmVOYW1lcGxhdGUocC5DaGFyYWN0ZXIpIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIGNvbm5lY3Rpb25zLm5hbWVwbGF0ZXNbcF0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5uYW1lcGxhdGVzW3BdOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5uYW1lcGxhdGVzW3BdID0gbmlsCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCi0tID09PT09PT09PT0gR0FNRSBUQUIgPT09PT09PT09PQpsb2NhbCBHYW1lVGFiID0gV2luZG93OkNyZWF0ZVRhYih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xJeVJuUmFVVDA5JykpKSksCiAgICBJY29uID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xveVJuUmFXRTA5JykpKSksCiAgICBJbWFnZVNvdXJjZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSakJhV0Vwd1dWZDNQUT09JykpKSkKfSkKCmxvY2FsIEdhbWVTZWN0aW9uID0gR2FtZVRhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSXlSblJhVTBKVVdsaFNNR0ZYTlc1amR6MDknKSkpKSkKCkdhbWVTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWE5UQmhVekZDVW10elBRPT0nKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIHN0YXRlLmFudGlBRksgPSB2CiAgICAgICAgaWYgY29ubmVj', [34]='dGlvbnMuYW50aUFGSyB0aGVuCiAgICAgICAgICAgIGNvbm5lY3Rpb25zLmFudGlBRks6RGlzY29ubmVjdCgpCiAgICAgICAgICAgIGNvbm5lY3Rpb25zLmFudGlBRksgPSBuaWwKICAgICAgICBlbmQKICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgY29ubmVjdGlvbnMuYW50aUFGSyA9IExvY2FsUGxheWVyLklkbGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgc3RhdGUuYW50aUFGSyBhbmQgVmlydHVhbFVzZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIFZpcnR1YWxVc2VyOkNhcHR1cmVDb250cm9sbGVyKCkKICAgICAgICAgICAgICAgICAgICBWaXJ0dWFsVXNlcjpDbGlja0J1dHRvbjIoVmVjdG9yMi5uZXcoKSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICAgICAgcXVldWVDb25maWdTYXZlKCkKICAgIGVuZAp9KQoKR2FtZVNlY3Rpb246Q3JlYXRlQnV0dG9uKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZ0Vm5GaU1teDFTVVpPYkdOdVdteGpaejA5JykpKSksCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBUZWxlcG9ydFNlcnZpY2U6VGVsZXBvcnRUb1BsYWNlSW5zdGFuY2UoZ2FtZS5QbGFjZUlkLCBnYW1lLkpvYklkLCBMb2NhbFBsYXllcikKICAgIGVuZAp9KQoKR2FtZVNlY3Rpb246Q3JlYXRlU2xpZGVyKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEl6U21oa2JXd3daVkU5UFE9PScpKSkpLAogICAgUmFuZ2UgPSB7MCwgMTk2fSwKICAgIEluY3JlbWVudCA9IDEsCiAgICBDdXJyZW50VmFsdWUgPSBzdGF0ZS5kZXNpcmVkR3Jhdml0eSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgc3RhdGUuZGVzaXJlZEdyYXZpdHkgPSB2YWx1ZQogICAgICAgIHdvcmtzcGFjZS5HcmF2aXR5ID0gdmFsdWUKICAgICAgICBpZiBieXBhc3NTZXR0aW5ncy5Nb3ZlbWVudCB0aGVuCiAgICAgICAgICAgIGVuZm9yY2VHcmF2aXR5KCkKICAgICAgICBlbmQKICAgICAgICBxdWV1ZUNvbmZpZ1NhdmUoKQogICAgZW5kCn0pCgotLSA9PT09PT09PT09IFRPT0xTIFRBQiA9PT09PT09PT09CmxvY2FsIFRvb2xzVGFiID0gV2luZG93OkNyZWF0ZVRhYih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSE9YWmlTRTA5JykpKSksCiAgICBJY29uID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xsdVZuQmlSMUU5JykpKSksCiAgICBJbWFnZVNvdXJjZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSakJhV0Vwd1dWZDNQUT09JykpKSkKfSkKCmxvY2FsIFRvb2xzU2VjdGlvbiA9IFRvb2xzVGFiOkNyZWF0ZVNlY3Rpb24oKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSE9YWmlRMEpPV1ZjMWFGb3lWblJhVnpVdycpKSkpKQoKVG9vbHNTZWN0aW9uOkNyZWF0ZUJ1dHRvbih7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xKSFZuTmFXRkpzU1VaU2RtSXlkejA9JykpKSksCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCB0ID0gQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFpIT1haaVFUMDknKSkpKSkKICAgICAgICBpZiB0IHRoZW4gdDpEZXN0cm95KCkgZW5kCiAgICBlbmQKfSkKClRvb2xzU2VjdGlvbjpDcmVhdGVCdXR0b24oewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sSklTblpqUTBKQ1lrZDNaMVpIT1haaVNFMDknKSkpKSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGZvciBfLCB0IGluIHBhaXJzKExvY2FsUGxheWVyLkJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHQ6SXNBKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhPWFppUVQwOScpKSkpKSB0aGVuIHQuUGFyZW50ID0gd29ya3NwYWNlIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBTcGVjdGF0ZVNlY3Rpb24gPSBUb29sc1RhYjpDcmVhdGVTZWN0aW9uKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXpRbXhaTTFKb1pFZFZaMVJYT1d0YVVUMDknKSkpKSkKClNwZWN0YXRlU2VjdGlvbjpDcmVhdGVUb2dnbGUoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXpRbXhaTTFKb1pFZFZaMVJYT1d0YVVUMDknKSkpKSwKICAgIEN1cnJlbnRWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBpZiB2YWx1ZSB0aGVuCiAgICAgICAgICAgIGxvY2FsIGd1aSA9IEluc3RhbmNlLm5ldygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV5VG5sYVYxWjFVak5XY0E9PScpKSkpKQogICAgICAgICAgICBndWkuTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sVXpRbXhaTTFKb1pFZFdRbU51U25aa00wMDknKSkpKQogICAgICAgICAgICBndWkuUmVzZXRPblNwYXduID0gZmFsc2UKICAgICAgICAgICAgZ3VpLlBhcmVudCA9IExvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFZIZUdobFYxWjVVak5XY0E9PScpKSkpKQogICAgICAgICAgICBndWkuSWdub3JlR3VpSW5zZXQgPSB0cnVlCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBsZWZ0ID0gSW5zdGFuY2UubmV3KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sWkhWalJrUlVveFpFaFNkbUpuUFQwPScpKSkpKQogICAgICAgICAgICBsZWZ0LlNpemUgPSBVRGltMi5uZXcoMCwgNTAsIDAsIDUwKQogICAgICAgICAgICBsZWZ0LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgLTYwLCAxLCAtNjApCiAgICAgICAgICAgIGxlZnQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICBsZWZ0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig1MCwgNTAsIDUwKQogICAgICAgICAgICBsZWZ0LlRleHQgPSAiPCIKICAgICAgICAgICAgbGVmdC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgbGVmdC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCiAgICAgICAgICAgIGxlZnQuVGV4dFNpemUgPSAzMAogICAgICAgICAgICBsZWZ0LlBhcmVudCA9IGd1aQogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgcmlnaHQgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xaSFZqUmtSVW94WkVoU2RtSm5QVDA9JykpKSkpCiAgICAgICAgICAgIHJpZ2h0LlNpemUgPSBVRGltMi5uZXcoMCwgNTAsIDAsIDUwKQogICAgICAgICAgICByaWdodC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDEwLCAxLCAtNjApCiAgICAgICAgICAgIHJpZ2h0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgcmlnaHQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDUwLCA1MCwgNTApCiAgICAgICAgICAgIHJpZ2h0LlRleHQgPSAiPiIKICAgICAgICAgICAgcmlnaHQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgIHJpZ2h0LkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2Fuc0JvbGQKICAgICAgICAgICAgcmlnaHQuVGV4dFNpemUgPSAzMAogICAgICAgICAgICByaWdodC5QYXJlbnQgPSBndWkKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGlk', [35]='eCwgdGd0LCBwcmV2ID0gMCwgbmlsLCB7fQogICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzdG9wKCkKICAgICAgICAgICAgICAgIGlmIG5vdCB0Z3QgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgICAgICB0Z3QgPSBuaWwKICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjYW0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGh1bSA9IExvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVm5SWlZ6VjJZVmRSUFE9PScpKSkpKQogICAgICAgICAgICAgICAgICAgIGlmIGh1bSB0aGVuIGNhbS5DYW1lcmFTdWJqZWN0ID0gaHVtIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIHByZXYuQ2FtZXJhVHlwZSB0aGVuIGNhbS5DYW1lcmFUeXBlID0gcHJldi5DYW1lcmFUeXBlIGVuZAogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGdvKHApCiAgICAgICAgICAgICAgICBsb2NhbCBwcyA9IHt9CiAgICAgICAgICAgICAgICBmb3IgXywgcGwgaW4gaXBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHBsIH49IExvY2FsUGxheWVyIGFuZCBwbC5DaGFyYWN0ZXIgYW5kIHBsLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkUlBRPT0nKSkpKSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBua2hCY2l6bXUuaW5zZXJ0KHBzLCBwbCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgdGFibGUuc29ydChwcywgZnVuY3Rpb24oYSwgYikgcmV0dXJuIGEuTmFtZSA8IGIuTmFtZSBlbmQpCiAgICAgICAgICAgICAgICBpZiAjcHMgPT0gMCB0aGVuIHN0b3AoKSBpZHggPSAwIHJldHVybiBlbmQKICAgICAgICAgICAgICAgIGlmIHAgPCAxIHRoZW4gcCA9ICNwcyBlbHNlaWYgcCA+ICNwcyB0aGVuIHAgPSAxIGVuZAogICAgICAgICAgICAgICAgaWR4ID0gcAogICAgICAgICAgICAgICAgbG9jYWwgdGFyID0gcHNbcF0KICAgICAgICAgICAgICAgIGlmIHRhciBhbmQgdGFyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHVtID0gdGFyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkUlBRPT0nKSkpKSkKICAgICAgICAgICAgICAgICAgICBpZiBodW0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjYW0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5TdWJqZWN0ID0gY2FtLkNhbWVyYVN1YmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuQ2FtZXJhVHlwZSA9IGNhbS5DYW1lcmFUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW0uQ2FtZXJhU3ViamVjdCA9IGh1bQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FtLkNhbWVyYVR5cGUgPSBFbnVtLkNhbWVyYVR5cGUuQ3VzdG9tCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Z3QgPSB0YXIKICAgICAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbGVmdC5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkgZ28oaWR4IC0gMSkgZW5kKQogICAgICAgICAgICByaWdodC5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkgZ28oaWR4ICsgMSkgZW5kKQogICAgICAgICAgICBnbygxKQogICAgICAgIGVsc2UKICAgICAgICAgICAgbG9jYWwgZ3VpID0gTG9jYWxQbGF5ZXI6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xWSGVHaGxWMVo1VWpOV2NBPT0nKSkpKSkgYW5kIExvY2FsUGxheWVyLlBsYXllckd1aTpGaW5kRmlyc3RDaGlsZCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV6UW14Wk0xSm9aRWRXUW1OdVNuWmtNMDA5JykpKSkpCiAgICAgICAgICAgIGlmIGd1aSB0aGVuIGd1aTpEZXN0cm95KCkgZW5kCiAgICAgICAgICAgIGxvY2FsIGNhbSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCiAgICAgICAgICAgIGxvY2FsIGh1bSA9IExvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE5JVm5SWlZ6VjJZVmRSUFE9PScpKSkpKQogICAgICAgICAgICBpZiBodW0gdGhlbiBjYW0uQ2FtZXJhU3ViamVjdCA9IGh1bSBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKLS0gPT09PT09PT09PSBPVEhFUiBUQUIgPT09PT09PT09PQpsb2NhbCBPdGhlclRhYiA9IFdpbmRvdzpDcmVhdGVUYWIoewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUXpVbTlhV0VrOScpKSkpLAogICAgSWNvbiA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tTXlWakJrUjJ4MVdqTk5QUT09JykpKSksCiAgICBJbWFnZVNvdXJjZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sUlhSakJhV0Vwd1dWZDNQUT09JykpKSkKfSkKCmxvY2FsIE90aGVyU2VjdGlvbiA9IE90aGVyVGFiOkNyZWF0ZVNlY3Rpb24oKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xSWGJIcFpNbFp6WWtkR2RWcFhPVEZqZHowOScpKSkpKQoKT3RoZXJTZWN0aW9uOkNyZWF0ZUxhYmVsKHsKICAgIFRleHQgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJ0T1RCYVZHOW5VVEpvZG1JelRteEpTRkp2V2xOQ2VXRlhaRzlrUTBKb1ltMXNkRmxZVW5CaU1qUm5aRWhzZDFwVFFtMWlNMGxuWlZjNU1XTnBRbXBoUjBaNVdWZE9NRnBZU1dkTFJra3lTVWM1ZVVsR1NYaE9VMnM5JykpKSkKfSkKCk90aGVyU2VjdGlvbjpDcmVhdGVCdXR0b24oewogICAgTmFtZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTnRWbmxoZVVKUVdtMVpaMHRHU1RKTFVUMDknKSkpKSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tRklVakJqU0UwMlRIazVkMWxZVGpCYVYxbzFURzFHZDJORE9UTlpWRTR5VFd4YWJtSlRPWGxaV0dNOScpKSkpKSkoKQogICAgZW5kCn0pCgpPdGhlclNlY3Rpb246Q3JlYXRlQnV0dG9uKHsKICAgIE5hbWUgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbE50Vm5saGVVSlFXbTFaWjB0R1NYaE9VMnM5JykpKSksCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbUZJVWpCalNFMDJUSGs1ZDFsWVRqQmFWMW8xVEcxR2QyTkRPVnBYYlRsdVlrVTVOVk5wT1hsWldHTTknKSkpKSkpKCkKICAgIGVuZAp9KQoKT3RoZXJTZWN0aW9uOkNyZWF0ZVRvZ2dsZSh7CiAgICBOYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2', [36]='NDpZalkwT2xSWVZucGhWMDA5JykpKSksCiAgICBDdXJyZW50VmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBsb2NhbCBzb3VuZCA9IHN0YXRlLm11c2ljU291bmQKICAgICAgICBpZiB2IHRoZW4KICAgICAgICAgICAgaWYgbm90IHNvdW5kIG9yIG5vdCBzb3VuZC5QYXJlbnQgdGhlbgogICAgICAgICAgICAgICAgc291bmQgPSBJbnN0YW5jZS5uZXcoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xVeU9URmliVkU5JykpKSkpCiAgICAgICAgICAgICAgICBzb3VuZC5OYW1lID0gKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xGWFZubGlNREV4WXpKc2FnPT0nKSkpKQogICAgICAgICAgICAgICAgc291bmQuU291bmRJZCA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9tTnRTalJaV0U1NldsaFNjRnBFYjNaTWVrVXdUV3BOTTA1cVFUUlBRVDA5JykpKSkKICAgICAgICAgICAgICAgIHNvdW5kLkxvb3BlZCA9IHRydWUKICAgICAgICAgICAgICAgIHNvdW5kLlZvbHVtZSA9IDAuNQogICAgICAgICAgICAgICAgc291bmQuUGFyZW50ID0gd29ya3NwYWNlCiAgICAgICAgICAgICAgICBzb3VuZDpQbGF5KCkKICAgICAgICAgICAgICAgIHNvdW5kLkxvYWRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBwcmludCgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJZVm5waFYwMW5Za2M1YUZwSFZtdEpTRTR4V1RKT2JHTXpUbTFrVjNoelpWTkZQUT09JykpKSkpCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICBzb3VuZC5Tb3VuZEZhaWxlZFRvTG9hZDpDb25uZWN0KGZ1bmN0aW9uKGlkLCBlcnIpCiAgICAgICAgICAgICAgICAgICAgd2FybigoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFJZVm5waFYwMW5XbTFHY0dKSFZtdFBhVUU5JykpKSkgLi4gZXJyKQogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgc3RhdGUubXVzaWNTb3VuZCA9IHNvdW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVsc2UKICAgICAgICAgICAgaWYgc291bmQgYW5kIHNvdW5kLlBhcmVudCB0aGVuCiAgICAgICAgICAgICAgICBzb3VuZDpTdG9wKCkKICAgICAgICAgICAgICAgIHNvdW5kOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgc3RhdGUubXVzaWNTb3VuZCA9IG5pbAogICAgICAgIGVuZAogICAgZW5kCn0pCgotLSBDaGFyYWN0ZXIgQWRkZWQgSGFuZGxlcgpMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGMpCiAgICB0YXNrLndhaXQoMC4xKQogICAgQ2hhcmFjdGVyID0gYwogICAgSHVtYW5vaWQgPSBjOkZpbmRGaXJzdENoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFJQUT09JykpKSkpIG9yIGM6V2FpdEZvckNoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFJQUT09JykpKSkpCiAgICBSb290UGFydCA9IGM6RmluZEZpcnN0Q2hpbGQoKElrZW5rU2coKElrZW5rU2coJ2I2NDpZalkwT2xOSVZuUlpWelYyWVZkU1UySXlPVEJWUjBaNVpFRTlQUT09JykpKSkpIG9yIGM6V2FpdEZvckNoaWxkKChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sTklWblJaVnpWMllWZFNVMkl5T1RCVlIwWjVaRUU5UFE9PScpKSkpKQoKICAgIGlmIEh1bWFub2lkIHRoZW4KICAgICAgICBIdW1hbm9pZC5XYWxrU3BlZWQgPSBzdGF0ZS5kZXNpcmVkV2Fsa1NwZWVkCiAgICAgICAgSHVtYW5vaWQuSnVtcFBvd2VyID0gc3RhdGUuZGVzaXJlZEp1bXBQb3dlcgogICAgZW5kCgogICAgcmVmcmVzaE1vdmVtZW50QnlwYXNzKCkKCgogICAgCiAgICBpZiBzdGF0ZS5ub2NsaXAgYW5kIGNvbm5lY3Rpb25zLm5vY2xpcCB0aGVuCiAgICAgICAgY29ubmVjdGlvbnMubm9jbGlwOkRpc2Nvbm5lY3QoKQogICAgICAgIGNvbm5lY3Rpb25zLm5vY2xpcCA9IFJ1blNlcnZpY2UuU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgZm9yIF8sIHAgaW4gcGFpcnMoQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICBpZiBwOklzQSgoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbEZ0Um5wYVZrSm9ZMjVSUFE9PScpKSkpKSB0aGVuIHAuQ2FuQ29sbGlkZSA9IGZhbHNlIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKICAgIAogICAgaWYgc3RhdGUuZXNwIHRoZW4KICAgICAgICBmb3IgXywgcCBpbiBwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcCB+PSBMb2NhbFBsYXllciBhbmQgcC5DaGFyYWN0ZXIgdGhlbiBhcHBseUVTUChwLkNoYXJhY3RlcikgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQoKLS0gU3RhcnR1cApwY2FsbChmdW5jdGlvbigpCiAgICBpZiBMdW5hIGFuZCBMdW5hLkxvYWRBdXRvTG9hZENvbmZpZyB0aGVuIEx1bmE6TG9hZEF1dG9Mb2FkQ29uZmlnKCkgZW5kCmVuZCkKCi0tIFN0YXJ0dXAgTm90aWZpY2F0aW9ucwp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIEx1bmE6Tm90aWZpY2F0aW9uKHtUaXRsZSA9IChJa2Vua1NnKChJa2Vua1NnKCdiNjQ6WWpZME9sRlhWbmxpZVVKSlpGZEpQUT09JykpKSksIENvbnRlbnQgPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbFV5VG5saFdFSXdTVVY0ZGxsWFVteGFRMEpVWkZkT2FscFlUbnBhYmxaellraHJQUT09JykpKSksIEljb24gPSAoSWtlbmtTZygoSWtlbmtTZygnYjY0OllqWTBPbGt5YUd4Wk1uUm1XVEpzZVZreWVHdz0nKSkpKSwgRHVyYXRpb24gPSAzfSkKZW5kKQoKCg=='}))

        local function get_env()
            if getfenv then return getfenv() end
            return _ENV
        end
        local env = get_env()

        local function execute_code(func_to_run)
            local success, result = pcall(func_to_run)
            if not success then error("Execution Error: "..tostring(result)) end
            return result
        end

        -- Ensure the loaded function runs in the correct global environment
        -- This is crucial for Roblox/various environments
        local function run_in_env(func)
            if setfenv then
                setfenv(func, env)
            end
            return execute_code(func)
        end
        
        run_in_env(FULL_CODE_FUNCTION)
    
